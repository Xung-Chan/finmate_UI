<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/ibanking_kltn/ui/screens/SpendingFundDetail.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/ibanking_kltn/ui/screens/SpendingFundDetail.kt" />
              <option name="originalContent" value="package com.example.ibanking_kltn.ui.screens&#10;&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.layout.systemBarsPadding&#10;import androidx.compose.foundation.layout.width&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.ArrowBackIosNew&#10;import androidx.compose.material3.CircularProgressIndicator&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.NavigationBar&#10;import androidx.compose.material3.NavigationBarItem&#10;import androidx.compose.material3.NavigationBarItemDefaults&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.TopAppBar&#10;import androidx.compose.material3.TopAppBarDefaults&#10;import androidx.compose.material3.pulltorefresh.PullToRefreshBox&#10;import androidx.compose.material3.pulltorefresh.PullToRefreshDefaults&#10;import androidx.compose.material3.pulltorefresh.rememberPullToRefreshState&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.shadow&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.SpanStyle&#10;import androidx.compose.ui.text.buildAnnotatedString&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.text.style.TextOverflow&#10;import androidx.compose.ui.text.withStyle&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.paging.LoadState&#10;import androidx.paging.PagingData&#10;import androidx.paging.compose.LazyPagingItems&#10;import androidx.paging.compose.collectAsLazyPagingItems&#10;import com.example.ibanking_kltn.R&#10;import com.example.ibanking_kltn.dtos.definitions.SpendingRecordType&#10;import com.example.ibanking_kltn.dtos.responses.SpendingCategoryDetailResponse&#10;import com.example.ibanking_kltn.dtos.responses.SpendingRecordResponse&#10;import com.example.ibanking_kltn.dtos.responses.SpendingSnapshotDetailResponse&#10;import com.example.ibanking_kltn.ui.event.SpendingDetailEvent&#10;import com.example.ibanking_kltn.ui.theme.AppTypography&#10;import com.example.ibanking_kltn.ui.theme.Black1&#10;import com.example.ibanking_kltn.ui.theme.Blue1&#10;import com.example.ibanking_kltn.ui.theme.Blue3&#10;import com.example.ibanking_kltn.ui.theme.Blue5&#10;import com.example.ibanking_kltn.ui.theme.Blue6&#10;import com.example.ibanking_kltn.ui.theme.Gray1&#10;import com.example.ibanking_kltn.ui.theme.Gray2&#10;import com.example.ibanking_kltn.ui.theme.Green2&#10;import com.example.ibanking_kltn.ui.theme.Green3&#10;import com.example.ibanking_kltn.ui.theme.Red3&#10;import com.example.ibanking_kltn.ui.theme.White1&#10;import com.example.ibanking_kltn.ui.theme.White3&#10;import com.example.ibanking_kltn.ui.uistates.ChartType&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailState&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailTab&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailUiState&#10;import com.example.ibanking_kltn.utils.CustomBarChart&#10;import com.example.ibanking_kltn.utils.CustomPieChart&#10;import com.example.ibanking_kltn.utils.ProgressBarWithLabel&#10;import com.example.ibanking_kltn.utils.RetryCompose&#10;import com.example.ibanking_kltn.utils.colorFromLabel&#10;import com.example.ibanking_kltn.utils.customClick&#10;import com.example.ibanking_kltn.utils.formatterDateTimeString&#10;import com.example.ibanking_kltn.utils.formatterVND&#10;import com.example.ibanking_kltn.utils.shimmerEffect&#10;import ir.ehsannarmani.compose_charts.models.Bars&#10;import ir.ehsannarmani.compose_charts.models.Pie&#10;import kotlinx.coroutines.flow.flowOf&#10;import java.math.BigDecimal&#10;import java.time.LocalDateTime&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun SpendingSnapshotDetail(&#10;    uiState: SpendingDetailUiState,&#10;    records: LazyPagingItems&lt;SpendingRecordResponse&gt;,&#10;    onBackClick: () -&gt; Unit,&#10;    onEvent: (SpendingDetailEvent) -&gt; Unit&#10;) {&#10;    val scrollState = rememberScrollState(0)&#10;    when (uiState.screenState) {&#10;        SpendingDetailState.INIT -&gt; {&#10;            Scaffold(&#10;                topBar = {&#10;                    TopAppBar(&#10;                        title = {&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .width(120.dp)&#10;                                    .height(20.dp)&#10;                                    .background(&#10;                                        color = Gray2.copy(alpha = 0.5f),&#10;                                        shape = RoundedCornerShape(4.dp)&#10;                                    )&#10;                                    .shimmerEffect()&#10;                            )&#10;                        },&#10;                        navigationIcon = {&#10;                            IconButton(onClick = { onBackClick() }) {&#10;                                Icon(&#10;                                    Icons.Default.ArrowBackIosNew,&#10;                                    contentDescription = null,&#10;                                    modifier = Modifier.size(25.dp)&#10;                                )&#10;                            }&#10;                        },&#10;                        colors = TopAppBarDefaults.topAppBarColors(&#10;                            titleContentColor = Black1,&#10;                            containerColor = White3&#10;                        ),&#10;                    )&#10;                },&#10;                bottomBar = {&#10;                    NavigationBar(&#10;                        containerColor = White3,&#10;                    ) {&#10;                        NavigationBarItem(&#10;                            selected = uiState.selectedTab == SpendingDetailTab.OVERVIEW,&#10;                            onClick = { },&#10;                            icon = {&#10;                                Icon(&#10;                                    painter = painterResource(R.drawable.analytic),&#10;                                    contentDescription = null&#10;                                )&#10;                            },&#10;                            label = { Text(&quot;Tổng quan&quot;) },&#10;                            colors = NavigationBarItemDefaults.colors(&#10;                                selectedIconColor = Blue3,&#10;                                selectedTextColor = Blue3,&#10;                                indicatorColor = Blue5.copy(alpha = 0.1f)&#10;                            ),&#10;                        )&#10;                        NavigationBarItem(&#10;                            selected = uiState.selectedTab == SpendingDetailTab.HISTORY,&#10;                            onClick = { },&#10;                            icon = {&#10;                                Icon(&#10;                                    painter = painterResource(R.drawable.history),&#10;                                    contentDescription = null&#10;                                )&#10;                            },&#10;                            label = { Text(&quot;Lịch sử giao dịch&quot;) },&#10;                            colors = NavigationBarItemDefaults.colors(&#10;                                selectedIconColor = Blue3,&#10;                                selectedTextColor = Blue3,&#10;                                indicatorColor = Blue5.copy(alpha = 0.1f)&#10;                            ),&#10;                        )&#10;                    }&#10;                },&#10;                modifier = Modifier.systemBarsPadding(),&#10;                containerColor = White3&#10;            ) { paddingValues -&gt;&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .padding(paddingValues)&#10;                ) {&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(horizontal = 20.dp),&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        SpendingHeaderSkeleton()&#10;&#10;                        when (uiState.selectedTab) {&#10;                            SpendingDetailTab.OVERVIEW -&gt; OverviewSkeleton()&#10;                            SpendingDetailTab.HISTORY -&gt; TransactionHistorySkeleton()&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        SpendingDetailState.INIT_FAILED -&gt; {&#10;            Scaffold(&#10;                topBar = {&#10;                    TopAppBar(&#10;                        title = {&#10;                            Text(text = &quot;Trở lại&quot;)&#10;                        },&#10;                        navigationIcon = {&#10;                            IconButton(onClick = {&#10;                                onBackClick()&#10;                            }) {&#10;                                Icon(&#10;                                    Icons.Default.ArrowBackIosNew, contentDescription = null,&#10;                                    modifier = Modifier.size(25.dp)&#10;                                )&#10;                            }&#10;                        },&#10;                        colors = TopAppBarDefaults.topAppBarColors(&#10;                            titleContentColor = Black1,&#10;                            containerColor = White3&#10;                        ),&#10;                    )&#10;                }) { paddingValue -&gt;&#10;                Column(&#10;                    modifier = Modifier.padding(paddingValue)&#10;                ) {&#10;                    RetryCompose(&#10;                        onRetry = {&#10;                            onEvent(&#10;                                SpendingDetailEvent.RetryLoadData&#10;                            )&#10;                        },&#10;                    )&#10;                }&#10;&#10;            }&#10;        }&#10;&#10;        else -&gt; {&#10;            if (uiState.spendingSnapshot == null) {&#10;                return&#10;            }&#10;            Scaffold(&#10;                topBar = {&#10;                    TopAppBar(&#10;                        title = {&#10;                            Text(text = uiState.spendingSnapshot.snapshotName)&#10;                        },&#10;                        navigationIcon = {&#10;                            IconButton(onClick = {&#10;                                onBackClick()&#10;                            }) {&#10;                                Icon(&#10;                                    Icons.Default.ArrowBackIosNew, contentDescription = null,&#10;                                    modifier = Modifier.size(25.dp)&#10;                                )&#10;                            }&#10;                        },&#10;                        colors = TopAppBarDefaults.topAppBarColors(&#10;                            titleContentColor = Black1,&#10;                            containerColor = White3&#10;                        ),&#10;                    )&#10;                },&#10;                bottomBar = {&#10;                    NavigationBar(&#10;                        containerColor = White3,&#10;                    ) {&#10;                        NavigationBarItem(&#10;                            selected = uiState.selectedTab == SpendingDetailTab.OVERVIEW,&#10;                            onClick = {&#10;                                if (uiState.selectedTab != SpendingDetailTab.OVERVIEW)&#10;                                    onEvent(&#10;                                        SpendingDetailEvent.ChangeTab&#10;                                    )&#10;&#10;                            },&#10;                            icon = {&#10;                                Icon(&#10;                                    painter = painterResource(R.drawable.analytic),&#10;                                    contentDescription = null&#10;                                )&#10;                            },&#10;                            label = { Text(&quot;Tổng quan&quot;) },&#10;                            colors = NavigationBarItemDefaults.colors(&#10;                                selectedIconColor = Blue3,&#10;                                selectedTextColor = Blue3,&#10;                                indicatorColor = Blue5.copy(&#10;                                    alpha = 0.1f&#10;                                )&#10;                            ),&#10;                        )&#10;                        NavigationBarItem(&#10;                            selected = uiState.selectedTab == SpendingDetailTab.HISTORY,&#10;                            onClick = {&#10;                                if (uiState.selectedTab != SpendingDetailTab.HISTORY)&#10;                                    onEvent(&#10;                                        SpendingDetailEvent.ChangeTab&#10;                                    )&#10;                            },&#10;                            icon = {&#10;                                Icon(&#10;                                    painter = painterResource(R.drawable.history),&#10;                                    contentDescription = null&#10;                                )&#10;                            },&#10;                            label = { Text(&quot;Lịch sử giao dịch&quot;) },&#10;                            colors = NavigationBarItemDefaults.colors(&#10;                                selectedIconColor = Blue3,&#10;                                selectedTextColor = Blue3,&#10;                                indicatorColor = Blue5.copy(&#10;                                    alpha = 0.1f&#10;                                )&#10;                            ),&#10;                        )&#10;                    }&#10;                },&#10;                modifier = Modifier.systemBarsPadding(),&#10;                containerColor = White3&#10;            ) { paddingValues -&gt;&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .padding(paddingValues)&#10;                        .then(&#10;                            if (uiState.selectedTab == SpendingDetailTab.OVERVIEW)&#10;                                Modifier.verticalScroll(scrollState)&#10;                            else&#10;                                Modifier&#10;                        )&#10;                ) {&#10;&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(horizontal = 20.dp),&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .shadow(&#10;                                    elevation = 30.dp,&#10;                                    shape = RoundedCornerShape(20.dp),&#10;                                    ambientColor = Black1.copy(alpha = 0.25f),&#10;                                    spotColor = Black1.copy(alpha = 0.25f)&#10;                                )&#10;                                .background(color = White1, shape = RoundedCornerShape(20.dp))&#10;                                .padding(10.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Mức chi tiêu&quot;,&#10;                                color = Gray1,&#10;                                style = AppTypography.bodySmall&#10;                            )&#10;                            Text(&#10;                                buildAnnotatedString {&#10;                                    withStyle(&#10;                                        style = SpanStyle(&#10;                                            fontSize = 16.sp,&#10;                                            color = Black1,&#10;                                            fontWeight = FontWeight.SemiBold&#10;                                        )&#10;&#10;                                    ) {&#10;                                        append(&quot;${formatterVND(uiState.spendingSnapshot.usedAmount.toLong())}đ&quot;)&#10;                                    }&#10;                                    withStyle(&#10;                                        style = SpanStyle(&#10;                                            fontSize = 13.sp,&#10;                                            color = Gray1&#10;                                        )&#10;&#10;                                    ) {&#10;                                        append(&#10;                                            &quot;/${formatterVND(uiState.spendingSnapshot.budgetAmount.toLong())}đ&quot;&#10;                                        )&#10;                                    }&#10;                                }&#10;                            )&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                            ) {&#10;&#10;                                Row(&#10;                                    modifier = Modifier&#10;                                        .weight(1f)&#10;                                        .background(&#10;                                            color = Blue6.copy(alpha = 0.3f),&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .customClick(&#10;                                            onClick = {&#10;                                                onEvent(&#10;                                                    SpendingDetailEvent.AddTransaction&#10;                                                )&#10;                                            },&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .padding(vertical = 10.dp),&#10;                                    verticalAlignment = Alignment.CenterVertically,&#10;                                    horizontalArrangement = Arrangement.spacedBy(&#10;                                        5.dp,&#10;                                        alignment = Alignment.CenterHorizontally&#10;                                    )&#10;                                ) {&#10;                                    Icon(&#10;                                        painter = painterResource(R.drawable.add_bold),&#10;                                        contentDescription = null,&#10;                                        tint = Blue1,&#10;                                        modifier = Modifier.size(16.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;Thêm giao dịch&quot;,&#10;                                        style = AppTypography.bodySmall,&#10;                                        color = Blue1&#10;                                    )&#10;                                }&#10;                                Row(&#10;                                    modifier = Modifier&#10;                                        .weight(1f)&#10;                                        .background(&#10;                                            color = Blue6.copy(alpha = 0.3f),&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .customClick(&#10;                                            onClick = {&#10;                                                onEvent(&#10;                                                    SpendingDetailEvent.ViewCategories&#10;                                                )&#10;&#10;                                            },&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .padding(vertical = 10.dp),&#10;                                    verticalAlignment = Alignment.CenterVertically,&#10;                                    horizontalArrangement = Arrangement.spacedBy(&#10;                                        5.dp,&#10;                                        alignment = Alignment.CenterHorizontally&#10;                                    )&#10;                                ) {&#10;                                    Icon(&#10;                                        painter = painterResource(R.drawable.layer),&#10;                                        contentDescription = null,&#10;                                        tint = Blue1,&#10;                                        modifier = Modifier.size(16.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;Danh mục&quot;,&#10;                                        style = AppTypography.bodySmall,&#10;                                        color = Blue1&#10;                                    )&#10;                                }&#10;&#10;&#10;                            }&#10;                        }&#10;                        Column(&#10;                            modifier = if (uiState.selectedTab == SpendingDetailTab.HISTORY)&#10;                                Modifier&#10;                                    .fillMaxWidth()&#10;                                    .weight(1f)&#10;                            else&#10;                                Modifier.fillMaxWidth(),&#10;                            verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                        ) {&#10;&#10;&#10;                            when (uiState.selectedTab) {&#10;&#10;                                SpendingDetailTab.OVERVIEW -&gt; Overview(&#10;                                    uiState = uiState,&#10;                                    onEvent = onEvent&#10;                                )&#10;&#10;                                SpendingDetailTab.HISTORY -&gt; TransactionHistory(&#10;                                    uiState = uiState,&#10;                                    records = records,&#10;                                )&#10;&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;&#10;                // Show categories dialog&#10;                if (uiState.isShowCategoriesDialog) {&#10;                    CategoriesDialog(&#10;                        categories = uiState.spendingSnapshot.spendingCategories,&#10;                        onDismiss = {&#10;                            onEvent(SpendingDetailEvent.ViewCategories)&#10;                        }&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;}&#10;&#10;@Composable&#10;private fun SpendingHeaderSkeleton() {&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .shadow(&#10;                elevation = 30.dp,&#10;                shape = RoundedCornerShape(20.dp),&#10;                ambientColor = Black1.copy(alpha = 0.25f),&#10;                spotColor = Black1.copy(alpha = 0.25f)&#10;            )&#10;            .background(color = White1, shape = RoundedCornerShape(20.dp))&#10;            .padding(10.dp),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .width(90.dp)&#10;                .height(14.dp)&#10;                .background(&#10;                    color = Gray2.copy(alpha = 0.5f),&#10;                    shape = RoundedCornerShape(4.dp)&#10;                )&#10;                .shimmerEffect()&#10;        )&#10;        Box(&#10;            modifier = Modifier&#10;                .width(150.dp)&#10;                .height(18.dp)&#10;                .background(&#10;                    color = Gray2.copy(alpha = 0.5f),&#10;                    shape = RoundedCornerShape(4.dp)&#10;                )&#10;                .shimmerEffect()&#10;        )&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            repeat(2) {&#10;                Box(&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .height(40.dp)&#10;                        .background(&#10;                            color = Gray2.copy(alpha = 0.3f),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .shimmerEffect()&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun OverviewSkeleton() {&#10;    Column(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        // Tab skeleton&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(&#10;                10.dp,&#10;                Alignment.End&#10;            ),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(width = 120.dp, height = 40.dp)&#10;                    .background(&#10;                        color = Gray2.copy(alpha = 0.3f),&#10;                        shape = RoundedCornerShape(10.dp)&#10;                    )&#10;                    .shimmerEffect()&#10;            )&#10;        }&#10;&#10;        // Overview cards skeleton&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            repeat(2) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .background(&#10;                            color = Gray2.copy(alpha = 0.2f),&#10;                            shape = RoundedCornerShape(15.dp)&#10;                        )&#10;                        .padding(vertical = 10.dp, horizontal = 20.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                ) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .width(60.dp)&#10;                            .height(12.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(4.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .width(80.dp)&#10;                            .height(16.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(4.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Chart skeleton&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(300.dp)&#10;                .background(&#10;                    color = Gray2.copy(alpha = 0.2f),&#10;                    shape = RoundedCornerShape(15.dp)&#10;                )&#10;                .shimmerEffect()&#10;        )&#10;&#10;        // Category list skeleton&#10;        Column(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            verticalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .width(180.dp)&#10;                    .height(14.dp)&#10;                    .background(&#10;                        color = Gray2.copy(alpha = 0.5f),&#10;                        shape = RoundedCornerShape(4.dp)&#10;                    )&#10;                    .shimmerEffect()&#10;            )&#10;&#10;            repeat(3) {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .size(15.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(3.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                    Column(&#10;                        modifier = Modifier.weight(1f),&#10;                        verticalArrangement = Arrangement.spacedBy(5.dp)&#10;                    ) {&#10;                        Row(&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            horizontalArrangement = Arrangement.SpaceBetween&#10;                        ) {&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .width(100.dp)&#10;                                    .height(14.dp)&#10;                                    .background(&#10;                                        color = Gray2.copy(alpha = 0.5f),&#10;                                        shape = RoundedCornerShape(4.dp)&#10;                                    )&#10;                                    .shimmerEffect()&#10;                            )&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .width(80.dp)&#10;                                    .height(14.dp)&#10;                                    .background(&#10;                                        color = Gray2.copy(alpha = 0.5f),&#10;                                        shape = RoundedCornerShape(4.dp)&#10;                                    )&#10;                                    .shimmerEffect()&#10;                            )&#10;                        }&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(8.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.3f),&#10;                                    shape = RoundedCornerShape(4.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun Overview(&#10;    uiState: SpendingDetailUiState,&#10;    onEvent: (SpendingDetailEvent) -&gt; Unit&#10;) {&#10;    if (uiState.spendingSnapshot == null) {&#10;        return&#10;    }&#10;&#10;&#10;    //tab&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.spacedBy(&#10;            10.dp,&#10;            Alignment.End&#10;        ),&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        when (uiState.chartType) {&#10;            ChartType.BAR -&gt; {&#10;                Row(&#10;                    modifier = Modifier&#10;                        .background(&#10;                            color = Gray2.copy(&#10;                                alpha = 0.3f&#10;                            ),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .padding(5.dp)&#10;                ) {&#10;                    Row(&#10;                        horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                        verticalAlignment = Alignment.CenterVertically,&#10;                        modifier = Modifier&#10;                            .background(&#10;                                color = Blue5.copy(&#10;                                    alpha = 0.2f&#10;                                ),&#10;                                shape = RoundedCornerShape(10.dp)&#10;                            )&#10;                            .padding(5.dp)&#10;                    ) {&#10;                        Icon(&#10;                            painter = painterResource(id = R.drawable.bar_chart),&#10;                            contentDescription = null,&#10;                            tint = Blue1,&#10;                            modifier = Modifier.size(25.dp)&#10;                        )&#10;                        Text(&#10;                            text = &quot;Chi tiết&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = Blue1&#10;                        )&#10;                    }&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .customClick {&#10;                                onEvent(&#10;                                    SpendingDetailEvent.ChangeChartType&#10;                                )&#10;                            }&#10;                            .padding(5.dp)&#10;                    ) {&#10;                        Icon(&#10;                            painter = painterResource(id = R.drawable.pie_chart),&#10;                            contentDescription = null,&#10;                            tint = Gray1,&#10;                            modifier = Modifier&#10;                                .size(25.dp)&#10;                        )&#10;                    }&#10;&#10;                }&#10;            }&#10;&#10;            ChartType.PIE -&gt; {&#10;                Row(&#10;                    modifier = Modifier&#10;                        .background(&#10;                            color = Gray2.copy(&#10;                                alpha = 0.3f&#10;                            ),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .padding(5.dp)&#10;                ) {&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .customClick {&#10;                                onEvent(&#10;                                    SpendingDetailEvent.ChangeChartType&#10;                                )&#10;                            }&#10;                            .padding(5.dp)&#10;                    ) {&#10;                        Icon(&#10;                            painter = painterResource(id = R.drawable.bar_chart),&#10;                            contentDescription = null,&#10;                            tint = Gray1,&#10;                            modifier = Modifier.size(25.dp)&#10;                        )&#10;                    }&#10;&#10;                    Row(&#10;                        horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                        verticalAlignment = Alignment.CenterVertically,&#10;                        modifier = Modifier&#10;                            .background(&#10;                                color = Blue5.copy(alpha = 0.2f),&#10;                                shape = RoundedCornerShape(10.dp)&#10;                            )&#10;                            .padding(5.dp)&#10;                    ) {&#10;                        Icon(&#10;                            painter = painterResource(id = R.drawable.pie_chart),&#10;                            contentDescription = null,&#10;                            tint = Blue1,&#10;                            modifier = Modifier.size(25.dp)&#10;                        )&#10;                        Text(&#10;                            text = &quot;Ngân sách&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = Blue1&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;        }&#10;    }&#10;    //overview&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .background(&#10;                    color = Green3.copy(&#10;                        alpha = 0.2f&#10;                    ),&#10;                    shape = RoundedCornerShape(15.dp)&#10;                )&#10;                .padding(vertical = 10.dp, horizontal = 20.dp)&#10;        ) {&#10;            Row(&#10;                horizontalArrangement = Arrangement.spacedBy(5.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.incoming_money),&#10;                    contentDescription = null,&#10;                    tint = Gray1,&#10;                    modifier = Modifier.size(14.dp)&#10;                )&#10;                Text(&#10;                    text = &quot;Ngân sách&quot;,&#10;                    style = AppTypography.labelMedium,&#10;                    color = Gray1&#10;                )&#10;            }&#10;            Text(&#10;                text = formatterVND(uiState.spendingSnapshot.budgetAmount.toLong()) + &quot;đ&quot;,&#10;                style = AppTypography.labelLarge.copy(&#10;                    fontWeight = FontWeight.SemiBold&#10;                ),&#10;                color = Black1&#10;            )&#10;        }&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .background(&#10;                    color = Red3.copy(&#10;                        alpha = 0.2f&#10;                    ),&#10;                    shape = RoundedCornerShape(15.dp)&#10;                )&#10;                .padding(vertical = 10.dp, horizontal = 20.dp)&#10;        ) {&#10;            Row(&#10;                horizontalArrangement = Arrangement.spacedBy(5.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.outgoing_money),&#10;                    contentDescription = null,&#10;                    tint = Gray1,&#10;                    modifier = Modifier.size(14.dp)&#10;                )&#10;                Text(&#10;                    text = &quot;Đã dùng&quot;,&#10;                    style = AppTypography.labelMedium,&#10;                    color = Gray1&#10;                )&#10;            }&#10;            Text(&#10;                text = formatterVND(uiState.spendingSnapshot.usedAmount.toLong()) + &quot;đ&quot;,&#10;                style = AppTypography.labelLarge.copy(&#10;                    fontWeight = FontWeight.SemiBold&#10;                ),&#10;                color = Black1&#10;            )&#10;        }&#10;    }&#10;    //chart&#10;    when (&#10;        uiState.chartType&#10;    ) {&#10;        ChartType.BAR -&gt; {&#10;            CustomBarChart(&#10;                data = uiState.spendingSnapshot.spendingCategories&#10;                    .map { category -&gt;&#10;                        Bars(&#10;                            label = category.categoryName,&#10;                            values = listOf(&#10;                                Bars.Data(&#10;                                    label = &quot;Ngân sách&quot;,&#10;                                    value = category.budgetAmount.toDouble(),&#10;                                    color = Brush.linearGradient(&#10;                                        colors =&#10;                                            listOf(&#10;                                                Green2, Green2&#10;                                            )&#10;&#10;                                    ),&#10;                                ),&#10;                                Bars.Data(&#10;                                    label = &quot;Đã dùng&quot;,&#10;                                    value = category.usedAmount.toDouble(),&#10;                                    color = Brush.linearGradient(&#10;                                        colors =&#10;                                            listOf(&#10;                                                Blue5, Blue5&#10;                                            )&#10;&#10;                                    ),&#10;                                ),&#10;                            )&#10;                        )&#10;                    },&#10;                modifier = Modifier.fillMaxWidth()&#10;            )&#10;        }&#10;&#10;        ChartType.PIE -&gt; {&#10;            CustomPieChart(&#10;                data = uiState.spendingSnapshot.spendingCategories&#10;                    .map { category -&gt;&#10;                        Pie(&#10;                            label = category.categoryName,&#10;                            data = category.budgetAmount.toDouble(),&#10;                            color = colorFromLabel(category.categoryName)&#10;                        )&#10;&#10;                    },&#10;                modifier = Modifier.fillMaxWidth()&#10;            )&#10;&#10;            val categories =&#10;                uiState.spendingSnapshot.spendingCategories&#10;            if (categories.isNotEmpty()) {&#10;                Text(&#10;                    text = &quot;Phân tích chi tiêu theo danh mục&quot;,&#10;                    style = AppTypography.bodyMedium,&#10;                    color = Gray1&#10;                )&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(horizontal = 10.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;&#10;                    categories.forEach { category -&gt;&#10;                        val percentage =&#10;                            category.budgetAmount.toFloat() / uiState.spendingSnapshot.budgetAmount.toFloat()&#10;                        Row(&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            horizontalArrangement = Arrangement.spacedBy(&#10;                                10.dp&#10;                            ),&#10;                            verticalAlignment = Alignment.CenterVertically&#10;                        ) {&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .size(15.dp)&#10;                                    .background(&#10;                                        color = colorFromLabel(&#10;                                            category.categoryName&#10;                                        ),&#10;                                        shape = RoundedCornerShape(3.dp)&#10;                                    )&#10;                            )&#10;                            Column(modifier = Modifier.weight(1f)) {&#10;                                Row(modifier = Modifier.fillMaxWidth()) {&#10;                                    Text(&#10;                                        text = category.categoryName,&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                    Text(&#10;                                        text = formatterVND(&#10;                                            category.budgetAmount.toLong()&#10;                                        ),&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1,&#10;                                        modifier = Modifier.weight(&#10;                                            1f&#10;                                        ),&#10;                                        textAlign = TextAlign.End&#10;                                    )&#10;                                }&#10;                                ProgressBarWithLabel(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    progress = percentage&#10;                                )&#10;&#10;                            }&#10;                        }&#10;&#10;                    }&#10;&#10;                }&#10;            }&#10;&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun TransactionHistorySkeleton() {&#10;    Column(&#10;        modifier = Modifier.fillMaxSize(),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        // Budget overview skeleton&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            repeat(2) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .background(&#10;                            color = Gray2.copy(alpha = 0.2f),&#10;                            shape = RoundedCornerShape(15.dp)&#10;                        )&#10;                        .padding(vertical = 10.dp, horizontal = 20.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                ) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .width(60.dp)&#10;                            .height(12.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(4.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .width(80.dp)&#10;                            .height(16.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(4.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Transaction cards skeleton&#10;        Column(&#10;            verticalArrangement = Arrangement.spacedBy(10.dp),&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(vertical = 10.dp)&#10;        ) {&#10;            repeat(5) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .shadow(&#10;                            elevation = 30.dp,&#10;                            shape = RoundedCornerShape(20.dp),&#10;                            ambientColor = Black1.copy(alpha = 0.25f),&#10;                            spotColor = Black1.copy(alpha = 0.25f)&#10;                        )&#10;                        .background(color = White1, shape = RoundedCornerShape(20.dp))&#10;                        .padding(10.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;                    // Title and date skeleton&#10;                    Row(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        horizontalArrangement = Arrangement.SpaceBetween&#10;                    ) {&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .width(150.dp)&#10;                                .height(16.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.5f),&#10;                                    shape = RoundedCornerShape(4.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .width(80.dp)&#10;                                .height(14.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.5f),&#10;                                    shape = RoundedCornerShape(4.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                    }&#10;&#10;                    // Category and amount skeleton&#10;                    Row(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        horizontalArrangement = Arrangement.SpaceBetween&#10;                    ) {&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .width(100.dp)&#10;                                .height(24.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.3f),&#10;                                    shape = RoundedCornerShape(10.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .width(90.dp)&#10;                                .height(14.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.5f),&#10;                                    shape = RoundedCornerShape(4.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun TransactionHistory(&#10;    records: LazyPagingItems&lt;SpendingRecordResponse&gt;,&#10;    uiState: SpendingDetailUiState,&#10;) {&#10;    val refreshState = rememberPullToRefreshState()&#10;    if (&#10;        uiState.spendingSnapshot == null&#10;    ) {&#10;        return&#10;    }&#10;&#10;    Column(&#10;        modifier = Modifier.fillMaxSize(),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;&#10;            Column(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .background(&#10;                        color = Green3.copy(&#10;                            alpha = 0.2f&#10;                        ),&#10;                        shape = RoundedCornerShape(15.dp)&#10;                    )&#10;                    .padding(vertical = 10.dp, horizontal = 20.dp)&#10;            ) {&#10;                Row(&#10;                    horizontalArrangement = Arrangement.spacedBy(5.dp),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.incoming_money),&#10;                        contentDescription = null,&#10;                        tint = Gray1,&#10;                        modifier = Modifier.size(14.dp)&#10;                    )&#10;                    Text(&#10;                        text = &quot;Ngân sách&quot;,&#10;                        style = AppTypography.labelMedium,&#10;                        color = Gray1&#10;                    )&#10;                }&#10;                Text(&#10;                    text = formatterVND(uiState.spendingSnapshot.budgetAmount.toLong()) + &quot;đ&quot;,&#10;                    style = AppTypography.labelLarge.copy(&#10;                        fontWeight = FontWeight.SemiBold&#10;                    ),&#10;                    color = Black1&#10;                )&#10;            }&#10;            Column(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .background(&#10;                        color = Red3.copy(&#10;                            alpha = 0.2f&#10;                        ),&#10;                        shape = RoundedCornerShape(15.dp)&#10;                    )&#10;                    .padding(vertical = 10.dp, horizontal = 20.dp)&#10;            ) {&#10;                Row(&#10;                    horizontalArrangement = Arrangement.spacedBy(5.dp),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.outgoing_money),&#10;                        contentDescription = null,&#10;                        tint = Gray1,&#10;                        modifier = Modifier.size(14.dp)&#10;                    )&#10;                    Text(&#10;                        text = &quot;Đã dùng&quot;,&#10;                        style = AppTypography.labelMedium,&#10;                        color = Gray1&#10;                    )&#10;                }&#10;                Text(&#10;                    text = formatterVND(uiState.spendingSnapshot.usedAmount.toLong()) + &quot;đ&quot;,&#10;                    style = AppTypography.labelLarge.copy(&#10;                        fontWeight = FontWeight.SemiBold&#10;                    ),&#10;                    color = Black1&#10;                )&#10;            }&#10;        }&#10;&#10;        PullToRefreshBox(&#10;            state = refreshState,&#10;            indicator = {&#10;                Box(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    contentAlignment = Alignment.TopCenter&#10;                ) {&#10;&#10;                    PullToRefreshDefaults.Indicator(&#10;                        state = refreshState,&#10;                        isRefreshing = uiState.screenState == SpendingDetailState.REFRESHING,&#10;                        containerColor = White1,&#10;                        color = Blue3,&#10;                    )&#10;                }&#10;&#10;            },&#10;&#10;            isRefreshing = uiState.screenState == SpendingDetailState.REFRESHING,&#10;            onRefresh = {&#10;                records.refresh()&#10;            },&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .weight(1f)&#10;        ) {&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(10.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(vertical = 10.dp),&#10;            ) {&#10;                for (i in 0 until records.itemCount) {&#10;                    val record = records[i] ?: continue&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .shadow(&#10;                                elevation = 30.dp,&#10;                                shape = RoundedCornerShape(20.dp),&#10;                                ambientColor = Black1.copy(alpha = 0.25f),&#10;                                spotColor = Black1.copy(alpha = 0.25f)&#10;                            )&#10;                            .background(color = White1, shape = RoundedCornerShape(20.dp))&#10;                            .padding(10.dp),&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        Row(&#10;                            modifier = Modifier.fillMaxWidth()&#10;                        ) {&#10;                            Text(&#10;                                text = record.description,&#10;                                style = AppTypography.bodyMedium.copy(&#10;                                    fontWeight = FontWeight.SemiBold&#10;                                ),&#10;                                color = Black1,&#10;                                modifier = Modifier.weight(1f),&#10;                                overflow = TextOverflow.Ellipsis,&#10;                                maxLines = 1&#10;                            )&#10;                            Text(&#10;                                text = formatterDateTimeString(LocalDateTime.parse(record.occurredAt)),&#10;                                style = AppTypography.bodySmall,&#10;                                color = Gray1&#10;                            )&#10;                        }&#10;                        Row(&#10;                            modifier = Modifier.fillMaxWidth()&#10;                        ) {&#10;                            if (record.categoryName != null &amp;&amp; record.categoryIcon != null) {&#10;&#10;                                Row(&#10;                                    modifier = Modifier&#10;                                        .background(&#10;                                            color = colorFromLabel(record.categoryName).copy(alpha = 0.2f),&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .padding(5.dp),&#10;                                    horizontalArrangement = Arrangement.spacedBy(&#10;                                        5.dp&#10;                                    )&#10;                                ) {&#10;                                    Icon(&#10;                                        painter = painterResource(id = record.categoryIcon.toInt()),&#10;                                        contentDescription = null,&#10;                                        tint = colorFromLabel(record.categoryName),&#10;                                        modifier = Modifier.size(14.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = record.categoryName,&#10;                                        style = AppTypography.labelMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                }&#10;                            } else {&#10;                                val color = colorFromLabel(&quot;Không xác định&quot;)&#10;                                Row(&#10;                                    modifier = Modifier.background(&#10;                                        color = color.copy(alpha = 0.2f),&#10;                                        shape = RoundedCornerShape(10.dp)&#10;                                    )&#10;                                ) {&#10;                                    Icon(&#10;                                        painter = painterResource(R.drawable.unknown),&#10;                                        contentDescription = null,&#10;                                        tint = color,&#10;                                        modifier = Modifier.size(14.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;Không xác định&quot;,&#10;                                        style = AppTypography.labelMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                }&#10;                            }&#10;&#10;                            Text(&#10;                                text = &quot;-&quot; + formatterVND(record.amount.toLong()),&#10;                                style = AppTypography.bodySmall.copy(&#10;                                    fontWeight = FontWeight.SemiBold&#10;                                ),&#10;                                color = Black1,&#10;                                modifier = Modifier.weight(1f),&#10;                                textAlign = TextAlign.End&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;                when (val state = records.loadState.append) {&#10;                    is LoadState.NotLoading -&gt; Unit&#10;                    is LoadState.Loading -&gt; {&#10;&#10;                            CircularProgressIndicator(&#10;                                color = Blue3, modifier = Modifier.size(30.dp)&#10;                            )&#10;                    }&#10;&#10;                    is LoadState.Error -&gt; {&#10;                        //todo&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun CategoriesDialog(&#10;    categories: List&lt;SpendingCategoryDetailResponse&gt;,&#10;    onDismiss: () -&gt; Unit&#10;) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(&#10;                color = Gray2.copy(alpha = 0.5f),&#10;            )&#10;            .padding(20.dp)&#10;            .customClick(onClick = onDismiss),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Box(&#10;            contentAlignment = Alignment.TopEnd,&#10;            modifier = Modifier&#10;                .background(&#10;                    color = White1,&#10;                    shape = RoundedCornerShape(20.dp)&#10;                )&#10;                .padding(15.dp)&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(10.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                verticalArrangement = Arrangement.spacedBy(15.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Danh mục chi tiêu&quot;,&#10;                    style = AppTypography.titleMedium.copy(&#10;                        fontWeight = FontWeight.Bold&#10;                    ),&#10;                    color = Black1&#10;                )&#10;&#10;                if (categories.isEmpty()) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(vertical = 30.dp),&#10;                        contentAlignment = Alignment.Center&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Không có danh mục nào&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = Gray1,&#10;                        )&#10;                    }&#10;                } else {&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .verticalScroll(rememberScrollState()),&#10;                        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                    ) {&#10;                        categories.forEach { category -&gt;&#10;                            Column(&#10;                                modifier = Modifier&#10;                                    .fillMaxWidth()&#10;                                    .background(&#10;                                        color = colorFromLabel(category.categoryName).copy(alpha = 0.1f),&#10;                                        shape = RoundedCornerShape(15.dp)&#10;                                    )&#10;                                    .padding(15.dp),&#10;                                verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                            ) {&#10;                                Row(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    horizontalArrangement = Arrangement.SpaceBetween,&#10;                                    verticalAlignment = Alignment.CenterVertically&#10;                                ) {&#10;                                    Row(&#10;                                        horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                                        verticalAlignment = Alignment.CenterVertically&#10;                                    ) {&#10;                                        Box(&#10;                                            modifier = Modifier&#10;                                                .size(10.dp)&#10;                                                .background(&#10;                                                    color = colorFromLabel(category.categoryName),&#10;                                                    shape = RoundedCornerShape(2.dp)&#10;                                                )&#10;                                        )&#10;                                        Text(&#10;                                            text = category.categoryName,&#10;                                            style = AppTypography.bodyMedium.copy(&#10;                                                fontWeight = FontWeight.SemiBold&#10;                                            ),&#10;                                            color = Black1&#10;                                        )&#10;                                    }&#10;                                }&#10;&#10;                                Row(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    horizontalArrangement = Arrangement.SpaceBetween&#10;                                ) {&#10;                                    Column {&#10;                                        Text(&#10;                                            text = &quot;Ngân sách&quot;,&#10;                                            style = AppTypography.labelSmall,&#10;                                            color = Gray1&#10;                                        )&#10;                                        Text(&#10;                                            text = formatterVND(category.budgetAmount.toLong()) + &quot;đ&quot;,&#10;                                            style = AppTypography.bodySmall.copy(&#10;                                                fontWeight = FontWeight.SemiBold&#10;                                            ),&#10;                                            color = Black1&#10;                                        )&#10;                                    }&#10;                                    Column(&#10;                                        horizontalAlignment = Alignment.End&#10;                                    ) {&#10;                                        Text(&#10;                                            text = &quot;Đã dùng&quot;,&#10;                                            style = AppTypography.labelSmall,&#10;                                            color = Gray1&#10;                                        )&#10;                                        Text(&#10;                                            text = formatterVND(category.usedAmount.toLong()) + &quot;đ&quot;,&#10;                                            style = AppTypography.bodySmall.copy(&#10;                                                fontWeight = FontWeight.SemiBold&#10;                                            ),&#10;                                            color = Black1&#10;                                        )&#10;                                    }&#10;                                }&#10;&#10;                                val percentage = if (category.budgetAmount.toFloat() &gt; 0) {&#10;                                    category.usedAmount.toFloat() / category.budgetAmount.toFloat()&#10;                                } else {&#10;                                    0f&#10;                                }&#10;                                ProgressBarWithLabel(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    progress = percentage&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(&#10;    showBackground = true,&#10;    showSystemUi = true&#10;)&#10;@Composable&#10;fun SpendingFundDetailPreview() {&#10;    val pagingData = PagingData.from(&#10;        listOf(&#10;            SpendingRecordResponse(&#10;                id = &quot;rec_001&quot;,&#10;                snapshotId = &quot;snap_20260202&quot;,&#10;                transactionId = &quot;txn_889900&quot;,&#10;                amount = BigDecimal(&quot;150000.00&quot;),&#10;                description = &quot;Thanh toán tiền điện&quot;,&#10;                destinationAccountName = &quot;EVN HCMC&quot;,&#10;                destinationAccountNumber = &quot;19001001&quot;,&#10;                recordType = SpendingRecordType.EXPENSE,&#10;                categoryCode = &quot;UTIL&quot;,&#10;                categoryName = &quot;Tiện ích&quot;,&#10;                categoryIcon = R.drawable.airplane_service.toString(),&#10;                categoryTextColor = &quot;#FFFFFF&quot;,&#10;                categoryBackgroundColor = &quot;#FF9800&quot;,&#10;                occurredAt = LocalDateTime.now().toString()&#10;            )&#10;        )&#10;    )&#10;&#10;    SpendingSnapshotDetail(&#10;        uiState = SpendingDetailUiState(&#10;            screenState = SpendingDetailState.NONE,&#10;            spendingSnapshot = SpendingSnapshotDetailResponse(&#10;                id = &quot;1&quot;,&#10;                snapshotName = &quot;Chi tiêu tháng 6&quot;,&#10;                budgetAmount = BigDecimal(5000000),&#10;                usedAmount = BigDecimal(3500000),&#10;                monthlySpending = &quot;8/2025&quot;,&#10;                spendingCategories = listOf(&#10;                    SpendingCategoryDetailResponse(&#10;                        categoryName = &quot;Ăn uống&quot;,&#10;                        categoryCode = &quot;food&quot;,&#10;                        categoryIcon = &quot;&quot;,&#10;                        textColor = &quot;TODO()&quot;,&#10;                        backgroundColor = &quot;TODO()&quot;,&#10;                        budgetAmount = BigDecimal(5000000),&#10;                        usedAmount = BigDecimal(3500000),&#10;                    )&#10;                ),&#10;            ),&#10;            selectedTab = SpendingDetailTab.OVERVIEW&#10;        ),&#10;        records = flowOf(&#10;            pagingData&#10;        ).collectAsLazyPagingItems(),&#10;        onBackClick = {},&#10;        onEvent = {},&#10;    )&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.ibanking_kltn.ui.screens&#10;&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.layout.systemBarsPadding&#10;import androidx.compose.foundation.layout.width&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.ArrowBackIosNew&#10;import androidx.compose.material3.CircularProgressIndicator&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.NavigationBar&#10;import androidx.compose.material3.NavigationBarItem&#10;import androidx.compose.material3.NavigationBarItemDefaults&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.TopAppBar&#10;import androidx.compose.material3.TopAppBarDefaults&#10;import androidx.compose.material3.pulltorefresh.PullToRefreshBox&#10;import androidx.compose.material3.pulltorefresh.PullToRefreshDefaults&#10;import androidx.compose.material3.pulltorefresh.rememberPullToRefreshState&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.shadow&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.SpanStyle&#10;import androidx.compose.ui.text.buildAnnotatedString&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.text.style.TextOverflow&#10;import androidx.compose.ui.text.withStyle&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.paging.LoadState&#10;import androidx.paging.PagingData&#10;import androidx.paging.compose.LazyPagingItems&#10;import androidx.paging.compose.collectAsLazyPagingItems&#10;import com.example.ibanking_kltn.R&#10;import com.example.ibanking_kltn.dtos.definitions.SpendingRecordType&#10;import com.example.ibanking_kltn.dtos.responses.SpendingCategoryDetailResponse&#10;import com.example.ibanking_kltn.dtos.responses.SpendingRecordResponse&#10;import com.example.ibanking_kltn.dtos.responses.SpendingSnapshotDetailResponse&#10;import com.example.ibanking_kltn.ui.event.SpendingDetailEvent&#10;import com.example.ibanking_kltn.ui.theme.AppTypography&#10;import com.example.ibanking_kltn.ui.theme.Black1&#10;import com.example.ibanking_kltn.ui.theme.Blue1&#10;import com.example.ibanking_kltn.ui.theme.Blue3&#10;import com.example.ibanking_kltn.ui.theme.Blue5&#10;import com.example.ibanking_kltn.ui.theme.Blue6&#10;import com.example.ibanking_kltn.ui.theme.Gray1&#10;import com.example.ibanking_kltn.ui.theme.Gray2&#10;import com.example.ibanking_kltn.ui.theme.Green2&#10;import com.example.ibanking_kltn.ui.theme.Green3&#10;import com.example.ibanking_kltn.ui.theme.Red3&#10;import com.example.ibanking_kltn.ui.theme.White1&#10;import com.example.ibanking_kltn.ui.theme.White3&#10;import com.example.ibanking_kltn.ui.uistates.ChartType&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailState&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailTab&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailUiState&#10;import com.example.ibanking_kltn.utils.CustomBarChart&#10;import com.example.ibanking_kltn.utils.CustomPieChart&#10;import com.example.ibanking_kltn.utils.ProgressBarWithLabel&#10;import com.example.ibanking_kltn.utils.RetryCompose&#10;import com.example.ibanking_kltn.utils.colorFromLabel&#10;import com.example.ibanking_kltn.utils.customClick&#10;import com.example.ibanking_kltn.utils.formatterDateTimeString&#10;import com.example.ibanking_kltn.utils.formatterVND&#10;import com.example.ibanking_kltn.utils.shimmerEffect&#10;import ir.ehsannarmani.compose_charts.models.Bars&#10;import ir.ehsannarmani.compose_charts.models.Pie&#10;import kotlinx.coroutines.flow.flowOf&#10;import java.math.BigDecimal&#10;import java.time.LocalDateTime&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun SpendingSnapshotDetail(&#10;    uiState: SpendingDetailUiState,&#10;    records: LazyPagingItems&lt;SpendingRecordResponse&gt;,&#10;    onBackClick: () -&gt; Unit,&#10;    onEvent: (SpendingDetailEvent) -&gt; Unit&#10;) {&#10;    val scrollState = rememberScrollState(0)&#10;    when (uiState.screenState) {&#10;        SpendingDetailState.INIT -&gt; {&#10;            Scaffold(&#10;                topBar = {&#10;                    TopAppBar(&#10;                        title = {&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .width(120.dp)&#10;                                    .height(20.dp)&#10;                                    .background(&#10;                                        color = Gray2.copy(alpha = 0.5f),&#10;                                        shape = RoundedCornerShape(4.dp)&#10;                                    )&#10;                                    .shimmerEffect()&#10;                            )&#10;                        },&#10;                        navigationIcon = {&#10;                            IconButton(onClick = { onBackClick() }) {&#10;                                Icon(&#10;                                    Icons.Default.ArrowBackIosNew,&#10;                                    contentDescription = null,&#10;                                    modifier = Modifier.size(25.dp)&#10;                                )&#10;                            }&#10;                        },&#10;                        colors = TopAppBarDefaults.topAppBarColors(&#10;                            titleContentColor = Black1,&#10;                            containerColor = White3&#10;                        ),&#10;                    )&#10;                },&#10;                bottomBar = {&#10;                    NavigationBar(&#10;                        containerColor = White3,&#10;                    ) {&#10;                        NavigationBarItem(&#10;                            selected = uiState.selectedTab == SpendingDetailTab.OVERVIEW,&#10;                            onClick = { },&#10;                            icon = {&#10;                                Icon(&#10;                                    painter = painterResource(R.drawable.analytic),&#10;                                    contentDescription = null&#10;                                )&#10;                            },&#10;                            label = { Text(&quot;Tổng quan&quot;) },&#10;                            colors = NavigationBarItemDefaults.colors(&#10;                                selectedIconColor = Blue3,&#10;                                selectedTextColor = Blue3,&#10;                                indicatorColor = Blue5.copy(alpha = 0.1f)&#10;                            ),&#10;                        )&#10;                        NavigationBarItem(&#10;                            selected = uiState.selectedTab == SpendingDetailTab.HISTORY,&#10;                            onClick = { },&#10;                            icon = {&#10;                                Icon(&#10;                                    painter = painterResource(R.drawable.history),&#10;                                    contentDescription = null&#10;                                )&#10;                            },&#10;                            label = { Text(&quot;Lịch sử giao dịch&quot;) },&#10;                            colors = NavigationBarItemDefaults.colors(&#10;                                selectedIconColor = Blue3,&#10;                                selectedTextColor = Blue3,&#10;                                indicatorColor = Blue5.copy(alpha = 0.1f)&#10;                            ),&#10;                        )&#10;                    }&#10;                },&#10;                modifier = Modifier.systemBarsPadding(),&#10;                containerColor = White3&#10;            ) { paddingValues -&gt;&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .padding(paddingValues)&#10;                ) {&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(horizontal = 20.dp),&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        SpendingHeaderSkeleton()&#10;&#10;                        when (uiState.selectedTab) {&#10;                            SpendingDetailTab.OVERVIEW -&gt; OverviewSkeleton()&#10;                            SpendingDetailTab.HISTORY -&gt; TransactionHistorySkeleton()&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        SpendingDetailState.INIT_FAILED -&gt; {&#10;            Scaffold(&#10;                topBar = {&#10;                    TopAppBar(&#10;                        title = {&#10;                            Text(text = &quot;Trở lại&quot;)&#10;                        },&#10;                        navigationIcon = {&#10;                            IconButton(onClick = {&#10;                                onBackClick()&#10;                            }) {&#10;                                Icon(&#10;                                    Icons.Default.ArrowBackIosNew, contentDescription = null,&#10;                                    modifier = Modifier.size(25.dp)&#10;                                )&#10;                            }&#10;                        },&#10;                        colors = TopAppBarDefaults.topAppBarColors(&#10;                            titleContentColor = Black1,&#10;                            containerColor = White3&#10;                        ),&#10;                    )&#10;                }) { paddingValue -&gt;&#10;                Column(&#10;                    modifier = Modifier.padding(paddingValue)&#10;                ) {&#10;                    RetryCompose(&#10;                        onRetry = {&#10;                            onEvent(&#10;                                SpendingDetailEvent.RetryLoadData&#10;                            )&#10;                        },&#10;                    )&#10;                }&#10;&#10;            }&#10;        }&#10;&#10;        else -&gt; {&#10;            if (uiState.spendingSnapshot == null) {&#10;                return&#10;            }&#10;            Scaffold(&#10;                topBar = {&#10;                    TopAppBar(&#10;                        title = {&#10;                            Text(text = uiState.spendingSnapshot.snapshotName)&#10;                        },&#10;                        navigationIcon = {&#10;                            IconButton(onClick = {&#10;                                onBackClick()&#10;                            }) {&#10;                                Icon(&#10;                                    Icons.Default.ArrowBackIosNew, contentDescription = null,&#10;                                    modifier = Modifier.size(25.dp)&#10;                                )&#10;                            }&#10;                        },&#10;                        colors = TopAppBarDefaults.topAppBarColors(&#10;                            titleContentColor = Black1,&#10;                            containerColor = White3&#10;                        ),&#10;                    )&#10;                },&#10;                bottomBar = {&#10;                    NavigationBar(&#10;                        containerColor = White3,&#10;                    ) {&#10;                        NavigationBarItem(&#10;                            selected = uiState.selectedTab == SpendingDetailTab.OVERVIEW,&#10;                            onClick = {&#10;                                if (uiState.selectedTab != SpendingDetailTab.OVERVIEW)&#10;                                    onEvent(&#10;                                        SpendingDetailEvent.ChangeTab&#10;                                    )&#10;&#10;                            },&#10;                            icon = {&#10;                                Icon(&#10;                                    painter = painterResource(R.drawable.analytic),&#10;                                    contentDescription = null&#10;                                )&#10;                            },&#10;                            label = { Text(&quot;Tổng quan&quot;) },&#10;                            colors = NavigationBarItemDefaults.colors(&#10;                                selectedIconColor = Blue3,&#10;                                selectedTextColor = Blue3,&#10;                                indicatorColor = Blue5.copy(&#10;                                    alpha = 0.1f&#10;                                )&#10;                            ),&#10;                        )&#10;                        NavigationBarItem(&#10;                            selected = uiState.selectedTab == SpendingDetailTab.HISTORY,&#10;                            onClick = {&#10;                                if (uiState.selectedTab != SpendingDetailTab.HISTORY)&#10;                                    onEvent(&#10;                                        SpendingDetailEvent.ChangeTab&#10;                                    )&#10;                            },&#10;                            icon = {&#10;                                Icon(&#10;                                    painter = painterResource(R.drawable.history),&#10;                                    contentDescription = null&#10;                                )&#10;                            },&#10;                            label = { Text(&quot;Lịch sử giao dịch&quot;) },&#10;                            colors = NavigationBarItemDefaults.colors(&#10;                                selectedIconColor = Blue3,&#10;                                selectedTextColor = Blue3,&#10;                                indicatorColor = Blue5.copy(&#10;                                    alpha = 0.1f&#10;                                )&#10;                            ),&#10;                        )&#10;                    }&#10;                },&#10;                modifier = Modifier.systemBarsPadding(),&#10;                containerColor = White3&#10;            ) { paddingValues -&gt;&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .padding(paddingValues)&#10;                        .then(&#10;                            if (uiState.selectedTab == SpendingDetailTab.OVERVIEW)&#10;                                Modifier.verticalScroll(scrollState)&#10;                            else&#10;                                Modifier&#10;                        )&#10;                ) {&#10;&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(horizontal = 20.dp),&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .shadow(&#10;                                    elevation = 30.dp,&#10;                                    shape = RoundedCornerShape(20.dp),&#10;                                    ambientColor = Black1.copy(alpha = 0.25f),&#10;                                    spotColor = Black1.copy(alpha = 0.25f)&#10;                                )&#10;                                .background(color = White1, shape = RoundedCornerShape(20.dp))&#10;                                .padding(10.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Mức chi tiêu&quot;,&#10;                                color = Gray1,&#10;                                style = AppTypography.bodySmall&#10;                            )&#10;                            Text(&#10;                                buildAnnotatedString {&#10;                                    withStyle(&#10;                                        style = SpanStyle(&#10;                                            fontSize = 16.sp,&#10;                                            color = Black1,&#10;                                            fontWeight = FontWeight.SemiBold&#10;                                        )&#10;&#10;                                    ) {&#10;                                        append(&quot;${formatterVND(uiState.spendingSnapshot.usedAmount.toLong())}đ&quot;)&#10;                                    }&#10;                                    withStyle(&#10;                                        style = SpanStyle(&#10;                                            fontSize = 13.sp,&#10;                                            color = Gray1&#10;                                        )&#10;&#10;                                    ) {&#10;                                        append(&#10;                                            &quot;/${formatterVND(uiState.spendingSnapshot.budgetAmount.toLong())}đ&quot;&#10;                                        )&#10;                                    }&#10;                                }&#10;                            )&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                            ) {&#10;&#10;                                Row(&#10;                                    modifier = Modifier&#10;                                        .weight(1f)&#10;                                        .background(&#10;                                            color = Blue6.copy(alpha = 0.3f),&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .customClick(&#10;                                            onClick = {&#10;                                                onEvent(&#10;                                                    SpendingDetailEvent.AddTransaction&#10;                                                )&#10;                                            },&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .padding(vertical = 10.dp),&#10;                                    verticalAlignment = Alignment.CenterVertically,&#10;                                    horizontalArrangement = Arrangement.spacedBy(&#10;                                        5.dp,&#10;                                        alignment = Alignment.CenterHorizontally&#10;                                    )&#10;                                ) {&#10;                                    Icon(&#10;                                        painter = painterResource(R.drawable.add_bold),&#10;                                        contentDescription = null,&#10;                                        tint = Blue1,&#10;                                        modifier = Modifier.size(16.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;Thêm giao dịch&quot;,&#10;                                        style = AppTypography.bodySmall,&#10;                                        color = Blue1&#10;                                    )&#10;                                }&#10;                                Row(&#10;                                    modifier = Modifier&#10;                                        .weight(1f)&#10;                                        .background(&#10;                                            color = Blue6.copy(alpha = 0.3f),&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .customClick(&#10;                                            onClick = {&#10;                                                onEvent(&#10;                                                    SpendingDetailEvent.ViewCategories&#10;                                                )&#10;&#10;                                            },&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .padding(vertical = 10.dp),&#10;                                    verticalAlignment = Alignment.CenterVertically,&#10;                                    horizontalArrangement = Arrangement.spacedBy(&#10;                                        5.dp,&#10;                                        alignment = Alignment.CenterHorizontally&#10;                                    )&#10;                                ) {&#10;                                    Icon(&#10;                                        painter = painterResource(R.drawable.layer),&#10;                                        contentDescription = null,&#10;                                        tint = Blue1,&#10;                                        modifier = Modifier.size(16.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;Danh mục&quot;,&#10;                                        style = AppTypography.bodySmall,&#10;                                        color = Blue1&#10;                                    )&#10;                                }&#10;&#10;&#10;                            }&#10;                        }&#10;                        Column(&#10;                            modifier = if (uiState.selectedTab == SpendingDetailTab.HISTORY)&#10;                                Modifier&#10;                                    .fillMaxWidth()&#10;                                    .weight(1f)&#10;                            else&#10;                                Modifier.fillMaxWidth(),&#10;                            verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                        ) {&#10;&#10;&#10;                            when (uiState.selectedTab) {&#10;&#10;                                SpendingDetailTab.OVERVIEW -&gt; Overview(&#10;                                    uiState = uiState,&#10;                                    onEvent = onEvent&#10;                                )&#10;&#10;                                SpendingDetailTab.HISTORY -&gt; TransactionHistory(&#10;                                    uiState = uiState,&#10;                                    records = records,&#10;                                )&#10;&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;&#10;                // Show categories dialog&#10;                if (uiState.isShowCategoriesDialog) {&#10;                    CategoriesDialog(&#10;                        categories = uiState.spendingSnapshot.spendingCategories,&#10;                        onDismiss = {&#10;                            onEvent(SpendingDetailEvent.ViewCategories)&#10;                        }&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;}&#10;&#10;@Composable&#10;private fun SpendingHeaderSkeleton() {&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .shadow(&#10;                elevation = 30.dp,&#10;                shape = RoundedCornerShape(20.dp),&#10;                ambientColor = Black1.copy(alpha = 0.25f),&#10;                spotColor = Black1.copy(alpha = 0.25f)&#10;            )&#10;            .background(color = White1, shape = RoundedCornerShape(20.dp))&#10;            .padding(10.dp),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        Box(&#10;            modifier = Modifier&#10;                .width(90.dp)&#10;                .height(14.dp)&#10;                .background(&#10;                    color = Gray2.copy(alpha = 0.5f),&#10;                    shape = RoundedCornerShape(4.dp)&#10;                )&#10;                .shimmerEffect()&#10;        )&#10;        Box(&#10;            modifier = Modifier&#10;                .width(150.dp)&#10;                .height(18.dp)&#10;                .background(&#10;                    color = Gray2.copy(alpha = 0.5f),&#10;                    shape = RoundedCornerShape(4.dp)&#10;                )&#10;                .shimmerEffect()&#10;        )&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            repeat(2) {&#10;                Box(&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .height(40.dp)&#10;                        .background(&#10;                            color = Gray2.copy(alpha = 0.3f),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .shimmerEffect()&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun OverviewSkeleton() {&#10;    Column(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        // Tab skeleton&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(&#10;                10.dp,&#10;                Alignment.End&#10;            ),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(width = 120.dp, height = 40.dp)&#10;                    .background(&#10;                        color = Gray2.copy(alpha = 0.3f),&#10;                        shape = RoundedCornerShape(10.dp)&#10;                    )&#10;                    .shimmerEffect()&#10;            )&#10;        }&#10;&#10;        // Overview cards skeleton&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            repeat(2) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .background(&#10;                            color = Gray2.copy(alpha = 0.2f),&#10;                            shape = RoundedCornerShape(15.dp)&#10;                        )&#10;                        .padding(vertical = 10.dp, horizontal = 20.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                ) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .width(60.dp)&#10;                            .height(12.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(4.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .width(80.dp)&#10;                            .height(16.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(4.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Chart skeleton&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(300.dp)&#10;                .background(&#10;                    color = Gray2.copy(alpha = 0.2f),&#10;                    shape = RoundedCornerShape(15.dp)&#10;                )&#10;                .shimmerEffect()&#10;        )&#10;&#10;        // Category list skeleton&#10;        Column(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            verticalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .width(180.dp)&#10;                    .height(14.dp)&#10;                    .background(&#10;                        color = Gray2.copy(alpha = 0.5f),&#10;                        shape = RoundedCornerShape(4.dp)&#10;                    )&#10;                    .shimmerEffect()&#10;            )&#10;&#10;            repeat(3) {&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .size(15.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(3.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                    Column(&#10;                        modifier = Modifier.weight(1f),&#10;                        verticalArrangement = Arrangement.spacedBy(5.dp)&#10;                    ) {&#10;                        Row(&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            horizontalArrangement = Arrangement.SpaceBetween&#10;                        ) {&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .width(100.dp)&#10;                                    .height(14.dp)&#10;                                    .background(&#10;                                        color = Gray2.copy(alpha = 0.5f),&#10;                                        shape = RoundedCornerShape(4.dp)&#10;                                    )&#10;                                    .shimmerEffect()&#10;                            )&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .width(80.dp)&#10;                                    .height(14.dp)&#10;                                    .background(&#10;                                        color = Gray2.copy(alpha = 0.5f),&#10;                                        shape = RoundedCornerShape(4.dp)&#10;                                    )&#10;                                    .shimmerEffect()&#10;                            )&#10;                        }&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(8.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.3f),&#10;                                    shape = RoundedCornerShape(4.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun Overview(&#10;    uiState: SpendingDetailUiState,&#10;    onEvent: (SpendingDetailEvent) -&gt; Unit&#10;) {&#10;    if (uiState.spendingSnapshot == null) {&#10;        return&#10;    }&#10;&#10;&#10;    //tab&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.spacedBy(&#10;            10.dp,&#10;            Alignment.End&#10;        ),&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        when (uiState.chartType) {&#10;            ChartType.BAR -&gt; {&#10;                Row(&#10;                    modifier = Modifier&#10;                        .background(&#10;                            color = Gray2.copy(&#10;                                alpha = 0.3f&#10;                            ),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .padding(5.dp)&#10;                ) {&#10;                    Row(&#10;                        horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                        verticalAlignment = Alignment.CenterVertically,&#10;                        modifier = Modifier&#10;                            .background(&#10;                                color = Blue5.copy(&#10;                                    alpha = 0.2f&#10;                                ),&#10;                                shape = RoundedCornerShape(10.dp)&#10;                            )&#10;                            .padding(5.dp)&#10;                    ) {&#10;                        Icon(&#10;                            painter = painterResource(id = R.drawable.bar_chart),&#10;                            contentDescription = null,&#10;                            tint = Blue1,&#10;                            modifier = Modifier.size(25.dp)&#10;                        )&#10;                        Text(&#10;                            text = &quot;Chi tiết&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = Blue1&#10;                        )&#10;                    }&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .customClick {&#10;                                onEvent(&#10;                                    SpendingDetailEvent.ChangeChartType&#10;                                )&#10;                            }&#10;                            .padding(5.dp)&#10;                    ) {&#10;                        Icon(&#10;                            painter = painterResource(id = R.drawable.pie_chart),&#10;                            contentDescription = null,&#10;                            tint = Gray1,&#10;                            modifier = Modifier&#10;                                .size(25.dp)&#10;                        )&#10;                    }&#10;&#10;                }&#10;            }&#10;&#10;            ChartType.PIE -&gt; {&#10;                Row(&#10;                    modifier = Modifier&#10;                        .background(&#10;                            color = Gray2.copy(&#10;                                alpha = 0.3f&#10;                            ),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .padding(5.dp)&#10;                ) {&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .customClick {&#10;                                onEvent(&#10;                                    SpendingDetailEvent.ChangeChartType&#10;                                )&#10;                            }&#10;                            .padding(5.dp)&#10;                    ) {&#10;                        Icon(&#10;                            painter = painterResource(id = R.drawable.bar_chart),&#10;                            contentDescription = null,&#10;                            tint = Gray1,&#10;                            modifier = Modifier.size(25.dp)&#10;                        )&#10;                    }&#10;&#10;                    Row(&#10;                        horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                        verticalAlignment = Alignment.CenterVertically,&#10;                        modifier = Modifier&#10;                            .background(&#10;                                color = Blue5.copy(alpha = 0.2f),&#10;                                shape = RoundedCornerShape(10.dp)&#10;                            )&#10;                            .padding(5.dp)&#10;                    ) {&#10;                        Icon(&#10;                            painter = painterResource(id = R.drawable.pie_chart),&#10;                            contentDescription = null,&#10;                            tint = Blue1,&#10;                            modifier = Modifier.size(25.dp)&#10;                        )&#10;                        Text(&#10;                            text = &quot;Ngân sách&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = Blue1&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;        }&#10;    }&#10;    //overview&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .background(&#10;                    color = Green3.copy(&#10;                        alpha = 0.2f&#10;                    ),&#10;                    shape = RoundedCornerShape(15.dp)&#10;                )&#10;                .padding(vertical = 10.dp, horizontal = 20.dp)&#10;        ) {&#10;            Row(&#10;                horizontalArrangement = Arrangement.spacedBy(5.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.incoming_money),&#10;                    contentDescription = null,&#10;                    tint = Gray1,&#10;                    modifier = Modifier.size(14.dp)&#10;                )&#10;                Text(&#10;                    text = &quot;Ngân sách&quot;,&#10;                    style = AppTypography.labelMedium,&#10;                    color = Gray1&#10;                )&#10;            }&#10;            Text(&#10;                text = formatterVND(uiState.spendingSnapshot.budgetAmount.toLong()) + &quot;đ&quot;,&#10;                style = AppTypography.labelLarge.copy(&#10;                    fontWeight = FontWeight.SemiBold&#10;                ),&#10;                color = Black1&#10;            )&#10;        }&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .background(&#10;                    color = Red3.copy(&#10;                        alpha = 0.2f&#10;                    ),&#10;                    shape = RoundedCornerShape(15.dp)&#10;                )&#10;                .padding(vertical = 10.dp, horizontal = 20.dp)&#10;        ) {&#10;            Row(&#10;                horizontalArrangement = Arrangement.spacedBy(5.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.outgoing_money),&#10;                    contentDescription = null,&#10;                    tint = Gray1,&#10;                    modifier = Modifier.size(14.dp)&#10;                )&#10;                Text(&#10;                    text = &quot;Đã dùng&quot;,&#10;                    style = AppTypography.labelMedium,&#10;                    color = Gray1&#10;                )&#10;            }&#10;            Text(&#10;                text = formatterVND(uiState.spendingSnapshot.usedAmount.toLong()) + &quot;đ&quot;,&#10;                style = AppTypography.labelLarge.copy(&#10;                    fontWeight = FontWeight.SemiBold&#10;                ),&#10;                color = Black1&#10;            )&#10;        }&#10;    }&#10;    //chart&#10;    when (&#10;        uiState.chartType&#10;    ) {&#10;        ChartType.BAR -&gt; {&#10;            CustomBarChart(&#10;                data = uiState.spendingSnapshot.spendingCategories&#10;                    .map { category -&gt;&#10;                        Bars(&#10;                            label = category.categoryName,&#10;                            values = listOf(&#10;                                Bars.Data(&#10;                                    label = &quot;Ngân sách&quot;,&#10;                                    value = category.budgetAmount.toDouble(),&#10;                                    color = Brush.linearGradient(&#10;                                        colors =&#10;                                            listOf(&#10;                                                Green2, Green2&#10;                                            )&#10;&#10;                                    ),&#10;                                ),&#10;                                Bars.Data(&#10;                                    label = &quot;Đã dùng&quot;,&#10;                                    value = category.usedAmount.toDouble(),&#10;                                    color = Brush.linearGradient(&#10;                                        colors =&#10;                                            listOf(&#10;                                                Blue5, Blue5&#10;                                            )&#10;&#10;                                    ),&#10;                                ),&#10;                            )&#10;                        )&#10;                    },&#10;                modifier = Modifier.fillMaxWidth()&#10;            )&#10;        }&#10;&#10;        ChartType.PIE -&gt; {&#10;            CustomPieChart(&#10;                data = uiState.spendingSnapshot.spendingCategories&#10;                    .map { category -&gt;&#10;                        Pie(&#10;                            label = category.categoryName,&#10;                            data = category.budgetAmount.toDouble(),&#10;                            color = colorFromLabel(category.categoryName)&#10;                        )&#10;&#10;                    },&#10;                modifier = Modifier.fillMaxWidth()&#10;            )&#10;&#10;            val categories =&#10;                uiState.spendingSnapshot.spendingCategories&#10;            if (categories.isNotEmpty()) {&#10;                Text(&#10;                    text = &quot;Phân tích chi tiêu theo danh mục&quot;,&#10;                    style = AppTypography.bodyMedium,&#10;                    color = Gray1&#10;                )&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(horizontal = 10.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;&#10;                    categories.forEach { category -&gt;&#10;                        val percentage =&#10;                            category.budgetAmount.toFloat() / uiState.spendingSnapshot.budgetAmount.toFloat()&#10;                        Row(&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            horizontalArrangement = Arrangement.spacedBy(&#10;                                10.dp&#10;                            ),&#10;                            verticalAlignment = Alignment.CenterVertically&#10;                        ) {&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .size(15.dp)&#10;                                    .background(&#10;                                        color = colorFromLabel(&#10;                                            category.categoryName&#10;                                        ),&#10;                                        shape = RoundedCornerShape(3.dp)&#10;                                    )&#10;                            )&#10;                            Column(modifier = Modifier.weight(1f)) {&#10;                                Row(modifier = Modifier.fillMaxWidth()) {&#10;                                    Text(&#10;                                        text = category.categoryName,&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                    Text(&#10;                                        text = formatterVND(&#10;                                            category.budgetAmount.toLong()&#10;                                        ),&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1,&#10;                                        modifier = Modifier.weight(&#10;                                            1f&#10;                                        ),&#10;                                        textAlign = TextAlign.End&#10;                                    )&#10;                                }&#10;                                ProgressBarWithLabel(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    progress = percentage&#10;                                )&#10;&#10;                            }&#10;                        }&#10;&#10;                    }&#10;&#10;                }&#10;            }&#10;&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun TransactionHistorySkeleton() {&#10;    Column(&#10;        modifier = Modifier.fillMaxSize(),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        // Budget overview skeleton&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            repeat(2) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .background(&#10;                            color = Gray2.copy(alpha = 0.2f),&#10;                            shape = RoundedCornerShape(15.dp)&#10;                        )&#10;                        .padding(vertical = 10.dp, horizontal = 20.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                ) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .width(60.dp)&#10;                            .height(12.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(4.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .width(80.dp)&#10;                            .height(16.dp)&#10;                            .background(&#10;                                color = Gray2.copy(alpha = 0.5f),&#10;                                shape = RoundedCornerShape(4.dp)&#10;                            )&#10;                            .shimmerEffect()&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Transaction cards skeleton&#10;        Column(&#10;            verticalArrangement = Arrangement.spacedBy(10.dp),&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(vertical = 10.dp)&#10;        ) {&#10;            repeat(5) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .shadow(&#10;                            elevation = 30.dp,&#10;                            shape = RoundedCornerShape(20.dp),&#10;                            ambientColor = Black1.copy(alpha = 0.25f),&#10;                            spotColor = Black1.copy(alpha = 0.25f)&#10;                        )&#10;                        .background(color = White1, shape = RoundedCornerShape(20.dp))&#10;                        .padding(10.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;                    // Title and date skeleton&#10;                    Row(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        horizontalArrangement = Arrangement.SpaceBetween&#10;                    ) {&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .width(150.dp)&#10;                                .height(16.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.5f),&#10;                                    shape = RoundedCornerShape(4.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .width(80.dp)&#10;                                .height(14.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.5f),&#10;                                    shape = RoundedCornerShape(4.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                    }&#10;&#10;                    // Category and amount skeleton&#10;                    Row(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        horizontalArrangement = Arrangement.SpaceBetween&#10;                    ) {&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .width(100.dp)&#10;                                .height(24.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.3f),&#10;                                    shape = RoundedCornerShape(10.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .width(90.dp)&#10;                                .height(14.dp)&#10;                                .background(&#10;                                    color = Gray2.copy(alpha = 0.5f),&#10;                                    shape = RoundedCornerShape(4.dp)&#10;                                )&#10;                                .shimmerEffect()&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun TransactionHistory(&#10;    records: LazyPagingItems&lt;SpendingRecordResponse&gt;,&#10;    uiState: SpendingDetailUiState,&#10;) {&#10;    val refreshState = rememberPullToRefreshState()&#10;    if (&#10;        uiState.spendingSnapshot == null&#10;    ) {&#10;        return&#10;    }&#10;&#10;    Column(&#10;        modifier = Modifier.fillMaxSize(),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;&#10;            Column(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .background(&#10;                        color = Green3.copy(&#10;                            alpha = 0.2f&#10;                        ),&#10;                        shape = RoundedCornerShape(15.dp)&#10;                    )&#10;                    .padding(vertical = 10.dp, horizontal = 20.dp)&#10;            ) {&#10;                Row(&#10;                    horizontalArrangement = Arrangement.spacedBy(5.dp),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.incoming_money),&#10;                        contentDescription = null,&#10;                        tint = Gray1,&#10;                        modifier = Modifier.size(14.dp)&#10;                    )&#10;                    Text(&#10;                        text = &quot;Ngân sách&quot;,&#10;                        style = AppTypography.labelMedium,&#10;                        color = Gray1&#10;                    )&#10;                }&#10;                Text(&#10;                    text = formatterVND(uiState.spendingSnapshot.budgetAmount.toLong()) + &quot;đ&quot;,&#10;                    style = AppTypography.labelLarge.copy(&#10;                        fontWeight = FontWeight.SemiBold&#10;                    ),&#10;                    color = Black1&#10;                )&#10;            }&#10;            Column(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .background(&#10;                        color = Red3.copy(&#10;                            alpha = 0.2f&#10;                        ),&#10;                        shape = RoundedCornerShape(15.dp)&#10;                    )&#10;                    .padding(vertical = 10.dp, horizontal = 20.dp)&#10;            ) {&#10;                Row(&#10;                    horizontalArrangement = Arrangement.spacedBy(5.dp),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.outgoing_money),&#10;                        contentDescription = null,&#10;                        tint = Gray1,&#10;                        modifier = Modifier.size(14.dp)&#10;                    )&#10;                    Text(&#10;                        text = &quot;Đã dùng&quot;,&#10;                        style = AppTypography.labelMedium,&#10;                        color = Gray1&#10;                    )&#10;                }&#10;                Text(&#10;                    text = formatterVND(uiState.spendingSnapshot.usedAmount.toLong()) + &quot;đ&quot;,&#10;                    style = AppTypography.labelLarge.copy(&#10;                        fontWeight = FontWeight.SemiBold&#10;                    ),&#10;                    color = Black1&#10;                )&#10;            }&#10;        }&#10;&#10;        PullToRefreshBox(&#10;            state = refreshState,&#10;            indicator = {&#10;                Box(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    contentAlignment = Alignment.TopCenter&#10;                ) {&#10;&#10;                    PullToRefreshDefaults.Indicator(&#10;                        state = refreshState,&#10;                        isRefreshing = uiState.screenState == SpendingDetailState.REFRESHING,&#10;                        containerColor = White1,&#10;                        color = Blue3,&#10;                    )&#10;                }&#10;&#10;            },&#10;&#10;            isRefreshing = uiState.screenState == SpendingDetailState.REFRESHING,&#10;            onRefresh = {&#10;                records.refresh()&#10;            },&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .weight(1f)&#10;        ) {&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(10.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(vertical = 10.dp),&#10;            ) {&#10;                for (i in 0 until records.itemCount) {&#10;                    val record = records[i] ?: continue&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .shadow(&#10;                                elevation = 30.dp,&#10;                                shape = RoundedCornerShape(20.dp),&#10;                                ambientColor = Black1.copy(alpha = 0.25f),&#10;                                spotColor = Black1.copy(alpha = 0.25f)&#10;                            )&#10;                            .background(color = White1, shape = RoundedCornerShape(20.dp))&#10;                            .padding(10.dp),&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        Row(&#10;                            modifier = Modifier.fillMaxWidth()&#10;                        ) {&#10;                            Text(&#10;                                text = record.description,&#10;                                style = AppTypography.bodyMedium.copy(&#10;                                    fontWeight = FontWeight.SemiBold&#10;                                ),&#10;                                color = Black1,&#10;                                modifier = Modifier.weight(1f),&#10;                                overflow = TextOverflow.Ellipsis,&#10;                                maxLines = 1&#10;                            )&#10;                            Text(&#10;                                text = formatterDateTimeString(LocalDateTime.parse(record.occurredAt)),&#10;                                style = AppTypography.bodySmall,&#10;                                color = Gray1&#10;                            )&#10;                        }&#10;                        Row(&#10;                            modifier = Modifier.fillMaxWidth()&#10;                        ) {&#10;                            if (record.categoryName != null &amp;&amp; record.categoryIcon != null) {&#10;&#10;                                Row(&#10;                                    modifier = Modifier&#10;                                        .background(&#10;                                            color = colorFromLabel(record.categoryName).copy(alpha = 0.2f),&#10;                                            shape = RoundedCornerShape(10.dp)&#10;                                        )&#10;                                        .padding(5.dp),&#10;                                    horizontalArrangement = Arrangement.spacedBy(&#10;                                        5.dp&#10;                                    )&#10;                                ) {&#10;                                    Icon(&#10;                                        painter = painterResource(id = record.categoryIcon.toInt()),&#10;                                        contentDescription = null,&#10;                                        tint = colorFromLabel(record.categoryName),&#10;                                        modifier = Modifier.size(14.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = record.categoryName,&#10;                                        style = AppTypography.labelMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                }&#10;                            } else {&#10;                                val color = colorFromLabel(&quot;Không xác định&quot;)&#10;                                Row(&#10;                                    modifier = Modifier.background(&#10;                                        color = color.copy(alpha = 0.2f),&#10;                                        shape = RoundedCornerShape(10.dp)&#10;                                    )&#10;                                ) {&#10;                                    Icon(&#10;                                        painter = painterResource(R.drawable.unknown),&#10;                                        contentDescription = null,&#10;                                        tint = color,&#10;                                        modifier = Modifier.size(14.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;Không xác định&quot;,&#10;                                        style = AppTypography.labelMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                }&#10;                            }&#10;&#10;                            Text(&#10;                                text = &quot;-&quot; + formatterVND(record.amount.toLong()),&#10;                                style = AppTypography.bodySmall.copy(&#10;                                    fontWeight = FontWeight.SemiBold&#10;                                ),&#10;                                color = Black1,&#10;                                modifier = Modifier.weight(1f),&#10;                                textAlign = TextAlign.End&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;                when (val state = records.loadState.append) {&#10;                    is LoadState.NotLoading -&gt; Unit&#10;                    is LoadState.Loading -&gt; {&#10;&#10;                            CircularProgressIndicator(&#10;                                color = Blue3, modifier = Modifier.size(30.dp)&#10;                            )&#10;                    }&#10;&#10;                    is LoadState.Error -&gt; {&#10;                        //todo&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun CategoriesDialog(&#10;    categories: List&lt;SpendingCategoryDetailResponse&gt;,&#10;    onDismiss: () -&gt; Unit&#10;) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(&#10;                color = Gray2.copy(alpha = 0.5f),&#10;            )&#10;            .padding(20.dp)&#10;            .customClick(onClick = onDismiss),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Box(&#10;            contentAlignment = Alignment.TopEnd,&#10;            modifier = Modifier&#10;                .background(&#10;                    color = White1,&#10;                    shape = RoundedCornerShape(20.dp)&#10;                )&#10;                .padding(15.dp)&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(10.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                verticalArrangement = Arrangement.spacedBy(15.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Danh mục chi tiêu&quot;,&#10;                    style = AppTypography.titleMedium.copy(&#10;                        fontWeight = FontWeight.Bold&#10;                    ),&#10;                    color = Black1&#10;                )&#10;&#10;                if (categories.isEmpty()) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(vertical = 30.dp),&#10;                        contentAlignment = Alignment.Center&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Không có danh mục nào&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = Gray1,&#10;                        )&#10;                    }&#10;                } else {&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .verticalScroll(rememberScrollState()),&#10;                        verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                    ) {&#10;                        categories.forEach { category -&gt;&#10;                            Column(&#10;                                modifier = Modifier&#10;                                    .fillMaxWidth()&#10;                                    .background(&#10;                                        color = colorFromLabel(category.categoryName).copy(alpha = 0.1f),&#10;                                        shape = RoundedCornerShape(15.dp)&#10;                                    )&#10;                                    .padding(15.dp),&#10;                                verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                            ) {&#10;                                Row(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    horizontalArrangement = Arrangement.SpaceBetween,&#10;                                    verticalAlignment = Alignment.CenterVertically&#10;                                ) {&#10;                                    Row(&#10;                                        horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                                        verticalAlignment = Alignment.CenterVertically&#10;                                    ) {&#10;                                        Box(&#10;                                            modifier = Modifier&#10;                                                .size(10.dp)&#10;                                                .background(&#10;                                                    color = colorFromLabel(category.categoryName),&#10;                                                    shape = RoundedCornerShape(2.dp)&#10;                                                )&#10;                                        )&#10;                                        Text(&#10;                                            text = category.categoryName,&#10;                                            style = AppTypography.bodyMedium.copy(&#10;                                                fontWeight = FontWeight.SemiBold&#10;                                            ),&#10;                                            color = Black1&#10;                                        )&#10;                                    }&#10;                                }&#10;&#10;                                Row(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    horizontalArrangement = Arrangement.SpaceBetween&#10;                                ) {&#10;                                    Column {&#10;                                        Text(&#10;                                            text = &quot;Ngân sách&quot;,&#10;                                            style = AppTypography.labelSmall,&#10;                                            color = Gray1&#10;                                        )&#10;                                        Text(&#10;                                            text = formatterVND(category.budgetAmount.toLong()) + &quot;đ&quot;,&#10;                                            style = AppTypography.bodySmall.copy(&#10;                                                fontWeight = FontWeight.SemiBold&#10;                                            ),&#10;                                            color = Black1&#10;                                        )&#10;                                    }&#10;                                    Column(&#10;                                        horizontalAlignment = Alignment.End&#10;                                    ) {&#10;                                        Text(&#10;                                            text = &quot;Đã dùng&quot;,&#10;                                            style = AppTypography.labelSmall,&#10;                                            color = Gray1&#10;                                        )&#10;                                        Text(&#10;                                            text = formatterVND(category.usedAmount.toLong()) + &quot;đ&quot;,&#10;                                            style = AppTypography.bodySmall.copy(&#10;                                                fontWeight = FontWeight.SemiBold&#10;                                            ),&#10;                                            color = Black1&#10;                                        )&#10;                                    }&#10;                                }&#10;&#10;                                val percentage = if (category.budgetAmount.toFloat() &gt; 0) {&#10;                                    category.usedAmount.toFloat() / category.budgetAmount.toFloat()&#10;                                } else {&#10;                                    0f&#10;                                }&#10;                                ProgressBarWithLabel(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    progress = percentage&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(&#10;    showBackground = true,&#10;    showSystemUi = true&#10;)&#10;@Composable&#10;fun SpendingFundDetailPreview() {&#10;    val pagingData = PagingData.from(&#10;        listOf(&#10;            SpendingRecordResponse(&#10;                id = &quot;rec_001&quot;,&#10;                snapshotId = &quot;snap_20260202&quot;,&#10;                transactionId = &quot;txn_889900&quot;,&#10;                amount = BigDecimal(&quot;150000.00&quot;),&#10;                description = &quot;Thanh toán tiền điện&quot;,&#10;                destinationAccountName = &quot;EVN HCMC&quot;,&#10;                destinationAccountNumber = &quot;19001001&quot;,&#10;                recordType = SpendingRecordType.EXPENSE,&#10;                categoryCode = &quot;UTIL&quot;,&#10;                categoryName = &quot;Tiện ích&quot;,&#10;                categoryIcon = R.drawable.airplane_service.toString(),&#10;                categoryTextColor = &quot;#FFFFFF&quot;,&#10;                categoryBackgroundColor = &quot;#FF9800&quot;,&#10;                occurredAt = LocalDateTime.now().toString()&#10;            )&#10;        )&#10;    )&#10;&#10;    SpendingSnapshotDetail(&#10;        uiState = SpendingDetailUiState(&#10;            screenState = SpendingDetailState.NONE,&#10;            spendingSnapshot = SpendingSnapshotDetailResponse(&#10;                id = &quot;1&quot;,&#10;                snapshotName = &quot;Chi tiêu tháng 6&quot;,&#10;                budgetAmount = BigDecimal(5000000),&#10;                usedAmount = BigDecimal(3500000),&#10;                monthlySpending = &quot;8/2025&quot;,&#10;                spendingCategories = listOf(&#10;                    SpendingCategoryDetailResponse(&#10;                        categoryName = &quot;Ăn uống&quot;,&#10;                        categoryCode = &quot;food&quot;,&#10;                        categoryIcon = &quot;&quot;,&#10;                        textColor = &quot;TODO()&quot;,&#10;                        backgroundColor = &quot;TODO()&quot;,&#10;                        budgetAmount = BigDecimal(5000000),&#10;                        usedAmount = BigDecimal(3500000),&#10;                    )&#10;                ),&#10;            ),&#10;            selectedTab = SpendingDetailTab.OVERVIEW&#10;        ),&#10;        records = flowOf(&#10;            pagingData&#10;        ).collectAsLazyPagingItems(),&#10;        onBackClick = {},&#10;        onEvent = {},&#10;    )&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/ibanking_kltn/ui/viewmodels/SpendingDetailViewModel.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/ibanking_kltn/ui/viewmodels/SpendingDetailViewModel.kt" />
              <option name="originalContent" value="package com.example.ibanking_kltn.ui.viewmodels&#10;&#10;import androidx.lifecycle.SavedStateHandle&#10;import androidx.lifecycle.ViewModel&#10;import androidx.lifecycle.viewModelScope&#10;import androidx.paging.Pager&#10;import androidx.paging.PagingConfig&#10;import androidx.paging.cachedIn&#10;import com.example.ibanking_kltn.data.repositories.SpendingRepository&#10;import com.example.ibanking_kltn.dtos.definitions.NavKey&#10;import com.example.ibanking_kltn.ui.event.SpendingDetailEffect&#10;import com.example.ibanking_kltn.ui.event.SpendingDetailEvent&#10;import com.example.ibanking_kltn.ui.pagingsources.SpendingHistoryPagingSource&#10;import com.example.ibanking_kltn.ui.uistates.ChartType&#10;import com.example.ibanking_kltn.ui.uistates.SnackBarUiState&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailState&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailTab&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailUiState&#10;import com.example.ibanking_kltn.utils.SnackBarType&#10;import com.example.ibanking_soa.data.utils.ApiResult&#10;import dagger.hilt.android.lifecycle.HiltViewModel&#10;import jakarta.inject.Inject&#10;import kotlinx.coroutines.ExperimentalCoroutinesApi&#10;import kotlinx.coroutines.flow.MutableSharedFlow&#10;import kotlinx.coroutines.flow.MutableStateFlow&#10;import kotlinx.coroutines.flow.StateFlow&#10;import kotlinx.coroutines.flow.asSharedFlow&#10;import kotlinx.coroutines.flow.asStateFlow&#10;import kotlinx.coroutines.flow.distinctUntilChanged&#10;import kotlinx.coroutines.flow.flatMapLatest&#10;import kotlinx.coroutines.flow.flowOf&#10;import kotlinx.coroutines.flow.map&#10;import kotlinx.coroutines.flow.update&#10;import kotlinx.coroutines.launch&#10;&#10;@HiltViewModel&#10;class SpendingDetailViewModel @Inject constructor(&#10;    private val spendingRepository: SpendingRepository,&#10;    savedStateHandle: SavedStateHandle&#10;) : ViewModel() {&#10;    private val _uiState = MutableStateFlow(SpendingDetailUiState())&#10;    val uiState: StateFlow&lt;SpendingDetailUiState&gt; = _uiState.asStateFlow()&#10;&#10;    private val _uiEffect = MutableSharedFlow&lt;SpendingDetailEffect&gt;()&#10;    val uiEffect = _uiEffect.asSharedFlow()&#10;&#10;    init {&#10;        val snapshotId =&#10;            savedStateHandle.get&lt;String&gt;(NavKey.SPENDING_SNAPSHOT_ID.name)&#10;        if (snapshotId != null) {&#10;            _uiState.update {&#10;                it.copy(&#10;                    snapshotId = snapshotId,&#10;                )&#10;&#10;            }&#10;            retryLoadData()&#10;        }&#10;&#10;&#10;    }&#10;&#10;    @OptIn(ExperimentalCoroutinesApi::class)&#10;    val records = uiState&#10;        .map {&#10;            uiState.value.spendingSnapshot?.monthlySpending&#10;        }&#10;        .distinctUntilChanged()&#10;        .flatMapLatest { monthlySpending -&gt;&#10;            monthlySpending?.let {&#10;                Pager(&#10;                    PagingConfig(&#10;                        pageSize = 10,&#10;                        prefetchDistance = 1&#10;                    )&#10;                ) {&#10;                    SpendingHistoryPagingSource(spendingRepository, monthlySpending)&#10;                }.flow.cachedIn(viewModelScope)&#10;            } ?: flowOf()&#10;        }&#10;&#10;    fun onEvent(event: SpendingDetailEvent) {&#10;        when (event) {&#10;            SpendingDetailEvent.RetryLoadData -&gt; retryLoadData()&#10;            SpendingDetailEvent.ChangeChartType -&gt; changeChartType()&#10;            SpendingDetailEvent.ChangeTab -&gt; changeTab()&#10;            SpendingDetailEvent.AddTransaction -&gt; TODO()&#10;            SpendingDetailEvent.ViewCategories -&gt; toggleCategoriesDialog()&#10;        }&#10;    }&#10;&#10;    private fun retryLoadData(&#10;    ) {&#10;        _uiState.update {&#10;            it.copy(&#10;                screenState = SpendingDetailState.INIT&#10;            )&#10;        }&#10;        viewModelScope.launch {&#10;            val snapshot = spendingRepository.getDetailSpendingSnapshot(&#10;                snapshotId = uiState.value.snapshotId!!&#10;            )&#10;            when (snapshot) {&#10;                is ApiResult.Error -&gt; {&#10;                    _uiState.update {&#10;                        it.copy(&#10;                            screenState = SpendingDetailState.INIT_FAILED&#10;                        )&#10;                    }&#10;                    _uiEffect.emit(&#10;                        SpendingDetailEffect.ShowSnackBar(&#10;                            SnackBarUiState(&#10;                                message = snapshot.message, type = SnackBarType.ERROR&#10;                            )&#10;                        )&#10;                    )&#10;                }&#10;&#10;                is ApiResult.Success -&gt; {&#10;                    _uiState.update {&#10;                        it.copy(&#10;                            spendingSnapshot = snapshot.data,&#10;                            screenState = SpendingDetailState.NONE&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun changeChartType() {&#10;        _uiState.update {&#10;            it.copy(&#10;                chartType = when (it.chartType) {&#10;                    ChartType.BAR -&gt; ChartType.PIE&#10;                    ChartType.PIE -&gt; ChartType.BAR&#10;                }&#10;            )&#10;        }&#10;    }&#10;&#10;    private fun changeTab() {&#10;        _uiState.update {&#10;            it.copy(&#10;                selectedTab = when (it.selectedTab) {&#10;                    SpendingDetailTab.OVERVIEW -&gt; SpendingDetailTab.HISTORY&#10;                    SpendingDetailTab.HISTORY -&gt; SpendingDetailTab.OVERVIEW&#10;                }&#10;            )&#10;        }&#10;    }&#10;&#10;    private fun toggleCategoriesDialog() {&#10;        _uiState.update {&#10;            it.copy(&#10;                isShowCategoriesDialog = !it.isShowCategoriesDialog&#10;            )&#10;        }&#10;    }&#10;&#10;}" />
              <option name="updatedContent" value="package com.example.ibanking_kltn.ui.viewmodels&#10;&#10;import androidx.lifecycle.SavedStateHandle&#10;import androidx.lifecycle.ViewModel&#10;import androidx.lifecycle.viewModelScope&#10;import androidx.paging.Pager&#10;import androidx.paging.PagingConfig&#10;import androidx.paging.cachedIn&#10;import com.example.ibanking_kltn.data.repositories.SpendingRepository&#10;import com.example.ibanking_kltn.dtos.definitions.NavKey&#10;import com.example.ibanking_kltn.ui.event.SpendingDetailEffect&#10;import com.example.ibanking_kltn.ui.event.SpendingDetailEvent&#10;import com.example.ibanking_kltn.ui.pagingsources.SpendingHistoryPagingSource&#10;import com.example.ibanking_kltn.ui.uistates.ChartType&#10;import com.example.ibanking_kltn.ui.uistates.SnackBarUiState&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailState&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailTab&#10;import com.example.ibanking_kltn.ui.uistates.SpendingDetailUiState&#10;import com.example.ibanking_kltn.utils.SnackBarType&#10;import com.example.ibanking_soa.data.utils.ApiResult&#10;import dagger.hilt.android.lifecycle.HiltViewModel&#10;import jakarta.inject.Inject&#10;import kotlinx.coroutines.ExperimentalCoroutinesApi&#10;import kotlinx.coroutines.flow.MutableSharedFlow&#10;import kotlinx.coroutines.flow.MutableStateFlow&#10;import kotlinx.coroutines.flow.StateFlow&#10;import kotlinx.coroutines.flow.asSharedFlow&#10;import kotlinx.coroutines.flow.asStateFlow&#10;import kotlinx.coroutines.flow.distinctUntilChanged&#10;import kotlinx.coroutines.flow.flatMapLatest&#10;import kotlinx.coroutines.flow.flowOf&#10;import kotlinx.coroutines.flow.map&#10;import kotlinx.coroutines.flow.update&#10;import kotlinx.coroutines.launch&#10;&#10;@HiltViewModel&#10;class SpendingDetailViewModel @Inject constructor(&#10;    private val spendingRepository: SpendingRepository,&#10;    savedStateHandle: SavedStateHandle&#10;) : ViewModel() {&#10;    private val _uiState = MutableStateFlow(SpendingDetailUiState())&#10;    val uiState: StateFlow&lt;SpendingDetailUiState&gt; = _uiState.asStateFlow()&#10;&#10;    private val _uiEffect = MutableSharedFlow&lt;SpendingDetailEffect&gt;()&#10;    val uiEffect = _uiEffect.asSharedFlow()&#10;&#10;    init {&#10;        val snapshotId =&#10;            savedStateHandle.get&lt;String&gt;(NavKey.SPENDING_SNAPSHOT_ID.name)&#10;        if (snapshotId != null) {&#10;            _uiState.update {&#10;                it.copy(&#10;                    snapshotId = snapshotId,&#10;                )&#10;&#10;            }&#10;            retryLoadData()&#10;        }&#10;&#10;&#10;    }&#10;&#10;    @OptIn(ExperimentalCoroutinesApi::class)&#10;    val records = uiState&#10;        .map {&#10;            uiState.value.spendingSnapshot?.monthlySpending&#10;        }&#10;        .distinctUntilChanged()&#10;        .flatMapLatest { monthlySpending -&gt;&#10;            monthlySpending?.let {&#10;                Pager(&#10;                    PagingConfig(&#10;                        pageSize = 10,&#10;                        prefetchDistance = 1&#10;                    )&#10;                ) {&#10;                    SpendingHistoryPagingSource(spendingRepository, monthlySpending)&#10;                }.flow.cachedIn(viewModelScope)&#10;            } ?: flowOf()&#10;        }&#10;&#10;    fun onEvent(event: SpendingDetailEvent) {&#10;        when (event) {&#10;            SpendingDetailEvent.RetryLoadData -&gt; retryLoadData()&#10;            SpendingDetailEvent.ChangeChartType -&gt; changeChartType()&#10;            SpendingDetailEvent.ChangeTab -&gt; changeTab()&#10;            SpendingDetailEvent.AddTransaction -&gt; TODO()&#10;            SpendingDetailEvent.ViewCategories -&gt; toggleCategoriesDialog()&#10;        }&#10;    }&#10;&#10;    private fun retryLoadData(&#10;    ) {&#10;        _uiState.update {&#10;            it.copy(&#10;                screenState = SpendingDetailState.INIT&#10;            )&#10;        }&#10;        viewModelScope.launch {&#10;            val snapshot = spendingRepository.getDetailSpendingSnapshot(&#10;                snapshotId = uiState.value.snapshotId!!&#10;            )&#10;            when (snapshot) {&#10;                is ApiResult.Error -&gt; {&#10;                    _uiState.update {&#10;                        it.copy(&#10;                            screenState = SpendingDetailState.INIT_FAILED&#10;                        )&#10;                    }&#10;                    _uiEffect.emit(&#10;                        SpendingDetailEffect.ShowSnackBar(&#10;                            SnackBarUiState(&#10;                                message = snapshot.message, type = SnackBarType.ERROR&#10;                            )&#10;                        )&#10;                    )&#10;                }&#10;&#10;                is ApiResult.Success -&gt; {&#10;                    _uiState.update {&#10;                        it.copy(&#10;                            spendingSnapshot = snapshot.data,&#10;                            screenState = SpendingDetailState.NONE&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun changeChartType() {&#10;        _uiState.update {&#10;            it.copy(&#10;                chartType = when (it.chartType) {&#10;                    ChartType.BAR -&gt; ChartType.PIE&#10;                    ChartType.PIE -&gt; ChartType.BAR&#10;                }&#10;            )&#10;        }&#10;    }&#10;&#10;    private fun changeTab() {&#10;        _uiState.update {&#10;            it.copy(&#10;                selectedTab = when (it.selectedTab) {&#10;                    SpendingDetailTab.OVERVIEW -&gt; SpendingDetailTab.HISTORY&#10;                    SpendingDetailTab.HISTORY -&gt; SpendingDetailTab.OVERVIEW&#10;                }&#10;            )&#10;        }&#10;    }&#10;&#10;    private fun toggleCategoriesDialog() {&#10;        _uiState.update {&#10;            it.copy(&#10;                isShowCategoriesDialog = !it.isShowCategoriesDialog&#10;            )&#10;        }&#10;    }&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/ibanking_kltn/utils/CommonComponents.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/ibanking_kltn/utils/CommonComponents.kt" />
              <option name="originalContent" value="package com.example.ibanking_kltn.utils&#10;&#10;import androidx.compose.animation.core.EaseInOut&#10;import androidx.compose.animation.core.FastOutSlowInEasing&#10;import androidx.compose.animation.core.LinearEasing&#10;import androidx.compose.animation.core.LinearOutSlowInEasing&#10;import androidx.compose.animation.core.RepeatMode&#10;import androidx.compose.animation.core.Spring&#10;import androidx.compose.animation.core.animateDpAsState&#10;import androidx.compose.animation.core.animateFloat&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.animation.core.infiniteRepeatable&#10;import androidx.compose.animation.core.rememberInfiniteTransition&#10;import androidx.compose.animation.core.spring&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.BorderStroke&#10;import androidx.compose.foundation.Canvas&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.interaction.MutableInteractionSource&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.IntrinsicSize&#10;import androidx.compose.foundation.layout.PaddingValues&#10;import androidx.compose.foundation.layout.Row&#10;import androidx.compose.foundation.layout.Spacer&#10;import androidx.compose.foundation.layout.aspectRatio&#10;import androidx.compose.foundation.layout.fillMaxHeight&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.offset&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.layout.width&#10;import androidx.compose.foundation.layout.wrapContentHeight&#10;import androidx.compose.foundation.lazy.grid.GridCells&#10;import androidx.compose.foundation.lazy.grid.LazyVerticalGrid&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.text.BasicTextField&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.outlined.Delete&#10;import androidx.compose.material.icons.outlined.Edit&#10;import androidx.compose.material.icons.rounded.Info&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.ButtonColors&#10;import androidx.compose.material3.ButtonDefaults&#10;import androidx.compose.material3.Card&#10;import androidx.compose.material3.CardDefaults&#10;import androidx.compose.material3.CircularProgressIndicator&#10;import androidx.compose.material3.DropdownMenu&#10;import androidx.compose.material3.DropdownMenuItem&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.HorizontalDivider&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.OutlinedTextFieldDefaults&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.TextButton&#10;import androidx.compose.material3.TextFieldColors&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.State&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableIntStateOf&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.alpha&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.draw.scale&#10;import androidx.compose.ui.draw.shadow&#10;import androidx.compose.ui.geometry.Offset&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.PathEffect&#10;import androidx.compose.ui.graphics.Shape&#10;import androidx.compose.ui.graphics.asImageBitmap&#10;import androidx.compose.ui.graphics.painter.BitmapPainter&#10;import androidx.compose.ui.input.pointer.pointerInput&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.layout.onGloballyPositioned&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.platform.LocalDensity&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.TextRange&#10;import androidx.compose.ui.text.TextStyle&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.text.input.TextFieldValue&#10;import androidx.compose.ui.text.input.VisualTransformation&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.Dp&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import com.commandiron.wheel_picker_compose.WheelDatePicker&#10;import com.commandiron.wheel_picker_compose.core.SelectorProperties&#10;import com.example.ibanking_kltn.R&#10;import com.example.ibanking_kltn.dtos.definitions.AccountType&#10;import com.example.ibanking_kltn.dtos.definitions.BillPayload&#10;import com.example.ibanking_kltn.dtos.definitions.BillStatus&#10;import com.example.ibanking_kltn.dtos.definitions.PayLaterApplicationStatus&#10;import com.example.ibanking_kltn.dtos.definitions.PayLaterApplicationType&#10;import com.example.ibanking_kltn.dtos.definitions.QRPayload&#10;import com.example.ibanking_kltn.dtos.definitions.SavedReceiverInfo&#10;import com.example.ibanking_kltn.dtos.definitions.ServiceType&#10;import com.example.ibanking_kltn.dtos.definitions.SortOption&#10;import com.example.ibanking_kltn.dtos.definitions.TabNavigation&#10;import com.example.ibanking_kltn.dtos.definitions.TransactionStatus&#10;import com.example.ibanking_kltn.dtos.definitions.TransferPayload&#10;import com.example.ibanking_kltn.ui.theme.AppTypography&#10;import com.example.ibanking_kltn.ui.theme.BackgroundColor&#10;import com.example.ibanking_kltn.ui.theme.Black1&#10;import com.example.ibanking_kltn.ui.theme.Blue1&#10;import com.example.ibanking_kltn.ui.theme.Blue3&#10;import com.example.ibanking_kltn.ui.theme.Blue5&#10;import com.example.ibanking_kltn.ui.theme.Blue6&#10;import com.example.ibanking_kltn.ui.theme.ErrorGradient&#10;import com.example.ibanking_kltn.ui.theme.Gray1&#10;import com.example.ibanking_kltn.ui.theme.Gray2&#10;import com.example.ibanking_kltn.ui.theme.Gray3&#10;import com.example.ibanking_kltn.ui.theme.Gray4&#10;import com.example.ibanking_kltn.ui.theme.Green1&#10;import com.example.ibanking_kltn.ui.theme.InfoGradient&#10;import com.example.ibanking_kltn.ui.theme.LabelColor&#10;import com.example.ibanking_kltn.ui.theme.SuccessGradient&#10;import com.example.ibanking_kltn.ui.theme.TextColor&#10;import com.example.ibanking_kltn.ui.theme.WarningGradient&#10;import com.example.ibanking_kltn.ui.theme.White1&#10;import com.example.ibanking_kltn.ui.theme.White3&#10;import com.example.ibanking_kltn.utils.ContinuousSelectionHelper.getSelection&#10;import com.kizitonwose.calendar.compose.VerticalCalendar&#10;import com.kizitonwose.calendar.compose.rememberCalendarState&#10;import com.kizitonwose.calendar.core.CalendarDay&#10;import com.kizitonwose.calendar.core.CalendarMonth&#10;import com.kizitonwose.calendar.core.DayPosition&#10;import com.kizitonwose.calendar.core.daysOfWeek&#10;import ir.ehsannarmani.compose_charts.ColumnChart&#10;import ir.ehsannarmani.compose_charts.PieChart&#10;import ir.ehsannarmani.compose_charts.models.BarProperties&#10;import ir.ehsannarmani.compose_charts.models.Bars&#10;import ir.ehsannarmani.compose_charts.models.GridProperties&#10;import ir.ehsannarmani.compose_charts.models.HorizontalIndicatorProperties&#10;import ir.ehsannarmani.compose_charts.models.Pie&#10;import me.saket.swipe.SwipeAction&#10;import me.saket.swipe.SwipeableActionsBox&#10;import java.time.DayOfWeek&#10;import java.time.LocalDate&#10;import java.time.YearMonth&#10;import java.time.format.DateTimeFormatter&#10;import java.util.UUID&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun CustomTextField(&#10;    value: String,&#10;    onValueChange: (String) -&gt; Unit,&#10;    modifier: Modifier = Modifier,&#10;    enable: Boolean = true,&#10;    isError: Boolean = false,&#10;    readOnly: Boolean = false,&#10;    textStyle: TextStyle = AppTypography.bodyMedium,&#10;    keyboardOptions: KeyboardOptions = KeyboardOptions(&#10;        keyboardType = KeyboardType.Text, imeAction = ImeAction.Done&#10;    ),&#10;    keyboardActions: KeyboardActions = KeyboardActions(&#10;&#10;    ),&#10;    singleLine: Boolean = true,&#10;    maxLines: Int = 1,&#10;    textFieldColors: TextFieldColors = OutlinedTextFieldDefaults.colors(&#10;        focusedTextColor = Black1,&#10;        unfocusedTextColor = Gray2,&#10;        unfocusedPlaceholderColor = Gray2,&#10;        unfocusedBorderColor = Gray2,&#10;        focusedBorderColor = Blue1,&#10;    ),&#10;    isPasswordField: Boolean = false,&#10;    isPasswordShow: Boolean = false,&#10;    shape: Shape = RoundedCornerShape(30),&#10;    placeholder: @Composable (() -&gt; Unit)? = null,&#10;    leadingIcon: @Composable (() -&gt; Unit)? = null,&#10;    trailingIcon: @Composable (() -&gt; Unit)? = null,&#10;    visualTransformation: VisualTransformation = VisualTransformation.None,&#10;    interactionSource: MutableInteractionSource = remember { MutableInteractionSource() },&#10;) {&#10;    val textFieldValue = TextFieldValue(&#10;        text = value, selection = TextRange(value.length)&#10;    )&#10;&#10;&#10;    BasicTextField(&#10;        modifier = modifier,&#10;        value = value,&#10;        onValueChange = onValueChange,&#10;        enabled = enable,&#10;        readOnly = readOnly,&#10;        textStyle = textStyle,&#10;        keyboardOptions = keyboardOptions,&#10;        keyboardActions = keyboardActions,&#10;        singleLine = singleLine,&#10;        maxLines = maxLines,&#10;        visualTransformation = if (isPasswordField &amp;&amp; !isPasswordShow) PasswordVisualTransformation() else VisualTransformation.None,&#10;        decorationBox = @Composable { innerTextField -&gt;&#10;            OutlinedTextFieldDefaults.DecorationBox(&#10;                value = textFieldValue.text,&#10;                innerTextField = innerTextField,&#10;                visualTransformation = visualTransformation,&#10;                placeholder = placeholder,&#10;                leadingIcon = leadingIcon,&#10;                trailingIcon = trailingIcon,&#10;                enabled = enable,&#10;                interactionSource = interactionSource,&#10;                colors = textFieldColors,&#10;                singleLine = singleLine,&#10;                container = {&#10;                    OutlinedTextFieldDefaults.Container(&#10;                        enabled = enable,&#10;                        isError = isError,&#10;                        interactionSource = interactionSource,&#10;                        colors = textFieldColors,&#10;                        shape = shape&#10;                    )&#10;                },&#10;            )&#10;        },&#10;&#10;        )&#10;&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun &lt;T&gt; CustomDropdownField(&#10;    modifier: Modifier = Modifier,&#10;    options: List&lt;T&gt;,&#10;    optionsComposable: @Composable (T) -&gt; Unit,&#10;    selectedOption: String,&#10;    onOptionSelected: (T) -&gt; Unit,&#10;    placeholder: String&#10;) {&#10;    var expanded by remember { mutableStateOf(false) }&#10;    var boxWidth by remember { mutableIntStateOf(0) }&#10;    Box(&#10;        modifier = modifier.onGloballyPositioned { coordinates -&gt;&#10;            boxWidth = coordinates.size.width&#10;        }) {&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .shadow(&#10;                    elevation = 30.dp,&#10;                    shape = RoundedCornerShape(30),&#10;                    ambientColor = Black1.copy(alpha = 0.25f),&#10;                    spotColor = Black1.copy(alpha = 0.25f)&#10;                )&#10;                .border(&#10;                    width = 1.dp, color = Gray2, shape = RoundedCornerShape(30)&#10;                )&#10;                .background(&#10;                    color = White1, shape = RoundedCornerShape(30)&#10;                )&#10;                .clickable {&#10;                    expanded = true&#10;                }&#10;                .padding(15.dp)) {&#10;            Column(&#10;                verticalArrangement = Arrangement.Center, modifier = Modifier.weight(1f)&#10;            ) {&#10;                if (selectedOption == &quot;&quot;) Text(&#10;                    text = placeholder, style = AppTypography.bodyMedium, color = Gray2&#10;                )&#10;                else Text(&#10;                    text = selectedOption, style = AppTypography.bodyMedium, color = Black1&#10;                )&#10;&#10;            }&#10;            Icon(&#10;                painter = painterResource(R.drawable.dropdown),&#10;                tint = Gray1,&#10;                contentDescription = null,&#10;                modifier = Modifier.size(25.dp)&#10;            )&#10;        }&#10;&#10;        DropdownMenu(&#10;            expanded = expanded,&#10;            onDismissRequest = {&#10;                expanded = false&#10;            },&#10;            containerColor = White1,&#10;            modifier = Modifier.width(with(LocalDensity.current) { boxWidth.toDp() })&#10;&#10;        ) {&#10;            options.forEach { option -&gt;&#10;                DropdownMenuItem(&#10;&#10;                    text = {&#10;                        optionsComposable(option)&#10;                    },&#10;                    onClick = {&#10;                        expanded = false&#10;                        onOptionSelected(&#10;                            option&#10;                        )&#10;                    },&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun CustomDropdownField(&#10;    modifier: Modifier = Modifier,&#10;    options: List&lt;String&gt;,&#10;    selectedOption: String,&#10;    onOptionSelected: (String) -&gt; Unit,&#10;    placeholder: String&#10;) {&#10;    var expanded by remember { mutableStateOf(false) }&#10;    var boxWidth by remember { mutableIntStateOf(0) }&#10;    Box(&#10;        modifier = modifier.onGloballyPositioned { coordinates -&gt;&#10;            boxWidth = coordinates.size.width&#10;        }) {&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .shadow(&#10;                    elevation = 30.dp,&#10;                    shape = RoundedCornerShape(30),&#10;                    ambientColor = Black1.copy(alpha = 0.25f),&#10;                    spotColor = Black1.copy(alpha = 0.25f)&#10;                )&#10;                .border(&#10;                    width = 1.dp, color = Gray2, shape = RoundedCornerShape(30)&#10;                )&#10;                .background(&#10;                    color = White1, shape = RoundedCornerShape(30)&#10;                )&#10;                .clickable {&#10;                    expanded = true&#10;                }&#10;                .padding(15.dp)) {&#10;            Column(&#10;                verticalArrangement = Arrangement.Center, modifier = Modifier.weight(1f)&#10;            ) {&#10;                if (selectedOption == &quot;&quot;) Text(&#10;                    text = placeholder, style = AppTypography.bodyMedium, color = Gray2&#10;                )&#10;                else Text(&#10;                    text = selectedOption, style = AppTypography.bodyMedium, color = Black1&#10;                )&#10;&#10;            }&#10;            Icon(&#10;                painter = painterResource(R.drawable.dropdown),&#10;                tint = Gray1,&#10;                contentDescription = null,&#10;                modifier = Modifier.size(25.dp)&#10;            )&#10;        }&#10;&#10;        DropdownMenu(&#10;            expanded = expanded,&#10;            onDismissRequest = {&#10;                expanded = false&#10;            },&#10;            containerColor = White1,&#10;            modifier = Modifier.width(with(LocalDensity.current) { boxWidth.toDp() })&#10;&#10;        ) {&#10;            options.forEach { option -&gt;&#10;                DropdownMenuItem(&#10;&#10;                    text = { Text(option) },&#10;                    onClick = {&#10;                        expanded = false&#10;                        onOptionSelected(&#10;                            option&#10;                        )&#10;                    },&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun CustomTextButton(&#10;    onClick: () -&gt; Unit,&#10;    modifier: Modifier = Modifier,&#10;    text: String,&#10;    enable: Boolean = true,&#10;    buttonColor: ButtonColors = ButtonDefaults.textButtonColors(&#10;        containerColor = Blue1,&#10;        disabledContainerColor = Gray4,&#10;        contentColor = White1,&#10;        disabledContentColor = White1&#10;    ),&#10;    isLoading: Boolean = false,&#10;    style: TextStyle = AppTypography.bodyMedium,&#10;) {&#10;    TextButton(&#10;        onClick = onClick,&#10;        modifier = modifier,&#10;        shape = RoundedCornerShape(30),&#10;        colors = buttonColor,&#10;        enabled = enable &amp;&amp; !isLoading,&#10;    ) {&#10;        if (isLoading) CircularProgressIndicator(color = White1, modifier = Modifier.size(20.dp))&#10;        else Text(&#10;            text = text,&#10;            style = style,&#10;            color = if (enable) buttonColor.contentColor else buttonColor.disabledContentColor,&#10;            textAlign = TextAlign.Center,&#10;            modifier = Modifier.padding(horizontal = 10.dp, vertical = 5.dp)&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;fun DashedDivider(&#10;    modifier: Modifier = Modifier,&#10;    dashWidth: Dp = 4.dp,&#10;    dashHeight: Dp = 2.dp,&#10;    gapWidth: Dp = 2.dp,&#10;    color: Color = Gray1,&#10;) {&#10;    Canvas(modifier) {&#10;&#10;        val pathEffect = PathEffect.dashPathEffect(&#10;            intervals = floatArrayOf(dashWidth.toPx(), gapWidth.toPx()), phase = 0f&#10;        )&#10;&#10;        drawLine(&#10;            color = color,&#10;            start = Offset(0f, 0f),&#10;            end = Offset(size.width, 0f),&#10;            pathEffect = pathEffect,&#10;            strokeWidth = dashHeight.toPx()&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;fun OtpDialogCustom(&#10;    otpLength: Int,&#10;    otpValue: String,&#10;    onOtpChange: (String) -&gt; Unit,&#10;    onDismiss: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color.Black.copy(alpha = 0.5f))&#10;            .clickable(&#10;                onClick = onDismiss,&#10;                indication = null,&#10;                interactionSource = remember { MutableInteractionSource() }),&#10;    ) {&#10;        Box(&#10;            modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.BottomCenter&#10;        ) {&#10;            Column(&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .background(&#10;                        color = White1, shape = RoundedCornerShape(topStart = 20.dp, topEnd = 20.dp)&#10;                    )&#10;                    .clickable(&#10;                        interactionSource = remember { MutableInteractionSource() },&#10;                        indication = null&#10;                    ) {}) {&#10;                Surface(&#10;                    shadowElevation = 8.dp, color = Color.Transparent&#10;                ) {&#10;                    Box(&#10;                        contentAlignment = Alignment.Center,&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .background(&#10;                                color = Blue3,&#10;                                shape = RoundedCornerShape(topStart = 20.dp, topEnd = 20.dp)&#10;                            )&#10;                            .padding(10.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Nhập mã OTP&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = White1&#10;                        )&#10;                    }&#10;                }&#10;                Column(&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    verticalArrangement = Arrangement.Top,&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(20.dp)&#10;                ) {&#10;                    Box(&#10;                        contentAlignment = Alignment.Center,&#10;                        modifier = modifier&#10;                            .fillMaxWidth()&#10;                            .clip(shape = RoundedCornerShape(20.dp))&#10;                            .background(color = White3)&#10;                            .padding(vertical = 10.dp)&#10;                    ) {&#10;                        BasicTextField(&#10;                            value = otpValue, onValueChange = {&#10;                                if (it.length &lt;= otpLength &amp;&amp; it.all { c -&gt; c.isDigit() }) {&#10;                                    onOtpChange(it)&#10;                                }&#10;                            }, keyboardOptions = KeyboardOptions(&#10;                                keyboardType = KeyboardType.NumberPassword&#10;                            ), decorationBox = {&#10;                                Row(&#10;                                    horizontalArrangement = Arrangement.SpaceEvenly,&#10;                                    verticalAlignment = Alignment.CenterVertically,&#10;                                    modifier = Modifier&#10;                                        .fillMaxWidth()&#10;                                        .clip(shape = RoundedCornerShape(20.dp))&#10;                                        .background(color = BackgroundColor)&#10;                                ) {&#10;                                    repeat(otpLength) { index -&gt;&#10;                                        val isFilled = index &lt; otpValue.length&#10;                                        Box(&#10;                                            modifier = Modifier&#10;                                                .size(30.dp)&#10;                                                .clip(CircleShape)&#10;                                                .background(if (isFilled) TextColor else LabelColor)&#10;                                                .border(&#10;                                                    width = 2.dp,&#10;                                                    color = if (isFilled) TextColor else LabelColor,&#10;                                                    shape = CircleShape&#10;                                                )&#10;                                        )&#10;                                    }&#10;                                }&#10;                            })&#10;                    }&#10;                    Box(&#10;                        contentAlignment = Alignment.Center,&#10;                        modifier = Modifier.padding(vertical = 10.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;&quot;, style = AppTypography.bodyMedium, color = BackgroundColor&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;        }&#10;&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun LoadingScaffold(&#10;    isLoading: Boolean,&#10;    content: @Composable () -&gt; Unit,&#10;) {&#10;    Box(&#10;        modifier = Modifier.fillMaxSize()&#10;    ) {&#10;        content()&#10;        if (isLoading) {&#10;            Box(&#10;                contentAlignment = Alignment.Center, modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        color = Gray3.copy(alpha = 0.5f),&#10;                    )&#10;                    .pointerInput(Unit) {}) {&#10;                CircularProgressIndicator(&#10;                    color = Blue3, modifier = Modifier.size(30.dp)&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun NavigationBar(&#10;    bottomBarHeight: Dp,&#10;    currentTab: TabNavigation,&#10;    onNavigateToSettingScreen: () -&gt; Unit,&#10;    onNavigateToHomeScreen: () -&gt; Unit,&#10;    onNavigateToTransactionHistoryScreen: () -&gt; Unit,&#10;    onNavigateToAnalyticsScreen: () -&gt; Unit,&#10;    onNavigateToQRScanner: () -&gt; Unit,&#10;) {&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .height(bottomBarHeight)&#10;            .background(color = Color.Transparent)&#10;    ) {&#10;        //nav&#10;        Column(&#10;            verticalArrangement = Arrangement.Bottom,&#10;            modifier = Modifier&#10;                .height(bottomBarHeight)&#10;                .fillMaxWidth()&#10;//                        .background(White3)&#10;        ) {&#10;            Row(&#10;                verticalAlignment = Alignment.CenterVertically,&#10;                horizontalArrangement = Arrangement.spacedBy(&#10;                    75.dp, alignment = Alignment.CenterHorizontally&#10;                ),&#10;                modifier = Modifier&#10;&#10;                    .height(bottomBarHeight * 5 / 8)&#10;                    .fillMaxWidth()&#10;                    .shadow(&#10;                        elevation = 30.dp,&#10;                        shape = RoundedCornerShape(topStart = 0.2f, topEnd = 0.2f),&#10;                        ambientColor = Black1.copy(alpha = 0.9f),&#10;                        spotColor = Black1.copy(alpha = 0.9f),&#10;                    )&#10;                    .background(&#10;                        color = White1, shape = RoundedCornerShape(topStart = 0.2f, topEnd = 0.2f)&#10;                    )&#10;&#10;            ) {&#10;                Row(&#10;                    verticalAlignment = Alignment.CenterVertically,&#10;                    horizontalArrangement = Arrangement.spacedBy(&#10;                        30.dp, alignment = Alignment.CenterHorizontally&#10;                    ),&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .padding(10.dp)&#10;                ) {&#10;                    IconButton(onClick = {&#10;                        if (currentTab != TabNavigation.HOME)&#10;                            onNavigateToHomeScreen()&#10;                    }) {&#10;                        Icon(&#10;                            painter = painterResource(R.drawable.category),&#10;                            contentDescription = null,&#10;                            tint = if (currentTab == TabNavigation.HOME) Blue3 else Gray1,&#10;                            modifier = Modifier.size(35.dp)&#10;                        )&#10;                    }&#10;&#10;                    IconButton(onClick = {&#10;                        if (currentTab != TabNavigation.HISTORY)&#10;                            onNavigateToTransactionHistoryScreen()&#10;                    }) {&#10;                        Icon(&#10;                            painter = painterResource(R.drawable.history_bold),&#10;                            contentDescription = null,&#10;                            tint = if (currentTab == TabNavigation.HISTORY) Blue3 else Gray1,&#10;                            modifier = Modifier.size(35.dp)&#10;                        )&#10;                    }&#10;&#10;                }&#10;                Row(&#10;                    verticalAlignment = Alignment.CenterVertically,&#10;                    horizontalArrangement = Arrangement.spacedBy(&#10;                        30.dp, alignment = Alignment.CenterHorizontally&#10;                    ),&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .padding(10.dp)&#10;                ) {&#10;                    IconButton(onClick = {&#10;                        if (currentTab != TabNavigation.ANALYTICS)&#10;                            onNavigateToAnalyticsScreen()&#10;                    }) {&#10;                        Icon(&#10;                            painter = painterResource(R.drawable.analytic),&#10;                            contentDescription = null,&#10;                            tint = if (currentTab == TabNavigation.ANALYTICS) Blue3 else Gray1,&#10;                            modifier = Modifier.size(35.dp)&#10;                        )&#10;                    }&#10;&#10;                    IconButton(onClick = {&#10;                        if (currentTab != TabNavigation.PROFILE)&#10;                            onNavigateToSettingScreen()&#10;                    }) {&#10;                        Icon(&#10;                            painter = painterResource(R.drawable.profile),&#10;                            contentDescription = null,&#10;                            tint = if (currentTab == TabNavigation.PROFILE) Blue3 else Gray1,&#10;                            modifier = Modifier.size(35.dp)&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        Column(&#10;            verticalArrangement = Arrangement.Center,&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            modifier = Modifier&#10;                .height(bottomBarHeight)&#10;                .fillMaxWidth()&#10;        ) {&#10;            IconButton(&#10;                onClick = {&#10;                    onNavigateToQRScanner()&#10;                }, modifier = Modifier&#10;                    .shadow(&#10;                        elevation = 20.dp, shape = RoundedCornerShape(40),&#10;                        spotColor = Color.Transparent,&#10;                        ambientColor = Color.Transparent&#10;                    )&#10;                    .border(&#10;                        width = 5.dp, color = White1, shape = RoundedCornerShape(40)&#10;                    )&#10;                    .background(color = Blue3, shape = RoundedCornerShape(40))&#10;                    .padding(5.dp)&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.qr),&#10;                    contentDescription = null,&#10;                    tint = White1,&#10;                    modifier = Modifier.size(35.dp)&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;}&#10;&#10;&#10;@Composable&#10;private fun animateFadeAndScaleSnackBar(): Pair&lt;Float, Float&gt; {&#10;    val alpha by animateFloatAsState(&#10;        targetValue = 1f, animationSpec = tween(&#10;            durationMillis = SnackBarConstants.ALPHA_DURATION, easing = FastOutSlowInEasing&#10;        ), label = &quot;alpha&quot;&#10;    )&#10;    val scale by animateFloatAsState(&#10;        targetValue = 1f, animationSpec = tween(&#10;            durationMillis = SnackBarConstants.SCALE_DURATION, easing = FastOutSlowInEasing&#10;        ), label = &quot;scale&quot;&#10;    )&#10;    return alpha to scale&#10;}&#10;&#10;private object SnackBarConstants {&#10;    val PADDING = 8.dp&#10;    val CONTENT_PADDING = 12.dp&#10;    val CORNER_RADIUS = 12.dp&#10;    val ICON_SIZE = 24.dp&#10;    val ICON_PADDING = 8.dp&#10;    val SPACING = 8.dp&#10;    val BUTTON_HEIGHT = 36.dp&#10;    val MESSAGE_FONT_SIZE = 14.sp&#10;    val ACTION_FONT_SIZE = 14.sp&#10;    const val ALPHA_DURATION = 250&#10;    const val SCALE_DURATION = 200&#10;}&#10;&#10;enum class SnackBarType {&#10;    SUCCESS, ERROR, WARNING, INFO&#10;}&#10;&#10;@Composable&#10;fun GradientSnackBar(&#10;    type: SnackBarType,&#10;    message: String,&#10;    modifier: Modifier = Modifier,&#10;    actionLabel: String? = &quot;Đóng&quot;,&#10;    onAction: () -&gt; Unit = {},&#10;) {&#10;    val (alphaAnim, scaleAnim) = animateFadeAndScaleSnackBar()&#10;//    Box(&#10;//        modifier = Modifier.fillMaxSize()&#10;//    ) {&#10;//&#10;//        Box(&#10;//            modifier = Modifier&#10;//                .align(Alignment.BottomCenter)&#10;//                .padding(bottom = 16.dp)&#10;//        ) {&#10;    Card(&#10;        modifier = modifier&#10;            .fillMaxWidth(0.9f)&#10;            .wrapContentHeight()&#10;            .alpha(alphaAnim)&#10;            .scale(scaleAnim)&#10;            .padding(SnackBarConstants.PADDING),&#10;        shape = RoundedCornerShape(SnackBarConstants.CORNER_RADIUS),&#10;        colors = CardDefaults.cardColors(containerColor = Color.Transparent),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 6.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .background(&#10;                    Brush.linearGradient(&#10;                        colors = when (type) {&#10;                            SnackBarType.SUCCESS -&gt; SuccessGradient&#10;                            SnackBarType.ERROR -&gt; ErrorGradient&#10;                            SnackBarType.WARNING -&gt; WarningGradient&#10;                            SnackBarType.INFO -&gt; InfoGradient&#10;                        }&#10;                    )&#10;                )&#10;                .padding(SnackBarConstants.CONTENT_PADDING)&#10;                .height(IntrinsicSize.Min),&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            horizontalArrangement = Arrangement.SpaceBetween&#10;        ) {&#10;            Row(&#10;                verticalAlignment = Alignment.CenterVertically, modifier = Modifier.weight(1f)&#10;            ) {&#10;                when (type) {&#10;                    SnackBarType.SUCCESS -&gt; Icon(&#10;                        painter = painterResource(R.drawable.success),&#10;                        contentDescription = null,&#10;                        tint = Color.White,&#10;                        modifier = Modifier&#10;                            .size(SnackBarConstants.ICON_SIZE)&#10;                            .padding(end = SnackBarConstants.ICON_PADDING)&#10;                    )&#10;&#10;                    else -&gt; Icon(&#10;                        imageVector = Icons.Rounded.Info,&#10;                        contentDescription = null,&#10;                        tint = Color.White,&#10;                        modifier = Modifier&#10;                            .size(SnackBarConstants.ICON_SIZE)&#10;                            .padding(end = SnackBarConstants.ICON_PADDING)&#10;                    )&#10;                }&#10;                Text(&#10;                    text = message,&#10;                    color = Color.White,&#10;                    fontSize = SnackBarConstants.MESSAGE_FONT_SIZE,&#10;                    textAlign = TextAlign.Start,&#10;                    lineHeight = SnackBarConstants.MESSAGE_FONT_SIZE * 1.2f,&#10;                    modifier = Modifier.padding(end = SnackBarConstants.SPACING)&#10;                )&#10;            }&#10;            actionLabel?.let {&#10;                TextButton(&#10;                    onClick = onAction, modifier = Modifier.height(SnackBarConstants.BUTTON_HEIGHT)&#10;                ) {&#10;                    Text(&#10;                        text = it,&#10;                        color = Color.White,&#10;                        fontSize = SnackBarConstants.ACTION_FONT_SIZE,&#10;                        fontWeight = FontWeight.Medium&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;//        }&#10;//    }&#10;}&#10;&#10;&#10;@Composable&#10;fun QrCodeImage(&#10;    modifier: Modifier = Modifier,&#10;    content: QRPayload,&#10;    size: Dp,&#10;    onSavedSuccess: () -&gt; Unit = {},&#10;) {&#10;    val payload = jsonInstance().encodeToString(content)&#10;    val bitmap = generateQrBitmap(payload, size = size.value.toInt())&#10;    val context = LocalContext.current&#10;    val id = UUID.randomUUID()&#10;    Box(&#10;        modifier = modifier&#10;            .background(Color.White),&#10;        contentAlignment = Alignment.Center,&#10;    ) {&#10;        Column(verticalArrangement = Arrangement.spacedBy(10.dp)) {&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.Center&#10;            ) {&#10;                Image(&#10;                    painter = remember(bitmap) { BitmapPainter(bitmap.asImageBitmap()) },&#10;                    contentDescription = null,&#10;                    contentScale = ContentScale.FillBounds,&#10;                    modifier = Modifier.size(size),&#10;                )&#10;            }&#10;&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                verticalAlignment = Alignment.CenterVertically,&#10;            ) {&#10;                Column(&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .clickable {&#10;                            saveBitmapToInternalStorage(&#10;                                context = context,&#10;                                bitmap = bitmap,&#10;                                fileName = id.toString()&#10;                            )&#10;                            onSavedSuccess()&#10;                        }) {&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.image),&#10;                        contentDescription = &quot;Bill Image&quot;,&#10;                        modifier = Modifier.size(25.dp)&#10;                    )&#10;                    Text(&#10;                        text = &quot;Lưu ảnh QR&quot;,&#10;                        style = AppTypography.bodyMedium,&#10;                        color = Black1,&#10;                    )&#10;                }&#10;                Column(&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    modifier = Modifier&#10;                        .weight(1f)&#10;                        .clickable {&#10;                            shareText(&#10;                                context = context,&#10;                                text = when (content) {&#10;                                    is BillPayload -&gt; content.billCode&#10;                                    is TransferPayload -&gt; content.toWalletNumber&#10;                                }&#10;                            )&#10;                        }&#10;                ) {&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.export),&#10;                        contentDescription = null,&#10;                        modifier = Modifier.size(25.dp)&#10;                    )&#10;                    Text(&#10;                        text = &quot;Chia sẻ QR&quot;,&#10;                        style = AppTypography.bodyMedium,&#10;                        color = Black1,&#10;                    )&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun BillFilterDialog(&#10;    selectedStatus: BillStatus? = null,&#10;    selectedSort: SortOption = SortOption.NEWEST,&#10;    onSelectStatus: (String) -&gt; Unit = {},&#10;    onSelectSort: (String) -&gt; Unit = {},&#10;    onResetStatusFilter: () -&gt; Unit = {},&#10;    onResetSortFilter: () -&gt; Unit = {},&#10;    onResetAll: () -&gt; Unit = {},&#10;    onApply: () -&gt; Unit = {},&#10;    onDismiss: () -&gt; Unit = {}&#10;) {&#10;    val billStatusOptions = BillStatus.entries.map { status -&gt;&#10;        status.status&#10;    }&#10;    val billSortOptions = SortOption.entries.map { it.sortBy }&#10;&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .background(&#10;                color = White1, shape = RoundedCornerShape(12.dp)&#10;            )&#10;            .padding(5.dp)&#10;    ) {&#10;        Box(&#10;            contentAlignment = Alignment.TopEnd,&#10;        ) {&#10;&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(12.dp),&#10;                modifier = Modifier.padding(15.dp)&#10;            ) {&#10;&#10;&#10;                Text(&#10;                    text = &quot;Lọc theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#10;                )&#10;&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Trạng thái hóa đơn&quot;,&#10;                        style = AppTypography.bodyMedium,&#10;                        color = Gray1&#10;                    )&#10;                    Spacer(modifier = Modifier.weight(1f))&#10;                    Text(&#10;                        text = &quot;Bỏ lọc&quot;,&#10;                        style = AppTypography.bodyMedium,&#10;                        color = Blue1,&#10;                        modifier = Modifier.clickable {&#10;                            onResetStatusFilter()&#10;                        })&#10;                }&#10;&#10;                CustomDropdownField(&#10;                    options = billStatusOptions,&#10;                    selectedOption = selectedStatus?.status ?: &quot;&quot;,&#10;                    onOptionSelected = {&#10;                        onSelectStatus(it)&#10;                    },&#10;                    placeholder = &quot;Trạng thái hóa đơn&quot;&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(4.dp))&#10;&#10;                Text(&#10;                    text = &quot;Sắp xếp theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#10;                )&#10;&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Ngày tạo&quot;, style = AppTypography.bodyMedium, color = Gray1&#10;                    )&#10;                    Spacer(modifier = Modifier.weight(1f))&#10;                    Text(&#10;                        text = &quot;Bỏ lọc&quot;,&#10;                        style = AppTypography.bodyMedium,&#10;                        color = Blue1,&#10;                        modifier = Modifier.clickable {&#10;                            onResetSortFilter()&#10;                        })&#10;                }&#10;&#10;                CustomDropdownField(&#10;                    options = billSortOptions,&#10;                    selectedOption = selectedSort.sortBy,&#10;                    onOptionSelected = {&#10;                        onSelectSort(it)&#10;                    },&#10;                    placeholder = &quot;Sắp xếp theo&quot;&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;                    Button(&#10;                        onClick = {&#10;                            onResetAll()&#10;                        },&#10;                        modifier = Modifier&#10;                            .weight(1f)&#10;                            .height(44.dp),&#10;                        colors = ButtonDefaults.buttonColors(&#10;                            containerColor = Gray2&#10;                        ),&#10;                        shape = RoundedCornerShape(10.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Đặt lại&quot;, style = AppTypography.bodyMedium, color = Black1&#10;                        )&#10;                    }&#10;&#10;                    Button(&#10;                        onClick = {&#10;                            onApply()&#10;                        },&#10;                        modifier = Modifier&#10;                            .weight(1f)&#10;                            .height(44.dp),&#10;                        colors = ButtonDefaults.buttonColors(&#10;                            containerColor = Blue1&#10;                        ),&#10;                        shape = RoundedCornerShape(10.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Áp dụng&quot;, style = AppTypography.bodyMedium, color = White1&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;            Box(&#10;                modifier = Modifier&#10;                    .shadow(&#10;                        elevation = 0.dp, shape = RoundedCornerShape(10.dp)&#10;                    )&#10;                    .clickable {&#10;                        onDismiss()&#10;                    }) {&#10;&#10;                Icon(&#10;                    painter = painterResource(R.drawable.close),&#10;                    contentDescription = null,&#10;                    tint = Gray1,&#10;                    modifier = Modifier.size(35.dp)&#10;                )&#10;            }&#10;        }&#10;&#10;&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun TransactionHistoryFilterDialog(&#10;&#10;    currentFromDate: LocalDate,&#10;    currentToDate: LocalDate,&#10;    currentStatus: TransactionStatus?,&#10;    currentService: ServiceType?,&#10;    currentAccountType: AccountType,&#10;    currentSort: SortOption = SortOption.NEWEST,&#10;&#10;    onApply: (status: TransactionStatus?, service: ServiceType?, accountType: AccountType, sort: SortOption, fromDate: LocalDate, toDate: LocalDate) -&gt; Unit,&#10;    onDismiss: () -&gt; Unit = {}&#10;) {&#10;    var selectedStatus by remember {&#10;        mutableStateOf&lt;TransactionStatus?&gt;(currentStatus)&#10;    }&#10;&#10;    var selectedService by remember {&#10;        mutableStateOf&lt;ServiceType?&gt;(currentService)&#10;    }&#10;&#10;    var selectedAccountType by remember {&#10;        mutableStateOf&lt;AccountType&gt;(currentAccountType)&#10;    }&#10;&#10;    var selectedSort by remember {&#10;        mutableStateOf(currentSort)&#10;    }&#10;&#10;    var selectedFromDate by remember {&#10;        mutableStateOf(currentFromDate)&#10;    }&#10;&#10;    var selectedToDate by remember {&#10;        mutableStateOf(currentToDate)&#10;    }&#10;&#10;&#10;    var isShowFromDatePicker by remember {&#10;        mutableStateOf(false)&#10;    }&#10;    var isShowToDatePicker by remember {&#10;        mutableStateOf(false)&#10;    }&#10;    Box(&#10;        modifier = Modifier.fillMaxSize(),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(&#10;                    color = White1, shape = RoundedCornerShape(12.dp)&#10;                )&#10;                .padding(5.dp)&#10;        ) {&#10;&#10;            Box(&#10;                contentAlignment = Alignment.TopEnd,&#10;            ) {&#10;&#10;                Column(&#10;                    verticalArrangement = Arrangement.spacedBy(12.dp),&#10;                    modifier = Modifier.padding(15.dp)&#10;                ) {&#10;&#10;&#10;                    Text(&#10;                        text = &quot;Lọc theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#10;                    )&#10;                    Column(&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        Column(&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#10;&#10;                        ) {&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;Trạng thái hóa đơn&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Gray1&#10;                                )&#10;                                Spacer(modifier = Modifier.weight(1f))&#10;                                Text(&#10;                                    text = &quot;Bỏ lọc&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Blue1,&#10;                                    modifier = Modifier.clickable {&#10;                                        selectedStatus = null&#10;                                    }&#10;                                )&#10;                            }&#10;&#10;                            CustomDropdownField(&#10;                                options = TransactionStatus.entries.filter { it != TransactionStatus.PENDING },&#10;                                selectedOption = selectedStatus?.status ?: &quot;&quot;,&#10;                                onOptionSelected = {&#10;                                    selectedStatus = it&#10;                                },&#10;                                optionsComposable = {&#10;                                    Text(&#10;                                        text = it.status,&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                },&#10;                                placeholder = &quot;Trạng thái hóa đơn&quot;&#10;                            )&#10;                        }&#10;                        Column(&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#10;&#10;                        ) {&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;Loại dịch vụ&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Gray1&#10;                                )&#10;                                Spacer(modifier = Modifier.weight(1f))&#10;                                Text(&#10;                                    text = &quot;Bỏ lọc&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Blue1,&#10;                                    modifier = Modifier.clickable {&#10;                                        selectedService = null&#10;                                    }&#10;                                )&#10;                            }&#10;&#10;                            CustomDropdownField(&#10;                                options = ServiceType.entries,&#10;                                selectedOption = selectedService?.serviceName ?: &quot;&quot;,&#10;                                onOptionSelected = {&#10;                                    selectedService = it&#10;                                },&#10;                                optionsComposable = {&#10;                                    Text(&#10;                                        text = it.serviceName,&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                },&#10;                                placeholder = &quot;Loại dịch vụ&quot;&#10;                            )&#10;                        }&#10;                        Column(&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#10;&#10;                        ) {&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;Tài khoản thanh toán&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Gray1&#10;                                )&#10;                                Spacer(modifier = Modifier.weight(1f))&#10;                                Text(&#10;                                    text = &quot;Bỏ lọc&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Blue1,&#10;                                    modifier = Modifier.clickable {&#10;                                        selectedAccountType = AccountType.WALLET&#10;                                    }&#10;                                )&#10;                            }&#10;&#10;                            CustomDropdownField(&#10;                                options = AccountType.entries,&#10;                                selectedOption = selectedAccountType?.type ?: &quot;&quot;,&#10;                                onOptionSelected = {&#10;                                    selectedAccountType = it&#10;                                },&#10;                                optionsComposable = {&#10;                                    Text(&#10;                                        text = it.type,&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                },&#10;                                placeholder = &quot;Tài khoản thanh toán&quot;&#10;                            )&#10;                        }&#10;                        Column(&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#10;&#10;                        ) {&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;Ngày&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Gray1&#10;                                )&#10;                                Spacer(modifier = Modifier.weight(1f))&#10;                                Text(&#10;                                    text = &quot;Bỏ lọc&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Blue1,&#10;                                    modifier = Modifier.clickable {&#10;                                        selectedFromDate = LocalDate.now().minusMonths(1)&#10;                                        selectedToDate = LocalDate.now()&#10;                                    }&#10;                                )&#10;                            }&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically,&#10;                                horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                            ) {&#10;                                CustomClickField(&#10;                                    onClick = {&#10;                                        isShowFromDatePicker = true&#10;                                    },&#10;                                    placeholder = &quot;Từ ngày&quot;,&#10;                                    value = selectedFromDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)),&#10;                                    trailingIcon = {&#10;                                        Icon(&#10;                                            painter = painterResource(R.drawable.calendar),&#10;                                            tint = Gray1,&#10;                                            contentDescription = null,&#10;                                            modifier = Modifier.size(25.dp)&#10;                                        )&#10;                                    },&#10;                                    modifier = Modifier.weight(1f)&#10;                                )&#10;                                CustomClickField(&#10;                                    onClick = {&#10;                                        isShowToDatePicker = true&#10;                                    },&#10;                                    placeholder = &quot;Đến ngày&quot;,&#10;                                    value = selectedToDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)),&#10;                                    trailingIcon = {&#10;                                        Icon(&#10;                                            painter = painterResource(R.drawable.calendar),&#10;                                            tint = Gray1,&#10;                                            contentDescription = null,&#10;                                            modifier = Modifier.size(25.dp)&#10;                                        )&#10;                                    },&#10;                                    modifier = Modifier.weight(1f)&#10;                                )&#10;&#10;                            }&#10;                        }&#10;&#10;                    }&#10;&#10;                    Spacer(modifier = Modifier.height(4.dp))&#10;&#10;                    Text(&#10;                        text = &quot;Sắp xếp theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#10;                    )&#10;&#10;                    Row(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        verticalAlignment = Alignment.CenterVertically&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Ngày tạo&quot;, style = AppTypography.bodyMedium, color = Gray1&#10;                        )&#10;                        Spacer(modifier = Modifier.weight(1f))&#10;                        Text(&#10;                            text = &quot;Bỏ lọc&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = Blue1,&#10;                            modifier = Modifier.clickable {&#10;                                selectedSort = SortOption.NEWEST&#10;                            })&#10;                    }&#10;&#10;                    CustomDropdownField(&#10;                        options = SortOption.entries,&#10;                        selectedOption = selectedSort.sortBy,&#10;                        onOptionSelected = {&#10;                            selectedSort = it&#10;                        },&#10;                        optionsComposable = {&#10;                            Text(&#10;                                text = it.sortBy,&#10;                                style = AppTypography.bodyMedium,&#10;                                color = Black1&#10;                            )&#10;                        },&#10;                        placeholder = &quot;Sắp xếp theo&quot;&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                    Row(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        Button(&#10;                            onClick = {&#10;                                selectedStatus = null&#10;                                selectedService = null&#10;                                selectedAccountType = AccountType.WALLET&#10;                                selectedFromDate = LocalDate.now().minusMonths(1)&#10;                                selectedToDate = LocalDate.now()&#10;                                selectedSort = SortOption.NEWEST&#10;                                onApply(&#10;                                    selectedStatus,&#10;                                    selectedService,&#10;                                    selectedAccountType,&#10;                                    selectedSort,&#10;                                    selectedFromDate,&#10;                                    selectedToDate&#10;                                )&#10;                            },&#10;                            modifier = Modifier&#10;                                .weight(1f)&#10;                                .height(44.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Gray2&#10;                            ),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Đặt lại&quot;,&#10;                                style = AppTypography.bodyMedium,&#10;                                color = Black1&#10;                            )&#10;                        }&#10;&#10;                        Button(&#10;                            onClick = {&#10;                                onApply(&#10;                                    selectedStatus,&#10;                                    selectedService,&#10;                                    selectedAccountType,&#10;                                    selectedSort,&#10;                                    selectedFromDate,&#10;                                    selectedToDate&#10;                                )&#10;                            },&#10;                            modifier = Modifier&#10;                                .weight(1f)&#10;                                .height(44.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Blue1&#10;                            ),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Áp dụng&quot;,&#10;                                style = AppTypography.bodyMedium,&#10;                                color = White1&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;                Box(&#10;                    modifier = Modifier&#10;                        .shadow(&#10;                            elevation = 0.dp, shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .clickable {&#10;                            onDismiss()&#10;                        }) {&#10;&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.close),&#10;                        contentDescription = null,&#10;                        tint = Gray1,&#10;                        modifier = Modifier.size(35.dp)&#10;                    )&#10;                }&#10;            }&#10;&#10;&#10;        }&#10;&#10;        if (isShowFromDatePicker) {&#10;            Box(&#10;                contentAlignment = Alignment.BottomEnd,&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        color = Gray3.copy(alpha = 0.5f),&#10;                    )&#10;                    .padding(20.dp)&#10;                    .pointerInput(Unit) {}) {&#10;                CustomDatePicker(&#10;                    minDate = LocalDate.now().minusYears(2),&#10;                    maxDate = LocalDate.now(),&#10;                    onSelectedDate = {&#10;                        selectedFromDate = it&#10;                        isShowFromDatePicker = false&#10;                    },&#10;                    onDismiss = {&#10;                        isShowFromDatePicker = false&#10;                    }&#10;                )&#10;&#10;            }&#10;&#10;        }&#10;        if (isShowToDatePicker) {&#10;            Box(&#10;                contentAlignment = Alignment.BottomEnd,&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        color = Gray3.copy(alpha = 0.5f),&#10;                    )&#10;                    .padding(20.dp)&#10;                    .pointerInput(Unit) {}) {&#10;                CustomDatePicker(&#10;                    minDate = LocalDate.now().minusYears(2),&#10;                    maxDate = LocalDate.now(),&#10;                    onSelectedDate = {&#10;                        selectedToDate = it&#10;                        isShowToDatePicker = false&#10;                    },&#10;                    onDismiss = {&#10;                        isShowToDatePicker = false&#10;                    }&#10;                )&#10;&#10;            }&#10;&#10;        }&#10;&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun PayLaterApplicationHistoryFilterDialog(&#10;    currentStatus: PayLaterApplicationStatus?,&#10;    currentType: PayLaterApplicationType?,&#10;    currentFromDate: LocalDate,&#10;    currentToDate: LocalDate,&#10;    onApply: (status: PayLaterApplicationStatus?, type: PayLaterApplicationType?, fromDate: LocalDate, toDate: LocalDate) -&gt; Unit,&#10;    onDismiss: () -&gt; Unit&#10;) {&#10;    var selectedStatus by remember {&#10;        mutableStateOf&lt;PayLaterApplicationStatus?&gt;(currentStatus)&#10;    }&#10;&#10;    var selectedType by remember {&#10;        mutableStateOf&lt;PayLaterApplicationType?&gt;(currentType)&#10;    }&#10;&#10;&#10;    var selectedFromDate by remember {&#10;        mutableStateOf(currentFromDate)&#10;    }&#10;&#10;    var selectedToDate by remember {&#10;        mutableStateOf(currentToDate)&#10;    }&#10;&#10;&#10;    var isShowFromDatePicker by remember {&#10;        mutableStateOf(false)&#10;    }&#10;    var isShowToDatePicker by remember {&#10;        mutableStateOf(false)&#10;    }&#10;    Box(&#10;        modifier = Modifier.fillMaxSize(),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(&#10;                    color = White1, shape = RoundedCornerShape(12.dp)&#10;                )&#10;                .padding(5.dp)&#10;        ) {&#10;&#10;            Box(&#10;                contentAlignment = Alignment.TopEnd,&#10;            ) {&#10;&#10;                Column(&#10;                    verticalArrangement = Arrangement.spacedBy(12.dp),&#10;                    modifier = Modifier.padding(15.dp)&#10;                ) {&#10;&#10;&#10;                    Text(&#10;                        text = &quot;Lọc theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#10;                    )&#10;                    Column(&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        Column(&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#10;&#10;                        ) {&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;Trạng thái đơn&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Gray1&#10;                                )&#10;                                Spacer(modifier = Modifier.weight(1f))&#10;                                Text(&#10;                                    text = &quot;Bỏ lọc&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Blue1,&#10;                                    modifier = Modifier.clickable {&#10;                                        selectedStatus = null&#10;                                    }&#10;                                )&#10;                            }&#10;&#10;                            CustomDropdownField&lt;PayLaterApplicationStatus&gt;(&#10;                                options = PayLaterApplicationStatus.entries,&#10;                                selectedOption = selectedStatus?.statusName ?: &quot;&quot;,&#10;                                onOptionSelected = {&#10;                                    selectedStatus = it&#10;                                },&#10;                                optionsComposable = {&#10;                                    Text(&#10;                                        text = it.statusName,&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                },&#10;                                placeholder = &quot;Trạng thái đơn&quot;&#10;                            )&#10;                        }&#10;                        Column(&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#10;&#10;                        ) {&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;Loại đơn&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Gray1&#10;                                )&#10;                                Spacer(modifier = Modifier.weight(1f))&#10;                                Text(&#10;                                    text = &quot;Bỏ lọc&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Blue1,&#10;                                    modifier = Modifier.clickable {&#10;                                        selectedType = null&#10;                                    }&#10;                                )&#10;                            }&#10;&#10;                            CustomDropdownField(&#10;                                options = PayLaterApplicationType.entries,&#10;                                selectedOption = selectedType?.typeName ?: &quot;&quot;,&#10;                                onOptionSelected = {&#10;                                    selectedType = it&#10;                                },&#10;                                optionsComposable = {&#10;                                    Text(&#10;                                        text = it.typeName,&#10;                                        style = AppTypography.bodyMedium,&#10;                                        color = Black1&#10;                                    )&#10;                                },&#10;                                placeholder = &quot;Loại đơn&quot;&#10;                            )&#10;                        }&#10;                        Column(&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#10;&#10;                        ) {&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;Ngày&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Gray1&#10;                                )&#10;                                Spacer(modifier = Modifier.weight(1f))&#10;                                Text(&#10;                                    text = &quot;Bỏ lọc&quot;,&#10;                                    style = AppTypography.bodyMedium,&#10;                                    color = Blue1,&#10;                                    modifier = Modifier.clickable {&#10;                                        selectedFromDate = LocalDate.now().minusDays(30)&#10;                                        selectedToDate = LocalDate.now()&#10;                                    }&#10;                                )&#10;                            }&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalAlignment = Alignment.CenterVertically,&#10;                                horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                            ) {&#10;                                CustomClickField(&#10;                                    onClick = {&#10;                                        isShowFromDatePicker = true&#10;                                    },&#10;                                    placeholder = &quot;Từ ngày&quot;,&#10;                                    value = selectedFromDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)),&#10;                                    trailingIcon = {&#10;                                        Icon(&#10;                                            painter = painterResource(R.drawable.calendar),&#10;                                            tint = Gray1,&#10;                                            contentDescription = null,&#10;                                            modifier = Modifier.size(25.dp)&#10;                                        )&#10;                                    },&#10;                                    modifier = Modifier.weight(1f)&#10;                                )&#10;                                CustomClickField(&#10;                                    onClick = {&#10;                                        isShowToDatePicker = true&#10;                                    },&#10;                                    placeholder = &quot;Đến ngày&quot;,&#10;                                    value = selectedToDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)),&#10;                                    trailingIcon = {&#10;                                        Icon(&#10;                                            painter = painterResource(R.drawable.calendar),&#10;                                            tint = Gray1,&#10;                                            contentDescription = null,&#10;                                            modifier = Modifier.size(25.dp)&#10;                                        )&#10;                                    },&#10;                                    modifier = Modifier.weight(1f)&#10;                                )&#10;&#10;                            }&#10;                        }&#10;&#10;                    }&#10;&#10;&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                    Row(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                    ) {&#10;                        Button(&#10;                            onClick = {&#10;                                selectedStatus = null&#10;                                selectedType = null&#10;                                selectedFromDate = LocalDate.now().minusDays(30)&#10;                                selectedToDate = LocalDate.now()&#10;                                onApply(&#10;                                    selectedStatus,&#10;                                    selectedType,&#10;                                    selectedFromDate,&#10;                                    selectedToDate&#10;                                )&#10;                            },&#10;                            modifier = Modifier&#10;                                .weight(1f)&#10;                                .height(44.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Gray2&#10;                            ),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Đặt lại&quot;,&#10;                                style = AppTypography.bodyMedium,&#10;                                color = Black1&#10;                            )&#10;                        }&#10;&#10;                        Button(&#10;                            onClick = {&#10;                                onApply(&#10;                                    selectedStatus,&#10;                                    selectedType,&#10;                                    selectedFromDate,&#10;                                    selectedToDate&#10;                                )&#10;                            },&#10;                            modifier = Modifier&#10;                                .weight(1f)&#10;                                .height(44.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Blue1&#10;                            ),&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Áp dụng&quot;,&#10;                                style = AppTypography.bodyMedium,&#10;                                color = White1&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;                Box(&#10;                    modifier = Modifier&#10;                        .shadow(&#10;                            elevation = 0.dp, shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .clickable {&#10;                            onDismiss()&#10;                        }) {&#10;&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.close),&#10;                        contentDescription = null,&#10;                        tint = Gray1,&#10;                        modifier = Modifier.size(35.dp)&#10;                    )&#10;                }&#10;            }&#10;&#10;&#10;        }&#10;&#10;        if (isShowFromDatePicker) {&#10;            Box(&#10;                contentAlignment = Alignment.BottomEnd,&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        color = Gray3.copy(alpha = 0.5f),&#10;                    )&#10;                    .padding(20.dp)&#10;                    .pointerInput(Unit) {}) {&#10;                CustomDatePicker(&#10;                    minDate = LocalDate.now().minusYears(2),&#10;                    maxDate = LocalDate.now(),&#10;                    onSelectedDate = {&#10;                        selectedFromDate = it&#10;                        isShowFromDatePicker = false&#10;                    },&#10;                    onDismiss = {&#10;                        isShowFromDatePicker = false&#10;                    }&#10;                )&#10;&#10;            }&#10;&#10;        }&#10;        if (isShowToDatePicker) {&#10;            Box(&#10;                contentAlignment = Alignment.BottomEnd,&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .background(&#10;                        color = Gray3.copy(alpha = 0.5f),&#10;                    )&#10;                    .padding(20.dp)&#10;                    .pointerInput(Unit) {}) {&#10;                CustomDatePicker(&#10;                    minDate = LocalDate.now().minusYears(2),&#10;                    maxDate = LocalDate.now(),&#10;                    onSelectedDate = {&#10;                        selectedToDate = it&#10;                        isShowToDatePicker = false&#10;                    },&#10;                    onDismiss = {&#10;                        isShowToDatePicker = false&#10;                    }&#10;                )&#10;&#10;            }&#10;&#10;        }&#10;&#10;    }&#10;}&#10;&#10;@Composable&#10;fun CustomSwitchButton(&#10;    switchPadding: Dp = 4.dp,&#10;    buttonWidth: Dp = 60.dp,&#10;    buttonHeight: Dp = 30.dp,&#10;    value: Boolean,&#10;    onClick: () -&gt; Unit&#10;) {&#10;&#10;    val switchSize by remember {&#10;        mutableStateOf(buttonHeight - switchPadding * 2)&#10;    }&#10;&#10;    val interactionSource = remember {&#10;        MutableInteractionSource()&#10;    }&#10;&#10;&#10;    var padding by remember {&#10;        mutableStateOf(0.dp)&#10;    }&#10;&#10;    padding = if (value) buttonWidth - switchSize - switchPadding * 2 else 0.dp&#10;&#10;    val animateSize by animateDpAsState(&#10;        targetValue = if (value) padding else 0.dp,&#10;        tween(&#10;            durationMillis = 700,&#10;            delayMillis = 0,&#10;            easing = LinearOutSlowInEasing&#10;        )&#10;    )&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .width(buttonWidth)&#10;            .height(buttonHeight)&#10;            .clip(CircleShape)&#10;            .background(if (value) Green1 else Color.LightGray)&#10;            .clickable(&#10;                interactionSource = interactionSource,&#10;                indication = null&#10;            ) {&#10;&#10;                onClick()&#10;&#10;            }&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(switchPadding)&#10;        ) {&#10;&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxHeight()&#10;                    .width(animateSize)&#10;                    .background(Color.Transparent)&#10;            )&#10;&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(switchSize)&#10;                    .clip(CircleShape)&#10;                    .background(Color.White)&#10;            )&#10;&#10;        }&#10;    }&#10;&#10;}&#10;&#10;&#10;@Composable&#10;fun Example2Page(&#10;    close: () -&gt; Unit = {},&#10;    dateSelected: (startDate: LocalDate, endDate: LocalDate) -&gt; Unit = { _, _ -&gt; },&#10;) {&#10;    val currentMonth = remember { YearMonth.now() }&#10;    val startMonth = remember { currentMonth }&#10;    val endMonth = remember { currentMonth.plusMonths(12) }&#10;    val today = remember { LocalDate.now() }&#10;    var selection by remember {&#10;        mutableStateOf(&#10;            DateSelection(&#10;                startDate = LocalDate.now().plusDays(1),&#10;                endDate = LocalDate.now().plusDays(3)&#10;            )&#10;        )&#10;    }&#10;    val daysOfWeek = remember { daysOfWeek() }&#10;    MaterialTheme(colorScheme = MaterialTheme.colorScheme.copy(primary = Blue1)) {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(Color.White)&#10;                .padding(10.dp),&#10;        ) {&#10;            Column {&#10;                val state = rememberCalendarState(&#10;                    startMonth = startMonth,&#10;                    endMonth = endMonth,&#10;                    firstVisibleMonth = currentMonth,&#10;                    firstDayOfWeek = daysOfWeek.first(),&#10;                )&#10;                CalendarTop(&#10;                    daysOfWeek = daysOfWeek,&#10;                    selection = selection,&#10;                    close = close,&#10;                    clearDates = { selection = DateSelection() },&#10;                )&#10;                VerticalCalendar(&#10;                    state = state,&#10;                    contentPadding = PaddingValues(bottom = 100.dp),&#10;                    dayContent = { value -&gt;&#10;&#10;                        Day(&#10;                            value,&#10;                            today = today,&#10;                            selection = selection,&#10;                            isInMonth = value.position == DayPosition.MonthDate,&#10;                        ) { day -&gt;&#10;                            if (day.position == DayPosition.MonthDate &amp;&amp;&#10;                                (day.date == today || day.date.isAfter(today))&#10;                            ) {&#10;                                selection = getSelection(&#10;                                    clickedDate = day.date,&#10;                                    dateSelection = selection,&#10;                                )&#10;                            }&#10;                        }&#10;                    },&#10;                    monthHeader = { month -&gt; MonthHeader(month) },&#10;                )&#10;            }&#10;            CalendarBottom(&#10;                modifier = Modifier&#10;                    .wrapContentHeight()&#10;                    .fillMaxWidth()&#10;                    .background(Color.White)&#10;                    .align(Alignment.BottomCenter),&#10;                selection = selection,&#10;                save = {&#10;                    val (startDate, endDate) = selection&#10;                    if (startDate != null &amp;&amp; endDate != null) {&#10;                        dateSelected(startDate, endDate)&#10;                    }&#10;                },&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun Day(&#10;    day: CalendarDay,&#10;    today: LocalDate,&#10;    selection: DateSelection,&#10;    isInMonth: Boolean,&#10;    onClick: (CalendarDay) -&gt; Unit,&#10;) {&#10;    var textColor = Black1&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .aspectRatio(1f) // This is important for square-sizing!&#10;            .clickable(&#10;                enabled = day.position == DayPosition.MonthDate &amp;&amp; day.date &gt;= today,&#10;                onClick = { onClick(day) },&#10;            )&#10;            .backgroundHighlight(&#10;                day = day,&#10;                today = today,&#10;                selection = selection,&#10;            ) { textColor = it },&#10;        contentAlignment = Alignment.Center,&#10;    ) {&#10;        Text(&#10;            text = day.date.dayOfMonth.toString(),&#10;            color = if (isInMonth) textColor else Gray1.copy(0.8f),&#10;            fontSize = 16.sp,&#10;            fontWeight = FontWeight.Medium,&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun MonthHeader(calendarMonth: CalendarMonth) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(top = 12.dp, bottom = 8.dp, start = 16.dp, end = 16.dp),&#10;    ) {&#10;        Text(&#10;            textAlign = TextAlign.Center,&#10;            text = calendarMonth.yearMonth.toString(),&#10;            fontSize = 18.sp,&#10;            fontWeight = FontWeight.Bold,&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun CalendarTop(&#10;    modifier: Modifier = Modifier,&#10;    daysOfWeek: List&lt;DayOfWeek&gt;,&#10;    selection: DateSelection,&#10;    close: () -&gt; Unit,&#10;    clearDates: () -&gt; Unit,&#10;) {&#10;    Column(modifier.fillMaxWidth()) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(top = 6.dp, bottom = 10.dp),&#10;            verticalArrangement = Arrangement.spacedBy(10.dp),&#10;        ) {&#10;            Row(&#10;                modifier = Modifier.height(IntrinsicSize.Max),&#10;                verticalAlignment = Alignment.CenterVertically,&#10;            ) {&#10;                Icon(&#10;                    modifier = Modifier&#10;                        .fillMaxHeight()&#10;                        .aspectRatio(1f)&#10;                        .clip(CircleShape)&#10;                        .clickable(onClick = close)&#10;                        .padding(12.dp),&#10;                    painter = painterResource(id = R.drawable.close),&#10;                    contentDescription = &quot;Close&quot;,&#10;                )&#10;                Spacer(modifier = Modifier.weight(1f))&#10;                Text(&#10;                    modifier = Modifier&#10;                        .clip(RoundedCornerShape(percent = 50))&#10;                        .clickable(onClick = clearDates)&#10;                        .padding(horizontal = 16.dp, vertical = 8.dp),&#10;                    text = &quot;Clear&quot;,&#10;                    fontWeight = FontWeight.Medium,&#10;                    textAlign = TextAlign.End,&#10;                )&#10;            }&#10;            val daysBetween = selection.daysBetween&#10;            val text = if (daysBetween == null) {&#10;                &quot;Select dates&quot;&#10;            } else {&#10;                // Ideally you'd do this using the strings.xml file&#10;                &quot;$daysBetween ${if (daysBetween == 1L) &quot;night&quot; else &quot;nights&quot;} in Munich&quot;&#10;            }&#10;            Text(&#10;                modifier = Modifier.padding(horizontal = 14.dp),&#10;                text = text,&#10;                fontWeight = FontWeight.Bold,&#10;                fontSize = 24.sp,&#10;            )&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(top = 4.dp),&#10;            ) {&#10;                for (dayOfWeek in daysOfWeek) {&#10;                    Text(&#10;                        modifier = Modifier.weight(1f),&#10;                        textAlign = TextAlign.Center,&#10;                        color = Color.DarkGray,&#10;                        text = dayOfWeek.toString().substring(0, 1),&#10;                        fontSize = 15.sp,&#10;                    )&#10;                }&#10;            }&#10;        }&#10;        HorizontalDivider()&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun CalendarBottom(&#10;    modifier: Modifier = Modifier,&#10;    selection: DateSelection,&#10;    save: () -&gt; Unit,&#10;) {&#10;    Column(modifier.fillMaxWidth()) {&#10;        HorizontalDivider()&#10;        Row(&#10;            modifier = Modifier.padding(16.dp),&#10;            verticalAlignment = Alignment.CenterVertically,&#10;        ) {&#10;            Text(&#10;                text = &quot;€75 night&quot;,&#10;                fontWeight = FontWeight.Bold,&#10;            )&#10;            Spacer(modifier = Modifier.weight(1f))&#10;            Button(&#10;                modifier = Modifier&#10;                    .height(40.dp)&#10;                    .width(100.dp),&#10;                onClick = save,&#10;                enabled = selection.daysBetween != null,&#10;            ) {&#10;                Text(text = &quot;Save&quot;)&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun CustomDatePicker(&#10;    minDate: LocalDate,&#10;    maxDate: LocalDate,&#10;    onSelectedDate: (LocalDate) -&gt; Unit,&#10;    onDismiss: () -&gt; Unit&#10;) {&#10;    var selectedDate by remember { mutableStateOf&lt;LocalDate&gt;(LocalDate.now()) }&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .background(&#10;                color = Black1,&#10;                shape = RoundedCornerShape(20.dp)&#10;            ),&#10;        horizontalAlignment = Alignment.CenterHorizontally,&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        WheelDatePicker(&#10;            startDate = selectedDate,&#10;            minDate = minDate,&#10;            maxDate = maxDate,&#10;            textColor = White1,&#10;            selectorProperties = object : SelectorProperties {&#10;                @Composable&#10;                override fun border(): State&lt;BorderStroke?&gt; {&#10;                    return remember {&#10;                        mutableStateOf(&#10;                            BorderStroke(&#10;                                width = 2.dp,&#10;                                color = Color.Transparent&#10;                            )&#10;                        )&#10;                    }&#10;                }&#10;&#10;                @Composable&#10;                override fun color(): State&lt;Color&gt; {&#10;                    return remember {&#10;&#10;                        mutableStateOf(&#10;                            Color.Transparent&#10;                        )&#10;                    }&#10;                }&#10;&#10;                @Composable&#10;                override fun enabled(): State&lt;Boolean&gt; {&#10;                    return remember {&#10;                        mutableStateOf(&#10;                            true&#10;                        )&#10;                    }&#10;                }&#10;&#10;                @Composable&#10;                override fun shape(): State&lt;Shape&gt; {&#10;                    return remember {&#10;                        mutableStateOf(&#10;                            RoundedCornerShape(0.dp)&#10;                        )&#10;                    }&#10;                }&#10;            },&#10;        ) { date -&gt;&#10;            selectedDate = date&#10;        }&#10;&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 20.dp),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp, Alignment.CenterHorizontally),&#10;&#10;            ) {&#10;            TextButton(&#10;                onClick = {&#10;                    onDismiss()&#10;                },&#10;                contentPadding = PaddingValues(horizontal = 40.dp)&#10;            ) {&#10;                Text(&quot;Thoát&quot;, color = White1)&#10;            }&#10;            TextButton(&#10;                onClick = {&#10;                    onSelectedDate(selectedDate)&#10;                },&#10;                contentPadding = PaddingValues(horizontal = 40.dp)&#10;            ) {&#10;                Text(&quot;OK&quot;, color = White1)&#10;            }&#10;        }&#10;&#10;&#10;    }&#10;}&#10;&#10;@Composable&#10;fun CustomMonthYearPicker(&#10;    initialDate: LocalDate = LocalDate.now(),&#10;    minDate: LocalDate = LocalDate.now().minusYears(10),&#10;    maxDate: LocalDate = LocalDate.now().plusYears(10),&#10;    onSelectedDate: (LocalDate) -&gt; Unit,&#10;    onDismiss: () -&gt; Unit&#10;) {&#10;    var selectedYear by remember { mutableStateOf(initialDate.year) }&#10;    var selectedMonth by remember { mutableStateOf(initialDate.monthValue) }&#10;&#10;    val months = listOf(&#10;        &quot;Tháng 1&quot;, &quot;Tháng 2&quot;, &quot;Tháng 3&quot;, &quot;Tháng 4&quot;,&#10;        &quot;Tháng 5&quot;, &quot;Tháng 6&quot;, &quot;Tháng 7&quot;, &quot;Tháng 8&quot;,&#10;        &quot;Tháng 9&quot;, &quot;Tháng 10&quot;, &quot;Tháng 11&quot;, &quot;Tháng 12&quot;&#10;    )&#10;&#10;    val minYear = minDate.year&#10;    val maxYear = maxDate.year&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .background(&#10;                color = White1,&#10;                shape = RoundedCornerShape(20.dp)&#10;            )&#10;            .padding(20.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally,&#10;        verticalArrangement = Arrangement.spacedBy(16.dp)&#10;    ) {&#10;        // Header&#10;        Text(&#10;            text = &quot;Chọn tháng và năm&quot;,&#10;            style = AppTypography.bodyLarge.copy(&#10;                fontWeight = FontWeight.Bold&#10;            ),&#10;            color = Black1&#10;        )&#10;&#10;        // Year selector&#10;        Row(&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            IconButton(&#10;                onClick = {&#10;                    if (selectedYear &gt; minYear) selectedYear--&#10;                },&#10;                enabled = selectedYear &gt; minYear&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.arrow_left),&#10;                    contentDescription = &quot;Previous year&quot;,&#10;                    tint = if (selectedYear &gt; minYear) Blue1 else Gray1&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Năm $selectedYear&quot;,&#10;                style = AppTypography.bodyLarge.copy(&#10;                    fontWeight = FontWeight.SemiBold&#10;                ),&#10;                color = Blue1&#10;            )&#10;&#10;            IconButton(&#10;                onClick = {&#10;                    if (selectedYear &lt; maxYear) selectedYear++&#10;                },&#10;                enabled = selectedYear &lt; maxYear&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.arrow_right),&#10;                    contentDescription = &quot;Next year&quot;,&#10;                    tint = if (selectedYear &lt; maxYear) Blue1 else Gray1&#10;                )&#10;            }&#10;        }&#10;&#10;        // Month grid&#10;        LazyVerticalGrid(&#10;            columns = GridCells.Fixed(3),&#10;            modifier = Modifier.fillMaxWidth(),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;            verticalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            items(12) { index -&gt;&#10;                val monthValue = index + 1&#10;                val isSelected = selectedMonth == monthValue&#10;                val isEnabled = isMonthEnabled(selectedYear, monthValue, minDate, maxDate)&#10;&#10;                Box(&#10;                    modifier = Modifier&#10;                        .aspectRatio(1.5f)&#10;                        .background(&#10;                            color = when {&#10;                                isSelected -&gt; Blue1&#10;                                !isEnabled -&gt; Gray2.copy(alpha = 0.3f)&#10;                                else -&gt; Blue6.copy(alpha = 0.3f)&#10;                            },&#10;                            shape = RoundedCornerShape(12.dp)&#10;                        )&#10;                        .border(&#10;                            width = if (isSelected) 2.dp else 0.dp,&#10;                            color = if (isSelected) Blue3 else Color.Transparent,&#10;                            shape = RoundedCornerShape(12.dp)&#10;                        )&#10;                        .then(&#10;                            if (isEnabled) {&#10;                                Modifier.customClick(&#10;                                    onClick = {&#10;                                        selectedMonth = monthValue&#10;                                    },&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                )&#10;                            } else {&#10;                                Modifier&#10;                            }&#10;                        ),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Text(&#10;                        text = months[index],&#10;                        style = AppTypography.bodyMedium.copy(&#10;                            fontWeight = if (isSelected) FontWeight.Bold else FontWeight.Normal&#10;                        ),&#10;                        color = when {&#10;                            isSelected -&gt; White1&#10;                            !isEnabled -&gt; Gray1&#10;                            else -&gt; Black1&#10;                        }&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Action buttons&#10;//        Row(&#10;//            modifier = Modifier.fillMaxWidth(),&#10;//            horizontalArrangement = Arrangement.spacedBy(10.dp, Alignment.CenterHorizontally)&#10;//        ) {&#10;//            Row(&#10;//&#10;//                modifier = Modifier&#10;//                    .weight(1f)&#10;//                    .customClick(onClick = onDismiss)&#10;//            ) {&#10;//                Text(&#10;//                    text = &quot;Hủy&quot;,&#10;//                    color = Black1,&#10;//                    style = AppTypography.bodyMedium&#10;//                )&#10;//            }&#10;//&#10;//            TextButton(&#10;//                onClick = {&#10;//                    val selectedDate = LocalDate.of(selectedYear, selectedMonth, 1)&#10;//                    onSelectedDate(selectedDate)&#10;//                },&#10;//                modifier = Modifier&#10;//                    .weight(1f)&#10;//                    .background(&#10;//                        color = Blue1,&#10;//                        shape = RoundedCornerShape(12.dp)&#10;//                    )&#10;//            ) {&#10;//                Text(&#10;//                    text = &quot;Xác nhận&quot;,&#10;//                    color = White1,&#10;//                    style = AppTypography.bodyMedium.copy(&#10;//                        fontWeight = FontWeight.Bold&#10;//                    )&#10;//                )&#10;//            }&#10;//        }&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 10.dp),&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Row(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .clickable {&#10;                        onDismiss()&#10;                    }&#10;                    .padding(vertical = 10.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;            ) {&#10;                Text(&#10;                    text = &quot;Hủy&quot;,&#10;                    style = AppTypography.bodyMedium.copy(&#10;                        fontWeight = FontWeight.Bold&#10;                    ),&#10;                    color = Blue5&#10;                )&#10;            }&#10;            Row(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .background(&#10;                        color = Blue5,&#10;                        shape = RoundedCornerShape(10.dp)&#10;                    )&#10;                    .shadow(&#10;                        elevation = 10.dp,&#10;                        shape = RoundedCornerShape(10.dp),&#10;                        ambientColor = Color.Transparent,&#10;                        spotColor = Color.Transparent&#10;                    )&#10;                    .clickable {&#10;                        val selectedDate = LocalDate.of(selectedYear, selectedMonth, 1)&#10;                        onSelectedDate(selectedDate)&#10;                    }&#10;                    .padding(vertical = 10.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;            ) {&#10;                Text(&#10;                    text = &quot;Xác nhận&quot;,&#10;                    style = AppTypography.bodyMedium.copy(&#10;                        fontWeight = FontWeight.Bold&#10;                    ),&#10;                    color = White1&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;private fun isMonthEnabled(&#10;    year: Int,&#10;    month: Int,&#10;    minDate: LocalDate,&#10;    maxDate: LocalDate&#10;): Boolean {&#10;    val date = LocalDate.of(year, month, 1)&#10;    val minYearMonth = LocalDate.of(minDate.year, minDate.monthValue, 1)&#10;    val maxYearMonth = LocalDate.of(maxDate.year, maxDate.monthValue, 1)&#10;    return !date.isBefore(minYearMonth) &amp;&amp; !date.isAfter(maxYearMonth)&#10;}&#10;&#10;//@Preview(heightDp = 800)&#10;//@Composable&#10;//private fun Example2Preview() {&#10;//    Example2Page()&#10;//}&#10;@Composable&#10;fun CustomClickField(&#10;    onClick: () -&gt; Unit,&#10;    value: String,&#10;    modifier: Modifier = Modifier,&#10;    placeholder: String = &quot;&quot;,&#10;    trailingIcon: @Composable (() -&gt; Unit) = { },&#10;) {&#10;&#10;&#10;    Box(modifier = modifier) {&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .shadow(&#10;                    elevation = 30.dp,&#10;                    shape = RoundedCornerShape(30),&#10;                    ambientColor = Black1.copy(alpha = 0.25f),&#10;                    spotColor = Black1.copy(alpha = 0.25f)&#10;                )&#10;                .border(&#10;                    width = 1.dp, color = Gray2, shape = RoundedCornerShape(30)&#10;                )&#10;                .background(&#10;                    color = White1, shape = RoundedCornerShape(30)&#10;                )&#10;                .clickable {&#10;                    onClick()&#10;                }&#10;                .padding(15.dp)) {&#10;            Column(&#10;                verticalArrangement = Arrangement.Center, modifier = Modifier.weight(1f)&#10;            ) {&#10;                if (value == &quot;&quot;) Text(&#10;                    text = placeholder, style = AppTypography.bodyMedium, color = Gray2&#10;                )&#10;                else Text(&#10;                    text = value, style = AppTypography.bodyMedium, color = Black1&#10;                )&#10;&#10;            }&#10;            trailingIcon()&#10;&#10;        }&#10;    }&#10;&#10;}&#10;&#10;@Composable&#10;fun CustomConfirmDialog(&#10;    dimissText: String,&#10;    confirmText: String,&#10;    onDimiss: () -&gt; Unit,&#10;    onConfirm: () -&gt; Unit,&#10;    message: @Composable () -&gt; Unit,&#10;) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(&#10;                color = Gray3.copy(alpha = 0.5f),&#10;            )&#10;            .padding(20.dp)&#10;            .pointerInput(Unit) {},&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Box(&#10;            contentAlignment = Alignment.TopEnd,&#10;            modifier = Modifier&#10;                .background(&#10;                    color = White1,&#10;                    shape = RoundedCornerShape(10.dp)&#10;                )&#10;                .padding(10.dp)&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;&#10;                    .padding(horizontal = 20.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                verticalArrangement = Arrangement.spacedBy(20.dp)&#10;            ) {&#10;                message()&#10;                Row(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(horizontal = 10.dp),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .weight(1f)&#10;                            .clickable {&#10;                                onDimiss()&#10;                            }&#10;                            .padding(vertical = 10.dp),&#10;                        horizontalArrangement = Arrangement.Center,&#10;                    ) {&#10;                        Text(&#10;                            text = dimissText,&#10;                            style = AppTypography.bodyMedium.copy(&#10;                                fontWeight = FontWeight.Bold&#10;                            ),&#10;                            color = Blue5&#10;                        )&#10;                    }&#10;                    Row(&#10;                        modifier = Modifier&#10;                            .weight(1f)&#10;                            .background(&#10;                                color = Blue5,&#10;                                shape = RoundedCornerShape(10.dp)&#10;                            )&#10;                            .shadow(&#10;                                elevation = 10.dp,&#10;                                shape = RoundedCornerShape(10.dp),&#10;                                ambientColor = Color.Transparent,&#10;                                spotColor = Color.Transparent&#10;                            )&#10;                            .clickable {&#10;                                onConfirm()&#10;                            }&#10;                            .padding(vertical = 10.dp),&#10;                        horizontalArrangement = Arrangement.Center,&#10;                    ) {&#10;                        Text(&#10;                            text = confirmText,&#10;                            style = AppTypography.bodyMedium.copy(&#10;                                fontWeight = FontWeight.Bold&#10;                            ),&#10;                            color = White1&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;            Row(&#10;                modifier = Modifier&#10;                    .shadow(&#10;                        elevation = 10.dp,&#10;                        shape = CircleShape,&#10;                        ambientColor = Color.Transparent,&#10;                        spotColor = Color.Transparent&#10;                    )&#10;                    .clickable {&#10;                        onDimiss()&#10;                    }&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.close), contentDescription = null,&#10;                    modifier = Modifier.size(25.dp)&#10;                )&#10;            }&#10;        }&#10;&#10;    }&#10;&#10;}&#10;&#10;@Composable&#10;fun ProgressBarWithLabel(&#10;    progress: Float,&#10;    modifier: Modifier = Modifier,&#10;    progressColor: Color = Color(0xFF00BCD4),&#10;    backgroundColor: Color = Color(0xFFE0E0E0),&#10;    labelBackgroundColor: Color = Color.White,&#10;    labelBorderColor: Color = Color(0xFF9E9E9E),&#10;    labelTextColor: Color = Color.Black,&#10;    progressHeight: Dp = 8.dp,&#10;    animationDuration: Int = 1000&#10;) {&#10;    val animatedProgress by animateFloatAsState(&#10;        targetValue = progress.coerceIn(0f, 1f),&#10;        animationSpec = tween(durationMillis = animationDuration, easing = EaseInOut),&#10;        label = &quot;progress&quot;&#10;    )&#10;&#10;    val percentage = (animatedProgress * 100).toInt()&#10;&#10;    // Keep measured widths in px&#10;    val progressBarWidthPx = remember { mutableStateOf(0) }&#10;    val labelWidthPx = remember { mutableStateOf(0) }&#10;&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .height(progressHeight + 40.dp)&#10;    ) {&#10;        // Background bar - measure its width&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .height(progressHeight)&#10;                .align(Alignment.CenterStart)&#10;                .onGloballyPositioned { coordinates -&gt;&#10;                    progressBarWidthPx.value = coordinates.size.width&#10;                }&#10;                .clip(RoundedCornerShape(progressHeight / 2))&#10;                .background(backgroundColor)&#10;        )&#10;&#10;        // Progress fill&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth(animatedProgress)&#10;                .height(progressHeight)&#10;                .align(Alignment.CenterStart)&#10;                .clip(RoundedCornerShape(progressHeight / 2))&#10;                .background(&#10;                    brush = Brush.horizontalGradient(&#10;                        colors = listOf(&#10;                            progressColor,&#10;                            progressColor.copy(alpha = 0.8f)&#10;                        )&#10;                    )&#10;                )&#10;        )&#10;&#10;        // Compute offset for label: center it at (animatedProgress * barWidth)&#10;        val offsetXDp = with(LocalDensity.current) {&#10;            if (progressBarWidthPx.value == 0) {&#10;                0.dp&#10;            } else {&#10;                // desired center in px&#10;                val desiredCenterPx = animatedProgress * progressBarWidthPx.value&#10;                // label width in px (may be 0 until measured)&#10;                val lw = labelWidthPx.value.toFloat()&#10;                // compute left x so that label is centered on desiredCenterPx&#10;                var leftPx = desiredCenterPx - lw / 2f&#10;                // clamp to stay inside the progress bar&#10;                val maxLeftPx = (progressBarWidthPx.value - lw).toFloat().coerceAtLeast(0f)&#10;                leftPx = leftPx.coerceIn(0f, maxLeftPx)&#10;                leftPx.toDp()&#10;            }&#10;        }&#10;&#10;        Box(&#10;            modifier = Modifier&#10;                .align(Alignment.CenterStart)&#10;                .offset(x = offsetXDp)&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .onGloballyPositioned { coords -&gt;&#10;                        labelWidthPx.value = coords.size.width&#10;                    }&#10;                    .background(&#10;                        color = labelBackgroundColor,&#10;                        shape = RoundedCornerShape(16.dp)&#10;                    )&#10;                    .border(&#10;                        width = 1.dp,&#10;                        color = labelBorderColor,&#10;                        shape = RoundedCornerShape(16.dp)&#10;                    )&#10;                    .padding(horizontal = 12.dp, vertical = 4.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;$percentage%&quot;,&#10;                    style = AppTypography.bodySmall,&#10;                    color = labelTextColor,&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun InformationLine(&#10;    title: String,&#10;    modifier: Modifier = Modifier,&#10;    leading: @Composable (color: Color) -&gt; Unit = {},&#10;    trailing: @Composable (color: Color) -&gt; Unit = { },&#10;    color: Color = Gray1,&#10;    onClick: () -&gt; Unit = {},&#10;    enable: Boolean = false,&#10;) {&#10;    val themeColor = if (enable) color else Gray1&#10;    Column(&#10;        modifier = modifier&#10;            .customClick {&#10;                if (enable) {&#10;                    onClick()&#10;                }&#10;            }&#10;            .padding(5.dp),&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth(),&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;            leading(themeColor)&#10;            Text(&#10;                text = title,&#10;                style = AppTypography.bodyMedium,&#10;                color = themeColor,&#10;            )&#10;            Row(&#10;                modifier = Modifier.weight(1f),&#10;                horizontalArrangement = Arrangement.End&#10;            ) {&#10;                trailing(themeColor)&#10;&#10;            }&#10;&#10;        }&#10;        HorizontalDivider(modifier = Modifier.fillMaxWidth())&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun RetryCompose(&#10;    onRetry: () -&gt; Unit,&#10;) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(&#10;                color = Gray3.copy(alpha = 0.5f),&#10;            )&#10;            .padding(20.dp)&#10;            .pointerInput(Unit) {},&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;&#10;                .padding(horizontal = 20.dp),&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            verticalArrangement = Arrangement.spacedBy(20.dp)&#10;        ) {&#10;            Image(&#10;                painter = painterResource(R.drawable.error_illustration),&#10;                contentDescription = null,&#10;                modifier = Modifier&#10;                    .height(150.dp)&#10;                    .width(200.dp)&#10;            )&#10;            Column(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                verticalArrangement = Arrangement.spacedBy(10.dp),&#10;            ) {&#10;                Text(&#10;                    text = &quot;Oops!&quot;,&#10;                    style = AppTypography.bodyLarge.copy(&#10;                        fontWeight = FontWeight.Bold&#10;                    ),&#10;                    textAlign = TextAlign.Center,&#10;                    modifier = Modifier.fillMaxWidth(),&#10;&#10;                    )&#10;                Text(&#10;                    text = &quot;Có lỗi xảy ra trong quá trình tải dữ liệu. Vui lòng thử lại.&quot;,&#10;                    style = AppTypography.bodyMedium,&#10;                    textAlign = TextAlign.Center,&#10;                    modifier = Modifier.fillMaxWidth(),&#10;&#10;                    )&#10;            }&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(horizontal = 10.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Row(&#10;                    modifier = Modifier&#10;                        .background(&#10;                            color = Blue5,&#10;                            shape = RoundedCornerShape(10.dp)&#10;                        )&#10;                        .customClick(&#10;                            shape = RoundedCornerShape(10.dp),&#10;                            onClick = {&#10;                                onRetry()&#10;                            }&#10;                        )&#10;                        .padding(vertical = 10.dp, horizontal = 20.dp),&#10;                    horizontalArrangement = Arrangement.spacedBy(&#10;                        10.dp,&#10;                        alignment = Alignment.CenterHorizontally&#10;                    ),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Thử lại&quot;,&#10;                        style = AppTypography.bodyMedium.copy(&#10;                            fontWeight = FontWeight.Bold&#10;                        ),&#10;                        color = White1&#10;                    )&#10;                    Icon(&#10;                        painter = painterResource(R.drawable.refresh),&#10;                        contentDescription = null,&#10;                        tint = White1,&#10;                        modifier = Modifier.size(25.dp)&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;    }&#10;&#10;}&#10;&#10;&#10;@Composable&#10;fun SwipeComponent(&#10;    onStartSwipe: (() -&gt; Unit)?,&#10;    onEndSwipe: (() -&gt; Unit)?,&#10;    content: @Composable () -&gt; Unit&#10;) {&#10;    val startAction =&#10;        SwipeAction(&#10;            icon = {&#10;                Box(&#10;                    contentAlignment = Alignment.TopCenter,&#10;                    modifier = Modifier.padding(end = 10.dp)&#10;                ) {&#10;                    Icon(Icons.Outlined.Edit, contentDescription = null)&#10;                }&#10;            },&#10;            onSwipe = {&#10;                if (onStartSwipe != null) onStartSwipe()&#10;            },&#10;            background = Color.Gray,&#10;        )&#10;    val endAction =&#10;        SwipeAction(&#10;            icon = {&#10;                Box(&#10;                    contentAlignment = Alignment.TopCenter,&#10;                    modifier = Modifier.padding(start = 10.dp)&#10;                ) {&#10;                    Icon(Icons.Outlined.Delete, contentDescription = null)&#10;                }&#10;            },&#10;            onSwipe = {&#10;                if (onEndSwipe != null) onEndSwipe()&#10;            },&#10;            background = Color.Red,&#10;        )&#10;    SwipeableActionsBox(&#10;        startActions = if (onStartSwipe == null) emptyList() else listOf(startAction),&#10;        endActions = if (onEndSwipe == null) emptyList() else listOf(endAction),&#10;        swipeThreshold = 100.dp,&#10;        backgroundUntilSwipeThreshold = Color.White,&#10;    ) {&#10;        content()&#10;    }&#10;}&#10;&#10;@Composable&#10;fun SavedReceiverDialog(&#10;    savedReceivers: List&lt;SavedReceiverInfo&gt;,&#10;    onSelect: (savedReceiver: SavedReceiverInfo) -&gt; Unit,&#10;    onDimiss: () -&gt; Unit&#10;) {&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(&#10;                color = Gray3.copy(alpha = 0.5f),&#10;            )&#10;            .padding(20.dp)&#10;            .pointerInput(Unit) {&#10;            },&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Box(&#10;            contentAlignment = Alignment.TopEnd,&#10;            modifier = Modifier&#10;                .background(&#10;                    color = White1,&#10;                    shape = RoundedCornerShape(10.dp)&#10;                )&#10;                .padding(10.dp)&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;&#10;                    .padding(20.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                verticalArrangement = Arrangement.spacedBy(20.dp)&#10;            ) {&#10;                if (savedReceivers.isEmpty()) {&#10;                    Box(&#10;                        modifier = Modifier.fillMaxSize(),&#10;                        contentAlignment = Alignment.Center&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Không tìm thấy người nhận đã lưu&quot;,&#10;                            style = AppTypography.bodyMedium,&#10;                            color = Gray2,&#10;                        )&#10;                    }&#10;                    return@Column&#10;                }&#10;                savedReceivers.forEach { savedReceiver -&gt;&#10;                    Column(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .customClick {&#10;                                onSelect(savedReceiver)&#10;                            },&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp),&#10;                    ) {&#10;                        Row(&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(IntrinsicSize.Min),&#10;                            verticalAlignment = Alignment.CenterVertically,&#10;                            horizontalArrangement = Arrangement.spacedBy(20.dp)&#10;                        ) {&#10;                            Row(&#10;                                modifier = Modifier&#10;                                    .size(40.dp)&#10;                                    .background(&#10;                                        color = Blue5.copy(&#10;                                            alpha = 0.3f&#10;                                        ),&#10;                                        shape = CircleShape&#10;                                    )&#10;                                    .clip(CircleShape)&#10;                                    .padding(5.dp),&#10;                                horizontalArrangement = Arrangement.Center,&#10;                                verticalAlignment = Alignment.CenterVertically&#10;                            ) {&#10;                                val templateName =&#10;                                    savedReceiver.toMerchantName.split(&quot; &quot;)&#10;                                        .mapNotNull { it.firstOrNull()?.toString() }&#10;                                        .take(2)&#10;                                        .joinToString(&quot;&quot;)&#10;                                Text(&#10;                                    templateName,&#10;                                    color = Blue1,&#10;                                    style = AppTypography.bodySmall&#10;                                )&#10;                            }&#10;                            Column(&#10;                                verticalArrangement = Arrangement.Center&#10;                            ) {&#10;                                Text(&#10;                                    text = savedReceiver.memorableName,&#10;                                    style = AppTypography.bodyMedium.copy(&#10;                                        color = Black1&#10;                                    )&#10;                                )&#10;                                Text(&#10;                                    text = savedReceiver.toMerchantName,&#10;                                    style = AppTypography.bodySmall.copy(&#10;                                        color = Gray1&#10;                                    )&#10;                                )&#10;                            }&#10;                            Column(&#10;                                modifier = Modifier.fillMaxHeight(),&#10;                                verticalArrangement = Arrangement.Center&#10;                            ) {&#10;                                Text(&#10;                                    text = savedReceiver.toWalletNumber,&#10;                                    style = AppTypography.bodyMedium.copy(&#10;                                        color = Gray1,&#10;                                        fontWeight = FontWeight.Bold&#10;                                    )&#10;                                )&#10;                            }&#10;&#10;                        }&#10;                        HorizontalDivider(&#10;                            thickness = 1.dp,&#10;                            color = Gray2&#10;                        )&#10;                    }&#10;&#10;&#10;                }&#10;            }&#10;            Row(&#10;                modifier = Modifier&#10;                    .shadow(&#10;                        elevation = 10.dp,&#10;                        shape = CircleShape,&#10;                        ambientColor = Color.Transparent,&#10;                        spotColor = Color.Transparent&#10;                    )&#10;                    .clickable {&#10;                        onDimiss()&#10;                    }&#10;            ) {&#10;                Icon(&#10;                    painter = painterResource(R.drawable.close), contentDescription = null,&#10;                    modifier = Modifier.size(25.dp)&#10;                )&#10;            }&#10;        }&#10;&#10;    }&#10;&#10;}&#10;&#10;@Composable&#10;fun CustomPieChart(&#10;    data: List&lt;Pie&gt;,&#10;    modifier: Modifier = Modifier&#10;) {&#10;&#10;    Column(&#10;        modifier = modifier,&#10;        horizontalAlignment = Alignment.CenterHorizontally,&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#10;    ) {&#10;        if (data.isEmpty() || data.all { it.data &lt;= 0 }) {&#10;&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.empty_data),&#10;                contentDescription = null,&#10;                tint = Gray1,&#10;                modifier = Modifier.size(48.dp)&#10;            )&#10;            Spacer(modifier = Modifier.height(20.dp))&#10;            Text(&#10;                text = &quot;Chưa có dữ liệu để thống kê&quot;,&#10;                style = AppTypography.bodyMedium,&#10;                color = Gray1&#10;            )&#10;            Text(&#10;                text = &quot;Hãy phát sinh giao dịch để xem phân bố&quot;,&#10;                style = AppTypography.bodySmall,&#10;                color = Gray1&#10;            )&#10;&#10;        } else {&#10;            PieChart(&#10;                modifier = Modifier.size(200.dp),&#10;                data = data,&#10;                scaleAnimEnterSpec = spring&lt;Float&gt;(&#10;                    dampingRatio = Spring.DampingRatioMediumBouncy,&#10;                    stiffness = Spring.StiffnessLow&#10;                ),&#10;                selectedScale = 1f,&#10;                spaceDegree = 3f,&#10;                selectedPaddingDegree = 0f,&#10;                style = Pie.Style.Stroke(width = 30.dp)&#10;&#10;            )&#10;&#10;            data.chunked(3).forEach { chunk -&gt;&#10;                Row(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(bottom = 10.dp),&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp)&#10;                ) {&#10;                    chunk.forEach {&#10;                        Row(&#10;                            modifier = Modifier.weight(1f),&#10;                            horizontalArrangement = Arrangement.spacedBy(&#10;                                5.dp,&#10;                                Alignment.CenterHorizontally&#10;                            ),&#10;                            verticalAlignment = Alignment.CenterVertically&#10;                        ) {&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .size(15.dp)&#10;                                    .background(color = it.color, shape = RoundedCornerShape(3.dp))&#10;                            )&#10;                            Text(&#10;                                text = it.label ?: &quot;&quot;,&#10;                                style = AppTypography.bodySmall,&#10;                                color = Black1&#10;                            )&#10;                        }&#10;&#10;                    }&#10;                }&#10;            }&#10;&#10;        }&#10;&#10;    }&#10;}&#10;&#10;@Composable&#10;fun CustomBarChart(&#10;    data: List&lt;Bars&gt;,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    if (data.isEmpty()) {&#10;        Column(&#10;            modifier = modifier,&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            verticalArrangement = Arrangement.spacedBy(10.dp)&#10;        ) {&#10;&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.empty_data),&#10;                contentDescription = null,&#10;                tint = Gray1,&#10;                modifier = Modifier.size(48.dp)&#10;            )&#10;            Spacer(modifier = Modifier.height(20.dp))&#10;            Text(&#10;                text = &quot;Chưa có dữ liệu để thống kê&quot;,&#10;                style = AppTypography.bodyMedium,&#10;                color = Gray1&#10;            )&#10;            Text(&#10;                text = &quot;Hãy phát sinh giao dịch để xem phân bố&quot;,&#10;                style = AppTypography.bodySmall,&#10;                color = Gray1&#10;            )&#10;        }&#10;    } else&#10;&#10;        ColumnChart(&#10;            modifier = modifier.height(300.dp),&#10;            data = data,&#10;            barProperties = BarProperties(&#10;                cornerRadius = Bars.Data.Radius.Rectangle(topRight = 6.dp, topLeft = 6.dp),&#10;                spacing = 1.dp,&#10;                thickness = 20.dp,&#10;            ),&#10;            animationSpec = spring(&#10;                dampingRatio = Spring.DampingRatioMediumBouncy,&#10;                stiffness = Spring.StiffnessLow&#10;            ),&#10;            gridProperties = GridProperties(&#10;                yAxisProperties = GridProperties.AxisProperties(&#10;                    enabled = false,&#10;                ),&#10;            ),&#10;            indicatorProperties = HorizontalIndicatorProperties(&#10;                contentBuilder = { indicator -&gt;&#10;                    formatterVND(indicator.toLong()) + &quot; VND&quot;&#10;                },&#10;            )&#10;&#10;        )&#10;}&#10;&#10;@Composable&#10;fun DefaultImageProfile(&#10;    name: String,&#10;    modifier: Modifier = Modifier,&#10;) {&#10;    Row(&#10;        modifier = modifier&#10;&#10;            .background(&#10;                color = Blue5.copy(&#10;                    alpha = 0.3f&#10;                ),&#10;                shape = CircleShape&#10;            )&#10;            .clip(CircleShape)&#10;            .padding(5.dp),&#10;        horizontalArrangement = Arrangement.Center,&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        val templateName =&#10;            name.split(&quot; &quot;)&#10;                .mapNotNull { it.firstOrNull()?.toString() }&#10;                .take(2)&#10;                .joinToString(&quot;&quot;)&#10;        Text(&#10;            templateName,&#10;            color = Blue1,&#10;            style = AppTypography.bodySmall&#10;        )&#10;    }&#10;}&#10;&#10;&#10;@Composable&#10;fun shimmerBrush(): Brush {&#10;    val transition = rememberInfiniteTransition(label = &quot;shimmer&quot;)&#10;    val translateAnim = transition.animateFloat(&#10;        initialValue = 0f,&#10;        targetValue = 1000f,&#10;        animationSpec = infiniteRepeatable(&#10;            animation = tween(1200, easing = LinearEasing),&#10;            repeatMode = RepeatMode.Restart&#10;        ),&#10;        label = &quot;shimmer_anim&quot;&#10;    )&#10;&#10;    return Brush.linearGradient(&#10;        colors = listOf(&#10;            Color.LightGray.copy(alpha = 0.6f),&#10;            Color.LightGray.copy(alpha = 0.3f),&#10;            Color.LightGray.copy(alpha = 0.6f),&#10;        ),&#10;        start = Offset(translateAnim.value - 1000f, 0f),&#10;        end = Offset(translateAnim.value, 0f)&#10;    )&#10;}&#10;&#10;@Composable&#10;fun SkeletonBox(&#10;    modifier: Modifier = Modifier,&#10;    shape: Shape = RoundedCornerShape(8.dp)&#10;) {&#10;    Box(&#10;        modifier = modifier&#10;            .background(&#10;                brush = shimmerBrush(),&#10;                shape = shape&#10;            )&#10;    )&#10;}&#10;&#10;@Composable&#10;fun Modifier.shimmerEffect(): Modifier {&#10;    val brush = shimmerBrush()&#10;    return this.background(brush)&#10;}&#10;&#10;@Composable&#10;@Preview()&#10;fun Preview() {&#10;    ProgressBarWithLabel(&#10;        0.2f&#10;    )&#10;&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.ibanking_kltn.utils&#13;&#10;&#13;&#10;import androidx.compose.animation.core.EaseInOut&#13;&#10;import androidx.compose.animation.core.FastOutSlowInEasing&#13;&#10;import androidx.compose.animation.core.LinearEasing&#13;&#10;import androidx.compose.animation.core.LinearOutSlowInEasing&#13;&#10;import androidx.compose.animation.core.RepeatMode&#13;&#10;import androidx.compose.animation.core.Spring&#13;&#10;import androidx.compose.animation.core.animateDpAsState&#13;&#10;import androidx.compose.animation.core.animateFloat&#13;&#10;import androidx.compose.animation.core.animateFloatAsState&#13;&#10;import androidx.compose.animation.core.infiniteRepeatable&#13;&#10;import androidx.compose.animation.core.rememberInfiniteTransition&#13;&#10;import androidx.compose.animation.core.spring&#13;&#10;import androidx.compose.animation.core.tween&#13;&#10;import androidx.compose.foundation.BorderStroke&#13;&#10;import androidx.compose.foundation.Canvas&#13;&#10;import androidx.compose.foundation.Image&#13;&#10;import androidx.compose.foundation.background&#13;&#10;import androidx.compose.foundation.border&#13;&#10;import androidx.compose.foundation.clickable&#13;&#10;import androidx.compose.foundation.interaction.MutableInteractionSource&#13;&#10;import androidx.compose.foundation.layout.Arrangement&#13;&#10;import androidx.compose.foundation.layout.Box&#13;&#10;import androidx.compose.foundation.layout.Column&#13;&#10;import androidx.compose.foundation.layout.IntrinsicSize&#13;&#10;import androidx.compose.foundation.layout.PaddingValues&#13;&#10;import androidx.compose.foundation.layout.Row&#13;&#10;import androidx.compose.foundation.layout.Spacer&#13;&#10;import androidx.compose.foundation.layout.aspectRatio&#13;&#10;import androidx.compose.foundation.layout.fillMaxHeight&#13;&#10;import androidx.compose.foundation.layout.fillMaxSize&#13;&#10;import androidx.compose.foundation.layout.fillMaxWidth&#13;&#10;import androidx.compose.foundation.layout.height&#13;&#10;import androidx.compose.foundation.layout.offset&#13;&#10;import androidx.compose.foundation.layout.padding&#13;&#10;import androidx.compose.foundation.layout.size&#13;&#10;import androidx.compose.foundation.layout.width&#13;&#10;import androidx.compose.foundation.layout.wrapContentHeight&#13;&#10;import androidx.compose.foundation.lazy.grid.GridCells&#13;&#10;import androidx.compose.foundation.lazy.grid.LazyVerticalGrid&#13;&#10;import androidx.compose.foundation.shape.CircleShape&#13;&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#13;&#10;import androidx.compose.foundation.text.BasicTextField&#13;&#10;import androidx.compose.foundation.text.KeyboardActions&#13;&#10;import androidx.compose.foundation.text.KeyboardOptions&#13;&#10;import androidx.compose.material.icons.Icons&#13;&#10;import androidx.compose.material.icons.outlined.Delete&#13;&#10;import androidx.compose.material.icons.outlined.Edit&#13;&#10;import androidx.compose.material.icons.rounded.Info&#13;&#10;import androidx.compose.material3.Button&#13;&#10;import androidx.compose.material3.ButtonColors&#13;&#10;import androidx.compose.material3.ButtonDefaults&#13;&#10;import androidx.compose.material3.Card&#13;&#10;import androidx.compose.material3.CardDefaults&#13;&#10;import androidx.compose.material3.CircularProgressIndicator&#13;&#10;import androidx.compose.material3.DropdownMenu&#13;&#10;import androidx.compose.material3.DropdownMenuItem&#13;&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#13;&#10;import androidx.compose.material3.HorizontalDivider&#13;&#10;import androidx.compose.material3.Icon&#13;&#10;import androidx.compose.material3.IconButton&#13;&#10;import androidx.compose.material3.MaterialTheme&#13;&#10;import androidx.compose.material3.OutlinedTextFieldDefaults&#13;&#10;import androidx.compose.material3.Surface&#13;&#10;import androidx.compose.material3.Text&#13;&#10;import androidx.compose.material3.TextButton&#13;&#10;import androidx.compose.material3.TextFieldColors&#13;&#10;import androidx.compose.runtime.Composable&#13;&#10;import androidx.compose.runtime.State&#13;&#10;import androidx.compose.runtime.getValue&#13;&#10;import androidx.compose.runtime.mutableIntStateOf&#13;&#10;import androidx.compose.runtime.mutableStateOf&#13;&#10;import androidx.compose.runtime.remember&#13;&#10;import androidx.compose.runtime.setValue&#13;&#10;import androidx.compose.ui.Alignment&#13;&#10;import androidx.compose.ui.Modifier&#13;&#10;import androidx.compose.ui.draw.alpha&#13;&#10;import androidx.compose.ui.draw.clip&#13;&#10;import androidx.compose.ui.draw.scale&#13;&#10;import androidx.compose.ui.draw.shadow&#13;&#10;import androidx.compose.ui.geometry.Offset&#13;&#10;import androidx.compose.ui.graphics.Brush&#13;&#10;import androidx.compose.ui.graphics.Color&#13;&#10;import androidx.compose.ui.graphics.PathEffect&#13;&#10;import androidx.compose.ui.graphics.Shape&#13;&#10;import androidx.compose.ui.graphics.asImageBitmap&#13;&#10;import androidx.compose.ui.graphics.painter.BitmapPainter&#13;&#10;import androidx.compose.ui.input.pointer.pointerInput&#13;&#10;import androidx.compose.ui.layout.ContentScale&#13;&#10;import androidx.compose.ui.layout.onGloballyPositioned&#13;&#10;import androidx.compose.ui.platform.LocalContext&#13;&#10;import androidx.compose.ui.platform.LocalDensity&#13;&#10;import androidx.compose.ui.res.painterResource&#13;&#10;import androidx.compose.ui.text.TextRange&#13;&#10;import androidx.compose.ui.text.TextStyle&#13;&#10;import androidx.compose.ui.text.font.FontWeight&#13;&#10;import androidx.compose.ui.text.input.ImeAction&#13;&#10;import androidx.compose.ui.text.input.KeyboardType&#13;&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#13;&#10;import androidx.compose.ui.text.input.TextFieldValue&#13;&#10;import androidx.compose.ui.text.input.VisualTransformation&#13;&#10;import androidx.compose.ui.text.style.TextAlign&#13;&#10;import androidx.compose.ui.tooling.preview.Preview&#13;&#10;import androidx.compose.ui.unit.Dp&#13;&#10;import androidx.compose.ui.unit.dp&#13;&#10;import androidx.compose.ui.unit.sp&#13;&#10;import com.commandiron.wheel_picker_compose.WheelDatePicker&#13;&#10;import com.commandiron.wheel_picker_compose.core.SelectorProperties&#13;&#10;import com.example.ibanking_kltn.R&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.AccountType&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.BillPayload&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.BillStatus&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.PayLaterApplicationStatus&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.PayLaterApplicationType&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.QRPayload&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.SavedReceiverInfo&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.ServiceType&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.SortOption&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.TabNavigation&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.TransactionStatus&#13;&#10;import com.example.ibanking_kltn.dtos.definitions.TransferPayload&#13;&#10;import com.example.ibanking_kltn.ui.theme.AppTypography&#13;&#10;import com.example.ibanking_kltn.ui.theme.BackgroundColor&#13;&#10;import com.example.ibanking_kltn.ui.theme.Black1&#13;&#10;import com.example.ibanking_kltn.ui.theme.Blue1&#13;&#10;import com.example.ibanking_kltn.ui.theme.Blue3&#13;&#10;import com.example.ibanking_kltn.ui.theme.Blue5&#13;&#10;import com.example.ibanking_kltn.ui.theme.Blue6&#13;&#10;import com.example.ibanking_kltn.ui.theme.ErrorGradient&#13;&#10;import com.example.ibanking_kltn.ui.theme.Gray1&#13;&#10;import com.example.ibanking_kltn.ui.theme.Gray2&#13;&#10;import com.example.ibanking_kltn.ui.theme.Gray3&#13;&#10;import com.example.ibanking_kltn.ui.theme.Gray4&#13;&#10;import com.example.ibanking_kltn.ui.theme.Green1&#13;&#10;import com.example.ibanking_kltn.ui.theme.InfoGradient&#13;&#10;import com.example.ibanking_kltn.ui.theme.LabelColor&#13;&#10;import com.example.ibanking_kltn.ui.theme.SuccessGradient&#13;&#10;import com.example.ibanking_kltn.ui.theme.TextColor&#13;&#10;import com.example.ibanking_kltn.ui.theme.WarningGradient&#13;&#10;import com.example.ibanking_kltn.ui.theme.White1&#13;&#10;import com.example.ibanking_kltn.ui.theme.White3&#13;&#10;import com.example.ibanking_kltn.utils.ContinuousSelectionHelper.getSelection&#13;&#10;import com.kizitonwose.calendar.compose.VerticalCalendar&#13;&#10;import com.kizitonwose.calendar.compose.rememberCalendarState&#13;&#10;import com.kizitonwose.calendar.core.CalendarDay&#13;&#10;import com.kizitonwose.calendar.core.CalendarMonth&#13;&#10;import com.kizitonwose.calendar.core.DayPosition&#13;&#10;import com.kizitonwose.calendar.core.daysOfWeek&#13;&#10;import ir.ehsannarmani.compose_charts.ColumnChart&#13;&#10;import ir.ehsannarmani.compose_charts.PieChart&#13;&#10;import ir.ehsannarmani.compose_charts.models.BarProperties&#13;&#10;import ir.ehsannarmani.compose_charts.models.Bars&#13;&#10;import ir.ehsannarmani.compose_charts.models.GridProperties&#13;&#10;import ir.ehsannarmani.compose_charts.models.HorizontalIndicatorProperties&#13;&#10;import ir.ehsannarmani.compose_charts.models.Pie&#13;&#10;import me.saket.swipe.SwipeAction&#13;&#10;import me.saket.swipe.SwipeableActionsBox&#13;&#10;import java.time.DayOfWeek&#13;&#10;import java.time.LocalDate&#13;&#10;import java.time.YearMonth&#13;&#10;import java.time.format.DateTimeFormatter&#13;&#10;import java.util.UUID&#13;&#10;&#13;&#10;@OptIn(ExperimentalMaterial3Api::class)&#13;&#10;@Composable&#13;&#10;fun CustomTextField(&#13;&#10;    value: String,&#13;&#10;    onValueChange: (String) -&gt; Unit,&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    enable: Boolean = true,&#13;&#10;    isError: Boolean = false,&#13;&#10;    readOnly: Boolean = false,&#13;&#10;    textStyle: TextStyle = AppTypography.bodyMedium,&#13;&#10;    keyboardOptions: KeyboardOptions = KeyboardOptions(&#13;&#10;        keyboardType = KeyboardType.Text, imeAction = ImeAction.Done&#13;&#10;    ),&#13;&#10;    keyboardActions: KeyboardActions = KeyboardActions(&#13;&#10;&#13;&#10;    ),&#13;&#10;    singleLine: Boolean = true,&#13;&#10;    maxLines: Int = 1,&#13;&#10;    textFieldColors: TextFieldColors = OutlinedTextFieldDefaults.colors(&#13;&#10;        focusedTextColor = Black1,&#13;&#10;        unfocusedTextColor = Gray2,&#13;&#10;        unfocusedPlaceholderColor = Gray2,&#13;&#10;        unfocusedBorderColor = Gray2,&#13;&#10;        focusedBorderColor = Blue1,&#13;&#10;    ),&#13;&#10;    isPasswordField: Boolean = false,&#13;&#10;    isPasswordShow: Boolean = false,&#13;&#10;    shape: Shape = RoundedCornerShape(30),&#13;&#10;    placeholder: @Composable (() -&gt; Unit)? = null,&#13;&#10;    leadingIcon: @Composable (() -&gt; Unit)? = null,&#13;&#10;    trailingIcon: @Composable (() -&gt; Unit)? = null,&#13;&#10;    visualTransformation: VisualTransformation = VisualTransformation.None,&#13;&#10;    interactionSource: MutableInteractionSource = remember { MutableInteractionSource() },&#13;&#10;) {&#13;&#10;    val textFieldValue = TextFieldValue(&#13;&#10;        text = value, selection = TextRange(value.length)&#13;&#10;    )&#13;&#10;&#13;&#10;&#13;&#10;    BasicTextField(&#13;&#10;        modifier = modifier,&#13;&#10;        value = value,&#13;&#10;        onValueChange = onValueChange,&#13;&#10;        enabled = enable,&#13;&#10;        readOnly = readOnly,&#13;&#10;        textStyle = textStyle,&#13;&#10;        keyboardOptions = keyboardOptions,&#13;&#10;        keyboardActions = keyboardActions,&#13;&#10;        singleLine = singleLine,&#13;&#10;        maxLines = maxLines,&#13;&#10;        visualTransformation = if (isPasswordField &amp;&amp; !isPasswordShow) PasswordVisualTransformation() else VisualTransformation.None,&#13;&#10;        decorationBox = @Composable { innerTextField -&gt;&#13;&#10;            OutlinedTextFieldDefaults.DecorationBox(&#13;&#10;                value = textFieldValue.text,&#13;&#10;                innerTextField = innerTextField,&#13;&#10;                visualTransformation = visualTransformation,&#13;&#10;                placeholder = placeholder,&#13;&#10;                leadingIcon = leadingIcon,&#13;&#10;                trailingIcon = trailingIcon,&#13;&#10;                enabled = enable,&#13;&#10;                interactionSource = interactionSource,&#13;&#10;                colors = textFieldColors,&#13;&#10;                singleLine = singleLine,&#13;&#10;                container = {&#13;&#10;                    OutlinedTextFieldDefaults.Container(&#13;&#10;                        enabled = enable,&#13;&#10;                        isError = isError,&#13;&#10;                        interactionSource = interactionSource,&#13;&#10;                        colors = textFieldColors,&#13;&#10;                        shape = shape&#13;&#10;                    )&#13;&#10;                },&#13;&#10;            )&#13;&#10;        },&#13;&#10;&#13;&#10;        )&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;@OptIn(ExperimentalMaterial3Api::class)&#13;&#10;@Composable&#13;&#10;fun &lt;T&gt; CustomDropdownField(&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    options: List&lt;T&gt;,&#13;&#10;    optionsComposable: @Composable (T) -&gt; Unit,&#13;&#10;    selectedOption: String,&#13;&#10;    onOptionSelected: (T) -&gt; Unit,&#13;&#10;    placeholder: String&#13;&#10;) {&#13;&#10;    var expanded by remember { mutableStateOf(false) }&#13;&#10;    var boxWidth by remember { mutableIntStateOf(0) }&#13;&#10;    Box(&#13;&#10;        modifier = modifier.onGloballyPositioned { coordinates -&gt;&#13;&#10;            boxWidth = coordinates.size.width&#13;&#10;        }) {&#13;&#10;        Row(&#13;&#10;            verticalAlignment = Alignment.CenterVertically,&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .shadow(&#13;&#10;                    elevation = 30.dp,&#13;&#10;                    shape = RoundedCornerShape(30),&#13;&#10;                    ambientColor = Black1.copy(alpha = 0.25f),&#13;&#10;                    spotColor = Black1.copy(alpha = 0.25f)&#13;&#10;                )&#13;&#10;                .border(&#13;&#10;                    width = 1.dp, color = Gray2, shape = RoundedCornerShape(30)&#13;&#10;                )&#13;&#10;                .background(&#13;&#10;                    color = White1, shape = RoundedCornerShape(30)&#13;&#10;                )&#13;&#10;                .clickable {&#13;&#10;                    expanded = true&#13;&#10;                }&#13;&#10;                .padding(15.dp)) {&#13;&#10;            Column(&#13;&#10;                verticalArrangement = Arrangement.Center, modifier = Modifier.weight(1f)&#13;&#10;            ) {&#13;&#10;                if (selectedOption == &quot;&quot;) Text(&#13;&#10;                    text = placeholder, style = AppTypography.bodyMedium, color = Gray2&#13;&#10;                )&#13;&#10;                else Text(&#13;&#10;                    text = selectedOption, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                )&#13;&#10;&#13;&#10;            }&#13;&#10;            Icon(&#13;&#10;                painter = painterResource(R.drawable.dropdown),&#13;&#10;                tint = Gray1,&#13;&#10;                contentDescription = null,&#13;&#10;                modifier = Modifier.size(25.dp)&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        DropdownMenu(&#13;&#10;            expanded = expanded,&#13;&#10;            onDismissRequest = {&#13;&#10;                expanded = false&#13;&#10;            },&#13;&#10;            containerColor = White1,&#13;&#10;            modifier = Modifier.width(with(LocalDensity.current) { boxWidth.toDp() })&#13;&#10;&#13;&#10;        ) {&#13;&#10;            options.forEach { option -&gt;&#13;&#10;                DropdownMenuItem(&#13;&#10;&#13;&#10;                    text = {&#13;&#10;                        optionsComposable(option)&#13;&#10;                    },&#13;&#10;                    onClick = {&#13;&#10;                        expanded = false&#13;&#10;                        onOptionSelected(&#13;&#10;                            option&#13;&#10;                        )&#13;&#10;                    },&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@OptIn(ExperimentalMaterial3Api::class)&#13;&#10;@Composable&#13;&#10;fun CustomDropdownField(&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    options: List&lt;String&gt;,&#13;&#10;    selectedOption: String,&#13;&#10;    onOptionSelected: (String) -&gt; Unit,&#13;&#10;    placeholder: String&#13;&#10;) {&#13;&#10;    var expanded by remember { mutableStateOf(false) }&#13;&#10;    var boxWidth by remember { mutableIntStateOf(0) }&#13;&#10;    Box(&#13;&#10;        modifier = modifier.onGloballyPositioned { coordinates -&gt;&#13;&#10;            boxWidth = coordinates.size.width&#13;&#10;        }) {&#13;&#10;        Row(&#13;&#10;            verticalAlignment = Alignment.CenterVertically,&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .shadow(&#13;&#10;                    elevation = 30.dp,&#13;&#10;                    shape = RoundedCornerShape(30),&#13;&#10;                    ambientColor = Black1.copy(alpha = 0.25f),&#13;&#10;                    spotColor = Black1.copy(alpha = 0.25f)&#13;&#10;                )&#13;&#10;                .border(&#13;&#10;                    width = 1.dp, color = Gray2, shape = RoundedCornerShape(30)&#13;&#10;                )&#13;&#10;                .background(&#13;&#10;                    color = White1, shape = RoundedCornerShape(30)&#13;&#10;                )&#13;&#10;                .clickable {&#13;&#10;                    expanded = true&#13;&#10;                }&#13;&#10;                .padding(15.dp)) {&#13;&#10;            Column(&#13;&#10;                verticalArrangement = Arrangement.Center, modifier = Modifier.weight(1f)&#13;&#10;            ) {&#13;&#10;                if (selectedOption == &quot;&quot;) Text(&#13;&#10;                    text = placeholder, style = AppTypography.bodyMedium, color = Gray2&#13;&#10;                )&#13;&#10;                else Text(&#13;&#10;                    text = selectedOption, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                )&#13;&#10;&#13;&#10;            }&#13;&#10;            Icon(&#13;&#10;                painter = painterResource(R.drawable.dropdown),&#13;&#10;                tint = Gray1,&#13;&#10;                contentDescription = null,&#13;&#10;                modifier = Modifier.size(25.dp)&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        DropdownMenu(&#13;&#10;            expanded = expanded,&#13;&#10;            onDismissRequest = {&#13;&#10;                expanded = false&#13;&#10;            },&#13;&#10;            containerColor = White1,&#13;&#10;            modifier = Modifier.width(with(LocalDensity.current) { boxWidth.toDp() })&#13;&#10;&#13;&#10;        ) {&#13;&#10;            options.forEach { option -&gt;&#13;&#10;                DropdownMenuItem(&#13;&#10;&#13;&#10;                    text = { Text(option) },&#13;&#10;                    onClick = {&#13;&#10;                        expanded = false&#13;&#10;                        onOptionSelected(&#13;&#10;                            option&#13;&#10;                        )&#13;&#10;                    },&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun CustomTextButton(&#13;&#10;    onClick: () -&gt; Unit,&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    text: String,&#13;&#10;    enable: Boolean = true,&#13;&#10;    buttonColor: ButtonColors = ButtonDefaults.textButtonColors(&#13;&#10;        containerColor = Blue1,&#13;&#10;        disabledContainerColor = Gray4,&#13;&#10;        contentColor = White1,&#13;&#10;        disabledContentColor = White1&#13;&#10;    ),&#13;&#10;    isLoading: Boolean = false,&#13;&#10;    style: TextStyle = AppTypography.bodyMedium,&#13;&#10;) {&#13;&#10;    TextButton(&#13;&#10;        onClick = onClick,&#13;&#10;        modifier = modifier,&#13;&#10;        shape = RoundedCornerShape(30),&#13;&#10;        colors = buttonColor,&#13;&#10;        enabled = enable &amp;&amp; !isLoading,&#13;&#10;    ) {&#13;&#10;        if (isLoading) CircularProgressIndicator(color = White1, modifier = Modifier.size(20.dp))&#13;&#10;        else Text(&#13;&#10;            text = text,&#13;&#10;            style = style,&#13;&#10;            color = if (enable) buttonColor.contentColor else buttonColor.disabledContentColor,&#13;&#10;            textAlign = TextAlign.Center,&#13;&#10;            modifier = Modifier.padding(horizontal = 10.dp, vertical = 5.dp)&#13;&#10;        )&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun DashedDivider(&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    dashWidth: Dp = 4.dp,&#13;&#10;    dashHeight: Dp = 2.dp,&#13;&#10;    gapWidth: Dp = 2.dp,&#13;&#10;    color: Color = Gray1,&#13;&#10;) {&#13;&#10;    Canvas(modifier) {&#13;&#10;&#13;&#10;        val pathEffect = PathEffect.dashPathEffect(&#13;&#10;            intervals = floatArrayOf(dashWidth.toPx(), gapWidth.toPx()), phase = 0f&#13;&#10;        )&#13;&#10;&#13;&#10;        drawLine(&#13;&#10;            color = color,&#13;&#10;            start = Offset(0f, 0f),&#13;&#10;            end = Offset(size.width, 0f),&#13;&#10;            pathEffect = pathEffect,&#13;&#10;            strokeWidth = dashHeight.toPx()&#13;&#10;        )&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun OtpDialogCustom(&#13;&#10;    otpLength: Int,&#13;&#10;    otpValue: String,&#13;&#10;    onOtpChange: (String) -&gt; Unit,&#13;&#10;    onDismiss: () -&gt; Unit,&#13;&#10;    modifier: Modifier = Modifier&#13;&#10;) {&#13;&#10;    Box(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxSize()&#13;&#10;            .background(Color.Black.copy(alpha = 0.5f))&#13;&#10;            .clickable(&#13;&#10;                onClick = onDismiss,&#13;&#10;                indication = null,&#13;&#10;                interactionSource = remember { MutableInteractionSource() }),&#13;&#10;    ) {&#13;&#10;        Box(&#13;&#10;            modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.BottomCenter&#13;&#10;        ) {&#13;&#10;            Column(&#13;&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxWidth()&#13;&#10;                    .background(&#13;&#10;                        color = White1, shape = RoundedCornerShape(topStart = 20.dp, topEnd = 20.dp)&#13;&#10;                    )&#13;&#10;                    .clickable(&#13;&#10;                        interactionSource = remember { MutableInteractionSource() },&#13;&#10;                        indication = null&#13;&#10;                    ) {}) {&#13;&#10;                Surface(&#13;&#10;                    shadowElevation = 8.dp, color = Color.Transparent&#13;&#10;                ) {&#13;&#10;                    Box(&#13;&#10;                        contentAlignment = Alignment.Center,&#13;&#10;                        modifier = Modifier&#13;&#10;                            .fillMaxWidth()&#13;&#10;                            .background(&#13;&#10;                                color = Blue3,&#13;&#10;                                shape = RoundedCornerShape(topStart = 20.dp, topEnd = 20.dp)&#13;&#10;                            )&#13;&#10;                            .padding(10.dp)&#13;&#10;                    ) {&#13;&#10;                        Text(&#13;&#10;                            text = &quot;Nhập mã OTP&quot;,&#13;&#10;                            style = AppTypography.bodyMedium,&#13;&#10;                            color = White1&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;                Column(&#13;&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;                    verticalArrangement = Arrangement.Top,&#13;&#10;                    modifier = Modifier&#13;&#10;                        .fillMaxWidth()&#13;&#10;                        .padding(20.dp)&#13;&#10;                ) {&#13;&#10;                    Box(&#13;&#10;                        contentAlignment = Alignment.Center,&#13;&#10;                        modifier = modifier&#13;&#10;                            .fillMaxWidth()&#13;&#10;                            .clip(shape = RoundedCornerShape(20.dp))&#13;&#10;                            .background(color = White3)&#13;&#10;                            .padding(vertical = 10.dp)&#13;&#10;                    ) {&#13;&#10;                        BasicTextField(&#13;&#10;                            value = otpValue, onValueChange = {&#13;&#10;                                if (it.length &lt;= otpLength &amp;&amp; it.all { c -&gt; c.isDigit() }) {&#13;&#10;                                    onOtpChange(it)&#13;&#10;                                }&#13;&#10;                            }, keyboardOptions = KeyboardOptions(&#13;&#10;                                keyboardType = KeyboardType.NumberPassword&#13;&#10;                            ), decorationBox = {&#13;&#10;                                Row(&#13;&#10;                                    horizontalArrangement = Arrangement.SpaceEvenly,&#13;&#10;                                    verticalAlignment = Alignment.CenterVertically,&#13;&#10;                                    modifier = Modifier&#13;&#10;                                        .fillMaxWidth()&#13;&#10;                                        .clip(shape = RoundedCornerShape(20.dp))&#13;&#10;                                        .background(color = BackgroundColor)&#13;&#10;                                ) {&#13;&#10;                                    repeat(otpLength) { index -&gt;&#13;&#10;                                        val isFilled = index &lt; otpValue.length&#13;&#10;                                        Box(&#13;&#10;                                            modifier = Modifier&#13;&#10;                                                .size(30.dp)&#13;&#10;                                                .clip(CircleShape)&#13;&#10;                                                .background(if (isFilled) TextColor else LabelColor)&#13;&#10;                                                .border(&#13;&#10;                                                    width = 2.dp,&#13;&#10;                                                    color = if (isFilled) TextColor else LabelColor,&#13;&#10;                                                    shape = CircleShape&#13;&#10;                                                )&#13;&#10;                                        )&#13;&#10;                                    }&#13;&#10;                                }&#13;&#10;                            })&#13;&#10;                    }&#13;&#10;                    Box(&#13;&#10;                        contentAlignment = Alignment.Center,&#13;&#10;                        modifier = Modifier.padding(vertical = 10.dp)&#13;&#10;                    ) {&#13;&#10;                        Text(&#13;&#10;                            text = &quot;&quot;, style = AppTypography.bodyMedium, color = BackgroundColor&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            }&#13;&#10;&#13;&#10;        }&#13;&#10;&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun LoadingScaffold(&#13;&#10;    isLoading: Boolean,&#13;&#10;    content: @Composable () -&gt; Unit,&#13;&#10;) {&#13;&#10;    Box(&#13;&#10;        modifier = Modifier.fillMaxSize()&#13;&#10;    ) {&#13;&#10;        content()&#13;&#10;        if (isLoading) {&#13;&#10;            Box(&#13;&#10;                contentAlignment = Alignment.Center, modifier = Modifier&#13;&#10;                    .fillMaxSize()&#13;&#10;                    .background(&#13;&#10;                        color = Gray3.copy(alpha = 0.5f),&#13;&#10;                    )&#13;&#10;                    .pointerInput(Unit) {}) {&#13;&#10;                CircularProgressIndicator(&#13;&#10;                    color = Blue3, modifier = Modifier.size(30.dp)&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun NavigationBar(&#13;&#10;    bottomBarHeight: Dp,&#13;&#10;    currentTab: TabNavigation,&#13;&#10;    onNavigateToSettingScreen: () -&gt; Unit,&#13;&#10;    onNavigateToHomeScreen: () -&gt; Unit,&#13;&#10;    onNavigateToTransactionHistoryScreen: () -&gt; Unit,&#13;&#10;    onNavigateToAnalyticsScreen: () -&gt; Unit,&#13;&#10;    onNavigateToQRScanner: () -&gt; Unit,&#13;&#10;) {&#13;&#10;&#13;&#10;    Box(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxWidth()&#13;&#10;            .height(bottomBarHeight)&#13;&#10;            .background(color = Color.Transparent)&#13;&#10;    ) {&#13;&#10;        //nav&#13;&#10;        Column(&#13;&#10;            verticalArrangement = Arrangement.Bottom,&#13;&#10;            modifier = Modifier&#13;&#10;                .height(bottomBarHeight)&#13;&#10;                .fillMaxWidth()&#13;&#10;//                        .background(White3)&#13;&#10;        ) {&#13;&#10;            Row(&#13;&#10;                verticalAlignment = Alignment.CenterVertically,&#13;&#10;                horizontalArrangement = Arrangement.spacedBy(&#13;&#10;                    75.dp, alignment = Alignment.CenterHorizontally&#13;&#10;                ),&#13;&#10;                modifier = Modifier&#13;&#10;&#13;&#10;                    .height(bottomBarHeight * 5 / 8)&#13;&#10;                    .fillMaxWidth()&#13;&#10;                    .shadow(&#13;&#10;                        elevation = 30.dp,&#13;&#10;                        shape = RoundedCornerShape(topStart = 0.2f, topEnd = 0.2f),&#13;&#10;                        ambientColor = Black1.copy(alpha = 0.9f),&#13;&#10;                        spotColor = Black1.copy(alpha = 0.9f),&#13;&#10;                    )&#13;&#10;                    .background(&#13;&#10;                        color = White1, shape = RoundedCornerShape(topStart = 0.2f, topEnd = 0.2f)&#13;&#10;                    )&#13;&#10;&#13;&#10;            ) {&#13;&#10;                Row(&#13;&#10;                    verticalAlignment = Alignment.CenterVertically,&#13;&#10;                    horizontalArrangement = Arrangement.spacedBy(&#13;&#10;                        30.dp, alignment = Alignment.CenterHorizontally&#13;&#10;                    ),&#13;&#10;                    modifier = Modifier&#13;&#10;                        .weight(1f)&#13;&#10;                        .padding(10.dp)&#13;&#10;                ) {&#13;&#10;                    IconButton(onClick = {&#13;&#10;                        if (currentTab != TabNavigation.HOME)&#13;&#10;                            onNavigateToHomeScreen()&#13;&#10;                    }) {&#13;&#10;                        Icon(&#13;&#10;                            painter = painterResource(R.drawable.category),&#13;&#10;                            contentDescription = null,&#13;&#10;                            tint = if (currentTab == TabNavigation.HOME) Blue3 else Gray1,&#13;&#10;                            modifier = Modifier.size(35.dp)&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;&#13;&#10;                    IconButton(onClick = {&#13;&#10;                        if (currentTab != TabNavigation.HISTORY)&#13;&#10;                            onNavigateToTransactionHistoryScreen()&#13;&#10;                    }) {&#13;&#10;                        Icon(&#13;&#10;                            painter = painterResource(R.drawable.history_bold),&#13;&#10;                            contentDescription = null,&#13;&#10;                            tint = if (currentTab == TabNavigation.HISTORY) Blue3 else Gray1,&#13;&#10;                            modifier = Modifier.size(35.dp)&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;&#13;&#10;                }&#13;&#10;                Row(&#13;&#10;                    verticalAlignment = Alignment.CenterVertically,&#13;&#10;                    horizontalArrangement = Arrangement.spacedBy(&#13;&#10;                        30.dp, alignment = Alignment.CenterHorizontally&#13;&#10;                    ),&#13;&#10;                    modifier = Modifier&#13;&#10;                        .weight(1f)&#13;&#10;                        .padding(10.dp)&#13;&#10;                ) {&#13;&#10;                    IconButton(onClick = {&#13;&#10;                        if (currentTab != TabNavigation.ANALYTICS)&#13;&#10;                            onNavigateToAnalyticsScreen()&#13;&#10;                    }) {&#13;&#10;                        Icon(&#13;&#10;                            painter = painterResource(R.drawable.analytic),&#13;&#10;                            contentDescription = null,&#13;&#10;                            tint = if (currentTab == TabNavigation.ANALYTICS) Blue3 else Gray1,&#13;&#10;                            modifier = Modifier.size(35.dp)&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;&#13;&#10;                    IconButton(onClick = {&#13;&#10;                        if (currentTab != TabNavigation.PROFILE)&#13;&#10;                            onNavigateToSettingScreen()&#13;&#10;                    }) {&#13;&#10;                        Icon(&#13;&#10;                            painter = painterResource(R.drawable.profile),&#13;&#10;                            contentDescription = null,&#13;&#10;                            tint = if (currentTab == TabNavigation.PROFILE) Blue3 else Gray1,&#13;&#10;                            modifier = Modifier.size(35.dp)&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        Column(&#13;&#10;            verticalArrangement = Arrangement.Center,&#13;&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;            modifier = Modifier&#13;&#10;                .height(bottomBarHeight)&#13;&#10;                .fillMaxWidth()&#13;&#10;        ) {&#13;&#10;            IconButton(&#13;&#10;                onClick = {&#13;&#10;                    onNavigateToQRScanner()&#13;&#10;                }, modifier = Modifier&#13;&#10;                    .shadow(&#13;&#10;                        elevation = 20.dp, shape = RoundedCornerShape(40),&#13;&#10;                        spotColor = Color.Transparent,&#13;&#10;                        ambientColor = Color.Transparent&#13;&#10;                    )&#13;&#10;                    .border(&#13;&#10;                        width = 5.dp, color = White1, shape = RoundedCornerShape(40)&#13;&#10;                    )&#13;&#10;                    .background(color = Blue3, shape = RoundedCornerShape(40))&#13;&#10;                    .padding(5.dp)&#13;&#10;            ) {&#13;&#10;                Icon(&#13;&#10;                    painter = painterResource(R.drawable.qr),&#13;&#10;                    contentDescription = null,&#13;&#10;                    tint = White1,&#13;&#10;                    modifier = Modifier.size(35.dp)&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;private fun animateFadeAndScaleSnackBar(): Pair&lt;Float, Float&gt; {&#13;&#10;    val alpha by animateFloatAsState(&#13;&#10;        targetValue = 1f, animationSpec = tween(&#13;&#10;            durationMillis = SnackBarConstants.ALPHA_DURATION, easing = FastOutSlowInEasing&#13;&#10;        ), label = &quot;alpha&quot;&#13;&#10;    )&#13;&#10;    val scale by animateFloatAsState(&#13;&#10;        targetValue = 1f, animationSpec = tween(&#13;&#10;            durationMillis = SnackBarConstants.SCALE_DURATION, easing = FastOutSlowInEasing&#13;&#10;        ), label = &quot;scale&quot;&#13;&#10;    )&#13;&#10;    return alpha to scale&#13;&#10;}&#13;&#10;&#13;&#10;private object SnackBarConstants {&#13;&#10;    val PADDING = 8.dp&#13;&#10;    val CONTENT_PADDING = 12.dp&#13;&#10;    val CORNER_RADIUS = 12.dp&#13;&#10;    val ICON_SIZE = 24.dp&#13;&#10;    val ICON_PADDING = 8.dp&#13;&#10;    val SPACING = 8.dp&#13;&#10;    val BUTTON_HEIGHT = 36.dp&#13;&#10;    val MESSAGE_FONT_SIZE = 14.sp&#13;&#10;    val ACTION_FONT_SIZE = 14.sp&#13;&#10;    const val ALPHA_DURATION = 250&#13;&#10;    const val SCALE_DURATION = 200&#13;&#10;}&#13;&#10;&#13;&#10;enum class SnackBarType {&#13;&#10;    SUCCESS, ERROR, WARNING, INFO&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun GradientSnackBar(&#13;&#10;    type: SnackBarType,&#13;&#10;    message: String,&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    actionLabel: String? = &quot;Đóng&quot;,&#13;&#10;    onAction: () -&gt; Unit = {},&#13;&#10;) {&#13;&#10;    val (alphaAnim, scaleAnim) = animateFadeAndScaleSnackBar()&#13;&#10;//    Box(&#13;&#10;//        modifier = Modifier.fillMaxSize()&#13;&#10;//    ) {&#13;&#10;//&#13;&#10;//        Box(&#13;&#10;//            modifier = Modifier&#13;&#10;//                .align(Alignment.BottomCenter)&#13;&#10;//                .padding(bottom = 16.dp)&#13;&#10;//        ) {&#13;&#10;    Card(&#13;&#10;        modifier = modifier&#13;&#10;            .fillMaxWidth(0.9f)&#13;&#10;            .wrapContentHeight()&#13;&#10;            .alpha(alphaAnim)&#13;&#10;            .scale(scaleAnim)&#13;&#10;            .padding(SnackBarConstants.PADDING),&#13;&#10;        shape = RoundedCornerShape(SnackBarConstants.CORNER_RADIUS),&#13;&#10;        colors = CardDefaults.cardColors(containerColor = Color.Transparent),&#13;&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 6.dp)&#13;&#10;    ) {&#13;&#10;        Row(&#13;&#10;            modifier = Modifier&#13;&#10;                .background(&#13;&#10;                    Brush.linearGradient(&#13;&#10;                        colors = when (type) {&#13;&#10;                            SnackBarType.SUCCESS -&gt; SuccessGradient&#13;&#10;                            SnackBarType.ERROR -&gt; ErrorGradient&#13;&#10;                            SnackBarType.WARNING -&gt; WarningGradient&#13;&#10;                            SnackBarType.INFO -&gt; InfoGradient&#13;&#10;                        }&#13;&#10;                    )&#13;&#10;                )&#13;&#10;                .padding(SnackBarConstants.CONTENT_PADDING)&#13;&#10;                .height(IntrinsicSize.Min),&#13;&#10;            verticalAlignment = Alignment.CenterVertically,&#13;&#10;            horizontalArrangement = Arrangement.SpaceBetween&#13;&#10;        ) {&#13;&#10;            Row(&#13;&#10;                verticalAlignment = Alignment.CenterVertically, modifier = Modifier.weight(1f)&#13;&#10;            ) {&#13;&#10;                when (type) {&#13;&#10;                    SnackBarType.SUCCESS -&gt; Icon(&#13;&#10;                        painter = painterResource(R.drawable.success),&#13;&#10;                        contentDescription = null,&#13;&#10;                        tint = Color.White,&#13;&#10;                        modifier = Modifier&#13;&#10;                            .size(SnackBarConstants.ICON_SIZE)&#13;&#10;                            .padding(end = SnackBarConstants.ICON_PADDING)&#13;&#10;                    )&#13;&#10;&#13;&#10;                    else -&gt; Icon(&#13;&#10;                        imageVector = Icons.Rounded.Info,&#13;&#10;                        contentDescription = null,&#13;&#10;                        tint = Color.White,&#13;&#10;                        modifier = Modifier&#13;&#10;                            .size(SnackBarConstants.ICON_SIZE)&#13;&#10;                            .padding(end = SnackBarConstants.ICON_PADDING)&#13;&#10;                    )&#13;&#10;                }&#13;&#10;                Text(&#13;&#10;                    text = message,&#13;&#10;                    color = Color.White,&#13;&#10;                    fontSize = SnackBarConstants.MESSAGE_FONT_SIZE,&#13;&#10;                    textAlign = TextAlign.Start,&#13;&#10;                    lineHeight = SnackBarConstants.MESSAGE_FONT_SIZE * 1.2f,&#13;&#10;                    modifier = Modifier.padding(end = SnackBarConstants.SPACING)&#13;&#10;                )&#13;&#10;            }&#13;&#10;            actionLabel?.let {&#13;&#10;                TextButton(&#13;&#10;                    onClick = onAction, modifier = Modifier.height(SnackBarConstants.BUTTON_HEIGHT)&#13;&#10;                ) {&#13;&#10;                    Text(&#13;&#10;                        text = it,&#13;&#10;                        color = Color.White,&#13;&#10;                        fontSize = SnackBarConstants.ACTION_FONT_SIZE,&#13;&#10;                        fontWeight = FontWeight.Medium&#13;&#10;                    )&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;//        }&#13;&#10;//    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun QrCodeImage(&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    content: QRPayload,&#13;&#10;    size: Dp,&#13;&#10;    onSavedSuccess: () -&gt; Unit = {},&#13;&#10;) {&#13;&#10;    val payload = jsonInstance().encodeToString(content)&#13;&#10;    val bitmap = generateQrBitmap(payload, size = size.value.toInt())&#13;&#10;    val context = LocalContext.current&#13;&#10;    val id = UUID.randomUUID()&#13;&#10;    Box(&#13;&#10;        modifier = modifier&#13;&#10;            .background(Color.White),&#13;&#10;        contentAlignment = Alignment.Center,&#13;&#10;    ) {&#13;&#10;        Column(verticalArrangement = Arrangement.spacedBy(10.dp)) {&#13;&#10;            Row(&#13;&#10;                modifier = Modifier.fillMaxWidth(),&#13;&#10;                horizontalArrangement = Arrangement.Center&#13;&#10;            ) {&#13;&#10;                Image(&#13;&#10;                    painter = remember(bitmap) { BitmapPainter(bitmap.asImageBitmap()) },&#13;&#10;                    contentDescription = null,&#13;&#10;                    contentScale = ContentScale.FillBounds,&#13;&#10;                    modifier = Modifier.size(size),&#13;&#10;                )&#13;&#10;            }&#13;&#10;&#13;&#10;            Row(&#13;&#10;                modifier = Modifier.fillMaxWidth(),&#13;&#10;                verticalAlignment = Alignment.CenterVertically,&#13;&#10;            ) {&#13;&#10;                Column(&#13;&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;                    modifier = Modifier&#13;&#10;                        .weight(1f)&#13;&#10;                        .clickable {&#13;&#10;                            saveBitmapToInternalStorage(&#13;&#10;                                context = context,&#13;&#10;                                bitmap = bitmap,&#13;&#10;                                fileName = id.toString()&#13;&#10;                            )&#13;&#10;                            onSavedSuccess()&#13;&#10;                        }) {&#13;&#10;                    Icon(&#13;&#10;                        painter = painterResource(R.drawable.image),&#13;&#10;                        contentDescription = &quot;Bill Image&quot;,&#13;&#10;                        modifier = Modifier.size(25.dp)&#13;&#10;                    )&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Lưu ảnh QR&quot;,&#13;&#10;                        style = AppTypography.bodyMedium,&#13;&#10;                        color = Black1,&#13;&#10;                    )&#13;&#10;                }&#13;&#10;                Column(&#13;&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;                    modifier = Modifier&#13;&#10;                        .weight(1f)&#13;&#10;                        .clickable {&#13;&#10;                            shareText(&#13;&#10;                                context = context,&#13;&#10;                                text = when (content) {&#13;&#10;                                    is BillPayload -&gt; content.billCode&#13;&#10;                                    is TransferPayload -&gt; content.toWalletNumber&#13;&#10;                                }&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;                ) {&#13;&#10;                    Icon(&#13;&#10;                        painter = painterResource(R.drawable.export),&#13;&#10;                        contentDescription = null,&#13;&#10;                        modifier = Modifier.size(25.dp)&#13;&#10;                    )&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Chia sẻ QR&quot;,&#13;&#10;                        style = AppTypography.bodyMedium,&#13;&#10;                        color = Black1,&#13;&#10;                    )&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun BillFilterDialog(&#13;&#10;    selectedStatus: BillStatus? = null,&#13;&#10;    selectedSort: SortOption = SortOption.NEWEST,&#13;&#10;    onSelectStatus: (String) -&gt; Unit = {},&#13;&#10;    onSelectSort: (String) -&gt; Unit = {},&#13;&#10;    onResetStatusFilter: () -&gt; Unit = {},&#13;&#10;    onResetSortFilter: () -&gt; Unit = {},&#13;&#10;    onResetAll: () -&gt; Unit = {},&#13;&#10;    onApply: () -&gt; Unit = {},&#13;&#10;    onDismiss: () -&gt; Unit = {}&#13;&#10;) {&#13;&#10;    val billStatusOptions = BillStatus.entries.map { status -&gt;&#13;&#10;        status.status&#13;&#10;    }&#13;&#10;    val billSortOptions = SortOption.entries.map { it.sortBy }&#13;&#10;&#13;&#10;&#13;&#10;    Column(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxWidth()&#13;&#10;            .background(&#13;&#10;                color = White1, shape = RoundedCornerShape(12.dp)&#13;&#10;            )&#13;&#10;            .padding(5.dp)&#13;&#10;    ) {&#13;&#10;        Box(&#13;&#10;            contentAlignment = Alignment.TopEnd,&#13;&#10;        ) {&#13;&#10;&#13;&#10;            Column(&#13;&#10;                verticalArrangement = Arrangement.spacedBy(12.dp),&#13;&#10;                modifier = Modifier.padding(15.dp)&#13;&#10;            ) {&#13;&#10;&#13;&#10;&#13;&#10;                Text(&#13;&#10;                    text = &quot;Lọc theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                )&#13;&#10;&#13;&#10;                Row(&#13;&#10;                    modifier = Modifier.fillMaxWidth(),&#13;&#10;                    verticalAlignment = Alignment.CenterVertically&#13;&#10;                ) {&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Trạng thái hóa đơn&quot;,&#13;&#10;                        style = AppTypography.bodyMedium,&#13;&#10;                        color = Gray1&#13;&#10;                    )&#13;&#10;                    Spacer(modifier = Modifier.weight(1f))&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Bỏ lọc&quot;,&#13;&#10;                        style = AppTypography.bodyMedium,&#13;&#10;                        color = Blue1,&#13;&#10;                        modifier = Modifier.clickable {&#13;&#10;                            onResetStatusFilter()&#13;&#10;                        })&#13;&#10;                }&#13;&#10;&#13;&#10;                CustomDropdownField(&#13;&#10;                    options = billStatusOptions,&#13;&#10;                    selectedOption = selectedStatus?.status ?: &quot;&quot;,&#13;&#10;                    onOptionSelected = {&#13;&#10;                        onSelectStatus(it)&#13;&#10;                    },&#13;&#10;                    placeholder = &quot;Trạng thái hóa đơn&quot;&#13;&#10;                )&#13;&#10;&#13;&#10;                Spacer(modifier = Modifier.height(4.dp))&#13;&#10;&#13;&#10;                Text(&#13;&#10;                    text = &quot;Sắp xếp theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                )&#13;&#10;&#13;&#10;                Row(&#13;&#10;                    modifier = Modifier.fillMaxWidth(),&#13;&#10;                    verticalAlignment = Alignment.CenterVertically&#13;&#10;                ) {&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Ngày tạo&quot;, style = AppTypography.bodyMedium, color = Gray1&#13;&#10;                    )&#13;&#10;                    Spacer(modifier = Modifier.weight(1f))&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Bỏ lọc&quot;,&#13;&#10;                        style = AppTypography.bodyMedium,&#13;&#10;                        color = Blue1,&#13;&#10;                        modifier = Modifier.clickable {&#13;&#10;                            onResetSortFilter()&#13;&#10;                        })&#13;&#10;                }&#13;&#10;&#13;&#10;                CustomDropdownField(&#13;&#10;                    options = billSortOptions,&#13;&#10;                    selectedOption = selectedSort.sortBy,&#13;&#10;                    onOptionSelected = {&#13;&#10;                        onSelectSort(it)&#13;&#10;                    },&#13;&#10;                    placeholder = &quot;Sắp xếp theo&quot;&#13;&#10;                )&#13;&#10;&#13;&#10;                Spacer(modifier = Modifier.height(8.dp))&#13;&#10;&#13;&#10;                Row(&#13;&#10;                    modifier = Modifier.fillMaxWidth(),&#13;&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;                ) {&#13;&#10;                    Button(&#13;&#10;                        onClick = {&#13;&#10;                            onResetAll()&#13;&#10;                        },&#13;&#10;                        modifier = Modifier&#13;&#10;                            .weight(1f)&#13;&#10;                            .height(44.dp),&#13;&#10;                        colors = ButtonDefaults.buttonColors(&#13;&#10;                            containerColor = Gray2&#13;&#10;                        ),&#13;&#10;                        shape = RoundedCornerShape(10.dp)&#13;&#10;                    ) {&#13;&#10;                        Text(&#13;&#10;                            text = &quot;Đặt lại&quot;, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;&#13;&#10;                    Button(&#13;&#10;                        onClick = {&#13;&#10;                            onApply()&#13;&#10;                        },&#13;&#10;                        modifier = Modifier&#13;&#10;                            .weight(1f)&#13;&#10;                            .height(44.dp),&#13;&#10;                        colors = ButtonDefaults.buttonColors(&#13;&#10;                            containerColor = Blue1&#13;&#10;                        ),&#13;&#10;                        shape = RoundedCornerShape(10.dp)&#13;&#10;                    ) {&#13;&#10;                        Text(&#13;&#10;                            text = &quot;Áp dụng&quot;, style = AppTypography.bodyMedium, color = White1&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            }&#13;&#10;            Box(&#13;&#10;                modifier = Modifier&#13;&#10;                    .shadow(&#13;&#10;                        elevation = 0.dp, shape = RoundedCornerShape(10.dp)&#13;&#10;                    )&#13;&#10;                    .clickable {&#13;&#10;                        onDismiss()&#13;&#10;                    }) {&#13;&#10;&#13;&#10;                Icon(&#13;&#10;                    painter = painterResource(R.drawable.close),&#13;&#10;                    contentDescription = null,&#13;&#10;                    tint = Gray1,&#13;&#10;                    modifier = Modifier.size(35.dp)&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun TransactionHistoryFilterDialog(&#13;&#10;&#13;&#10;    currentFromDate: LocalDate,&#13;&#10;    currentToDate: LocalDate,&#13;&#10;    currentStatus: TransactionStatus?,&#13;&#10;    currentService: ServiceType?,&#13;&#10;    currentAccountType: AccountType,&#13;&#10;    currentSort: SortOption = SortOption.NEWEST,&#13;&#10;&#13;&#10;    onApply: (status: TransactionStatus?, service: ServiceType?, accountType: AccountType, sort: SortOption, fromDate: LocalDate, toDate: LocalDate) -&gt; Unit,&#13;&#10;    onDismiss: () -&gt; Unit = {}&#13;&#10;) {&#13;&#10;    var selectedStatus by remember {&#13;&#10;        mutableStateOf&lt;TransactionStatus?&gt;(currentStatus)&#13;&#10;    }&#13;&#10;&#13;&#10;    var selectedService by remember {&#13;&#10;        mutableStateOf&lt;ServiceType?&gt;(currentService)&#13;&#10;    }&#13;&#10;&#13;&#10;    var selectedAccountType by remember {&#13;&#10;        mutableStateOf&lt;AccountType&gt;(currentAccountType)&#13;&#10;    }&#13;&#10;&#13;&#10;    var selectedSort by remember {&#13;&#10;        mutableStateOf(currentSort)&#13;&#10;    }&#13;&#10;&#13;&#10;    var selectedFromDate by remember {&#13;&#10;        mutableStateOf(currentFromDate)&#13;&#10;    }&#13;&#10;&#13;&#10;    var selectedToDate by remember {&#13;&#10;        mutableStateOf(currentToDate)&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    var isShowFromDatePicker by remember {&#13;&#10;        mutableStateOf(false)&#13;&#10;    }&#13;&#10;    var isShowToDatePicker by remember {&#13;&#10;        mutableStateOf(false)&#13;&#10;    }&#13;&#10;    Box(&#13;&#10;        modifier = Modifier.fillMaxSize(),&#13;&#10;        contentAlignment = Alignment.Center&#13;&#10;    ) {&#13;&#10;        Column(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .background(&#13;&#10;                    color = White1, shape = RoundedCornerShape(12.dp)&#13;&#10;                )&#13;&#10;                .padding(5.dp)&#13;&#10;        ) {&#13;&#10;&#13;&#10;            Box(&#13;&#10;                contentAlignment = Alignment.TopEnd,&#13;&#10;            ) {&#13;&#10;&#13;&#10;                Column(&#13;&#10;                    verticalArrangement = Arrangement.spacedBy(12.dp),&#13;&#10;                    modifier = Modifier.padding(15.dp)&#13;&#10;                ) {&#13;&#10;&#13;&#10;&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Lọc theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                    )&#13;&#10;                    Column(&#13;&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;                    ) {&#13;&#10;                        Column(&#13;&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#13;&#10;&#13;&#10;                        ) {&#13;&#10;&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Trạng thái hóa đơn&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Gray1&#13;&#10;                                )&#13;&#10;                                Spacer(modifier = Modifier.weight(1f))&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Bỏ lọc&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Blue1,&#13;&#10;                                    modifier = Modifier.clickable {&#13;&#10;                                        selectedStatus = null&#13;&#10;                                    }&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;&#13;&#10;                            CustomDropdownField(&#13;&#10;                                options = TransactionStatus.entries.filter { it != TransactionStatus.PENDING },&#13;&#10;                                selectedOption = selectedStatus?.status ?: &quot;&quot;,&#13;&#10;                                onOptionSelected = {&#13;&#10;                                    selectedStatus = it&#13;&#10;                                },&#13;&#10;                                optionsComposable = {&#13;&#10;                                    Text(&#13;&#10;                                        text = it.status,&#13;&#10;                                        style = AppTypography.bodyMedium,&#13;&#10;                                        color = Black1&#13;&#10;                                    )&#13;&#10;                                },&#13;&#10;                                placeholder = &quot;Trạng thái hóa đơn&quot;&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;                        Column(&#13;&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#13;&#10;&#13;&#10;                        ) {&#13;&#10;&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Loại dịch vụ&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Gray1&#13;&#10;                                )&#13;&#10;                                Spacer(modifier = Modifier.weight(1f))&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Bỏ lọc&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Blue1,&#13;&#10;                                    modifier = Modifier.clickable {&#13;&#10;                                        selectedService = null&#13;&#10;                                    }&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;&#13;&#10;                            CustomDropdownField(&#13;&#10;                                options = ServiceType.entries,&#13;&#10;                                selectedOption = selectedService?.serviceName ?: &quot;&quot;,&#13;&#10;                                onOptionSelected = {&#13;&#10;                                    selectedService = it&#13;&#10;                                },&#13;&#10;                                optionsComposable = {&#13;&#10;                                    Text(&#13;&#10;                                        text = it.serviceName,&#13;&#10;                                        style = AppTypography.bodyMedium,&#13;&#10;                                        color = Black1&#13;&#10;                                    )&#13;&#10;                                },&#13;&#10;                                placeholder = &quot;Loại dịch vụ&quot;&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;                        Column(&#13;&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#13;&#10;&#13;&#10;                        ) {&#13;&#10;&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Tài khoản thanh toán&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Gray1&#13;&#10;                                )&#13;&#10;                                Spacer(modifier = Modifier.weight(1f))&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Bỏ lọc&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Blue1,&#13;&#10;                                    modifier = Modifier.clickable {&#13;&#10;                                        selectedAccountType = AccountType.WALLET&#13;&#10;                                    }&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;&#13;&#10;                            CustomDropdownField(&#13;&#10;                                options = AccountType.entries,&#13;&#10;                                selectedOption = selectedAccountType?.type ?: &quot;&quot;,&#13;&#10;                                onOptionSelected = {&#13;&#10;                                    selectedAccountType = it&#13;&#10;                                },&#13;&#10;                                optionsComposable = {&#13;&#10;                                    Text(&#13;&#10;                                        text = it.type,&#13;&#10;                                        style = AppTypography.bodyMedium,&#13;&#10;                                        color = Black1&#13;&#10;                                    )&#13;&#10;                                },&#13;&#10;                                placeholder = &quot;Tài khoản thanh toán&quot;&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;                        Column(&#13;&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#13;&#10;&#13;&#10;                        ) {&#13;&#10;&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Ngày&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Gray1&#13;&#10;                                )&#13;&#10;                                Spacer(modifier = Modifier.weight(1f))&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Bỏ lọc&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Blue1,&#13;&#10;                                    modifier = Modifier.clickable {&#13;&#10;                                        selectedFromDate = LocalDate.now().minusMonths(1)&#13;&#10;                                        selectedToDate = LocalDate.now()&#13;&#10;                                    }&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically,&#13;&#10;                                horizontalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;                            ) {&#13;&#10;                                CustomClickField(&#13;&#10;                                    onClick = {&#13;&#10;                                        isShowFromDatePicker = true&#13;&#10;                                    },&#13;&#10;                                    placeholder = &quot;Từ ngày&quot;,&#13;&#10;                                    value = selectedFromDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)),&#13;&#10;                                    trailingIcon = {&#13;&#10;                                        Icon(&#13;&#10;                                            painter = painterResource(R.drawable.calendar),&#13;&#10;                                            tint = Gray1,&#13;&#10;                                            contentDescription = null,&#13;&#10;                                            modifier = Modifier.size(25.dp)&#13;&#10;                                        )&#13;&#10;                                    },&#13;&#10;                                    modifier = Modifier.weight(1f)&#13;&#10;                                )&#13;&#10;                                CustomClickField(&#13;&#10;                                    onClick = {&#13;&#10;                                        isShowToDatePicker = true&#13;&#10;                                    },&#13;&#10;                                    placeholder = &quot;Đến ngày&quot;,&#13;&#10;                                    value = selectedToDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)),&#13;&#10;                                    trailingIcon = {&#13;&#10;                                        Icon(&#13;&#10;                                            painter = painterResource(R.drawable.calendar),&#13;&#10;                                            tint = Gray1,&#13;&#10;                                            contentDescription = null,&#13;&#10;                                            modifier = Modifier.size(25.dp)&#13;&#10;                                        )&#13;&#10;                                    },&#13;&#10;                                    modifier = Modifier.weight(1f)&#13;&#10;                                )&#13;&#10;&#13;&#10;                            }&#13;&#10;                        }&#13;&#10;&#13;&#10;                    }&#13;&#10;&#13;&#10;                    Spacer(modifier = Modifier.height(4.dp))&#13;&#10;&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Sắp xếp theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                    )&#13;&#10;&#13;&#10;                    Row(&#13;&#10;                        modifier = Modifier.fillMaxWidth(),&#13;&#10;                        verticalAlignment = Alignment.CenterVertically&#13;&#10;                    ) {&#13;&#10;                        Text(&#13;&#10;                            text = &quot;Ngày tạo&quot;, style = AppTypography.bodyMedium, color = Gray1&#13;&#10;                        )&#13;&#10;                        Spacer(modifier = Modifier.weight(1f))&#13;&#10;                        Text(&#13;&#10;                            text = &quot;Bỏ lọc&quot;,&#13;&#10;                            style = AppTypography.bodyMedium,&#13;&#10;                            color = Blue1,&#13;&#10;                            modifier = Modifier.clickable {&#13;&#10;                                selectedSort = SortOption.NEWEST&#13;&#10;                            })&#13;&#10;                    }&#13;&#10;&#13;&#10;                    CustomDropdownField(&#13;&#10;                        options = SortOption.entries,&#13;&#10;                        selectedOption = selectedSort.sortBy,&#13;&#10;                        onOptionSelected = {&#13;&#10;                            selectedSort = it&#13;&#10;                        },&#13;&#10;                        optionsComposable = {&#13;&#10;                            Text(&#13;&#10;                                text = it.sortBy,&#13;&#10;                                style = AppTypography.bodyMedium,&#13;&#10;                                color = Black1&#13;&#10;                            )&#13;&#10;                        },&#13;&#10;                        placeholder = &quot;Sắp xếp theo&quot;&#13;&#10;                    )&#13;&#10;&#13;&#10;                    Spacer(modifier = Modifier.height(8.dp))&#13;&#10;&#13;&#10;                    Row(&#13;&#10;                        modifier = Modifier.fillMaxWidth(),&#13;&#10;                        horizontalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;                    ) {&#13;&#10;                        Button(&#13;&#10;                            onClick = {&#13;&#10;                                selectedStatus = null&#13;&#10;                                selectedService = null&#13;&#10;                                selectedAccountType = AccountType.WALLET&#13;&#10;                                selectedFromDate = LocalDate.now().minusMonths(1)&#13;&#10;                                selectedToDate = LocalDate.now()&#13;&#10;                                selectedSort = SortOption.NEWEST&#13;&#10;                                onApply(&#13;&#10;                                    selectedStatus,&#13;&#10;                                    selectedService,&#13;&#10;                                    selectedAccountType,&#13;&#10;                                    selectedSort,&#13;&#10;                                    selectedFromDate,&#13;&#10;                                    selectedToDate&#13;&#10;                                )&#13;&#10;                            },&#13;&#10;                            modifier = Modifier&#13;&#10;                                .weight(1f)&#13;&#10;                                .height(44.dp),&#13;&#10;                            colors = ButtonDefaults.buttonColors(&#13;&#10;                                containerColor = Gray2&#13;&#10;                            ),&#13;&#10;                            shape = RoundedCornerShape(10.dp)&#13;&#10;                        ) {&#13;&#10;                            Text(&#13;&#10;                                text = &quot;Đặt lại&quot;,&#13;&#10;                                style = AppTypography.bodyMedium,&#13;&#10;                                color = Black1&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;&#13;&#10;                        Button(&#13;&#10;                            onClick = {&#13;&#10;                                onApply(&#13;&#10;                                    selectedStatus,&#13;&#10;                                    selectedService,&#13;&#10;                                    selectedAccountType,&#13;&#10;                                    selectedSort,&#13;&#10;                                    selectedFromDate,&#13;&#10;                                    selectedToDate&#13;&#10;                                )&#13;&#10;                            },&#13;&#10;                            modifier = Modifier&#13;&#10;                                .weight(1f)&#13;&#10;                                .height(44.dp),&#13;&#10;                            colors = ButtonDefaults.buttonColors(&#13;&#10;                                containerColor = Blue1&#13;&#10;                            ),&#13;&#10;                            shape = RoundedCornerShape(10.dp)&#13;&#10;                        ) {&#13;&#10;                            Text(&#13;&#10;                                text = &quot;Áp dụng&quot;,&#13;&#10;                                style = AppTypography.bodyMedium,&#13;&#10;                                color = White1&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;                    }&#13;&#10;                }&#13;&#10;                Box(&#13;&#10;                    modifier = Modifier&#13;&#10;                        .shadow(&#13;&#10;                            elevation = 0.dp, shape = RoundedCornerShape(10.dp)&#13;&#10;                        )&#13;&#10;                        .clickable {&#13;&#10;                            onDismiss()&#13;&#10;                        }) {&#13;&#10;&#13;&#10;                    Icon(&#13;&#10;                        painter = painterResource(R.drawable.close),&#13;&#10;                        contentDescription = null,&#13;&#10;                        tint = Gray1,&#13;&#10;                        modifier = Modifier.size(35.dp)&#13;&#10;                    )&#13;&#10;                }&#13;&#10;            }&#13;&#10;&#13;&#10;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (isShowFromDatePicker) {&#13;&#10;            Box(&#13;&#10;                contentAlignment = Alignment.BottomEnd,&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxSize()&#13;&#10;                    .background(&#13;&#10;                        color = Gray3.copy(alpha = 0.5f),&#13;&#10;                    )&#13;&#10;                    .padding(20.dp)&#13;&#10;                    .pointerInput(Unit) {}) {&#13;&#10;                CustomDatePicker(&#13;&#10;                    minDate = LocalDate.now().minusYears(2),&#13;&#10;                    maxDate = LocalDate.now(),&#13;&#10;                    onSelectedDate = {&#13;&#10;                        selectedFromDate = it&#13;&#10;                        isShowFromDatePicker = false&#13;&#10;                    },&#13;&#10;                    onDismiss = {&#13;&#10;                        isShowFromDatePicker = false&#13;&#10;                    }&#13;&#10;                )&#13;&#10;&#13;&#10;            }&#13;&#10;&#13;&#10;        }&#13;&#10;        if (isShowToDatePicker) {&#13;&#10;            Box(&#13;&#10;                contentAlignment = Alignment.BottomEnd,&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxSize()&#13;&#10;                    .background(&#13;&#10;                        color = Gray3.copy(alpha = 0.5f),&#13;&#10;                    )&#13;&#10;                    .padding(20.dp)&#13;&#10;                    .pointerInput(Unit) {}) {&#13;&#10;                CustomDatePicker(&#13;&#10;                    minDate = LocalDate.now().minusYears(2),&#13;&#10;                    maxDate = LocalDate.now(),&#13;&#10;                    onSelectedDate = {&#13;&#10;                        selectedToDate = it&#13;&#10;                        isShowToDatePicker = false&#13;&#10;                    },&#13;&#10;                    onDismiss = {&#13;&#10;                        isShowToDatePicker = false&#13;&#10;                    }&#13;&#10;                )&#13;&#10;&#13;&#10;            }&#13;&#10;&#13;&#10;        }&#13;&#10;&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun PayLaterApplicationHistoryFilterDialog(&#13;&#10;    currentStatus: PayLaterApplicationStatus?,&#13;&#10;    currentType: PayLaterApplicationType?,&#13;&#10;    currentFromDate: LocalDate,&#13;&#10;    currentToDate: LocalDate,&#13;&#10;    onApply: (status: PayLaterApplicationStatus?, type: PayLaterApplicationType?, fromDate: LocalDate, toDate: LocalDate) -&gt; Unit,&#13;&#10;    onDismiss: () -&gt; Unit&#13;&#10;) {&#13;&#10;    var selectedStatus by remember {&#13;&#10;        mutableStateOf&lt;PayLaterApplicationStatus?&gt;(currentStatus)&#13;&#10;    }&#13;&#10;&#13;&#10;    var selectedType by remember {&#13;&#10;        mutableStateOf&lt;PayLaterApplicationType?&gt;(currentType)&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    var selectedFromDate by remember {&#13;&#10;        mutableStateOf(currentFromDate)&#13;&#10;    }&#13;&#10;&#13;&#10;    var selectedToDate by remember {&#13;&#10;        mutableStateOf(currentToDate)&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    var isShowFromDatePicker by remember {&#13;&#10;        mutableStateOf(false)&#13;&#10;    }&#13;&#10;    var isShowToDatePicker by remember {&#13;&#10;        mutableStateOf(false)&#13;&#10;    }&#13;&#10;    Box(&#13;&#10;        modifier = Modifier.fillMaxSize(),&#13;&#10;        contentAlignment = Alignment.Center&#13;&#10;    ) {&#13;&#10;        Column(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .background(&#13;&#10;                    color = White1, shape = RoundedCornerShape(12.dp)&#13;&#10;                )&#13;&#10;                .padding(5.dp)&#13;&#10;        ) {&#13;&#10;&#13;&#10;            Box(&#13;&#10;                contentAlignment = Alignment.TopEnd,&#13;&#10;            ) {&#13;&#10;&#13;&#10;                Column(&#13;&#10;                    verticalArrangement = Arrangement.spacedBy(12.dp),&#13;&#10;                    modifier = Modifier.padding(15.dp)&#13;&#10;                ) {&#13;&#10;&#13;&#10;&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Lọc theo:&quot;, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                    )&#13;&#10;                    Column(&#13;&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;                    ) {&#13;&#10;                        Column(&#13;&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#13;&#10;&#13;&#10;                        ) {&#13;&#10;&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Trạng thái đơn&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Gray1&#13;&#10;                                )&#13;&#10;                                Spacer(modifier = Modifier.weight(1f))&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Bỏ lọc&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Blue1,&#13;&#10;                                    modifier = Modifier.clickable {&#13;&#10;                                        selectedStatus = null&#13;&#10;                                    }&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;&#13;&#10;                            CustomDropdownField&lt;PayLaterApplicationStatus&gt;(&#13;&#10;                                options = PayLaterApplicationStatus.entries,&#13;&#10;                                selectedOption = selectedStatus?.statusName ?: &quot;&quot;,&#13;&#10;                                onOptionSelected = {&#13;&#10;                                    selectedStatus = it&#13;&#10;                                },&#13;&#10;                                optionsComposable = {&#13;&#10;                                    Text(&#13;&#10;                                        text = it.statusName,&#13;&#10;                                        style = AppTypography.bodyMedium,&#13;&#10;                                        color = Black1&#13;&#10;                                    )&#13;&#10;                                },&#13;&#10;                                placeholder = &quot;Trạng thái đơn&quot;&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;                        Column(&#13;&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#13;&#10;&#13;&#10;                        ) {&#13;&#10;&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Loại đơn&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Gray1&#13;&#10;                                )&#13;&#10;                                Spacer(modifier = Modifier.weight(1f))&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Bỏ lọc&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Blue1,&#13;&#10;                                    modifier = Modifier.clickable {&#13;&#10;                                        selectedType = null&#13;&#10;                                    }&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;&#13;&#10;                            CustomDropdownField(&#13;&#10;                                options = PayLaterApplicationType.entries,&#13;&#10;                                selectedOption = selectedType?.typeName ?: &quot;&quot;,&#13;&#10;                                onOptionSelected = {&#13;&#10;                                    selectedType = it&#13;&#10;                                },&#13;&#10;                                optionsComposable = {&#13;&#10;                                    Text(&#13;&#10;                                        text = it.typeName,&#13;&#10;                                        style = AppTypography.bodyMedium,&#13;&#10;                                        color = Black1&#13;&#10;                                    )&#13;&#10;                                },&#13;&#10;                                placeholder = &quot;Loại đơn&quot;&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;                        Column(&#13;&#10;                            verticalArrangement = Arrangement.spacedBy(5.dp)&#13;&#10;&#13;&#10;                        ) {&#13;&#10;&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Ngày&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Gray1&#13;&#10;                                )&#13;&#10;                                Spacer(modifier = Modifier.weight(1f))&#13;&#10;                                Text(&#13;&#10;                                    text = &quot;Bỏ lọc&quot;,&#13;&#10;                                    style = AppTypography.bodyMedium,&#13;&#10;                                    color = Blue1,&#13;&#10;                                    modifier = Modifier.clickable {&#13;&#10;                                        selectedFromDate = LocalDate.now().minusDays(30)&#13;&#10;                                        selectedToDate = LocalDate.now()&#13;&#10;                                    }&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                verticalAlignment = Alignment.CenterVertically,&#13;&#10;                                horizontalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;                            ) {&#13;&#10;                                CustomClickField(&#13;&#10;                                    onClick = {&#13;&#10;                                        isShowFromDatePicker = true&#13;&#10;                                    },&#13;&#10;                                    placeholder = &quot;Từ ngày&quot;,&#13;&#10;                                    value = selectedFromDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)),&#13;&#10;                                    trailingIcon = {&#13;&#10;                                        Icon(&#13;&#10;                                            painter = painterResource(R.drawable.calendar),&#13;&#10;                                            tint = Gray1,&#13;&#10;                                            contentDescription = null,&#13;&#10;                                            modifier = Modifier.size(25.dp)&#13;&#10;                                        )&#13;&#10;                                    },&#13;&#10;                                    modifier = Modifier.weight(1f)&#13;&#10;                                )&#13;&#10;                                CustomClickField(&#13;&#10;                                    onClick = {&#13;&#10;                                        isShowToDatePicker = true&#13;&#10;                                    },&#13;&#10;                                    placeholder = &quot;Đến ngày&quot;,&#13;&#10;                                    value = selectedToDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)),&#13;&#10;                                    trailingIcon = {&#13;&#10;                                        Icon(&#13;&#10;                                            painter = painterResource(R.drawable.calendar),&#13;&#10;                                            tint = Gray1,&#13;&#10;                                            contentDescription = null,&#13;&#10;                                            modifier = Modifier.size(25.dp)&#13;&#10;                                        )&#13;&#10;                                    },&#13;&#10;                                    modifier = Modifier.weight(1f)&#13;&#10;                                )&#13;&#10;&#13;&#10;                            }&#13;&#10;                        }&#13;&#10;&#13;&#10;                    }&#13;&#10;&#13;&#10;&#13;&#10;                    Spacer(modifier = Modifier.height(8.dp))&#13;&#10;&#13;&#10;                    Row(&#13;&#10;                        modifier = Modifier.fillMaxWidth(),&#13;&#10;                        horizontalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;                    ) {&#13;&#10;                        Button(&#13;&#10;                            onClick = {&#13;&#10;                                selectedStatus = null&#13;&#10;                                selectedType = null&#13;&#10;                                selectedFromDate = LocalDate.now().minusDays(30)&#13;&#10;                                selectedToDate = LocalDate.now()&#13;&#10;                                onApply(&#13;&#10;                                    selectedStatus,&#13;&#10;                                    selectedType,&#13;&#10;                                    selectedFromDate,&#13;&#10;                                    selectedToDate&#13;&#10;                                )&#13;&#10;                            },&#13;&#10;                            modifier = Modifier&#13;&#10;                                .weight(1f)&#13;&#10;                                .height(44.dp),&#13;&#10;                            colors = ButtonDefaults.buttonColors(&#13;&#10;                                containerColor = Gray2&#13;&#10;                            ),&#13;&#10;                            shape = RoundedCornerShape(10.dp)&#13;&#10;                        ) {&#13;&#10;                            Text(&#13;&#10;                                text = &quot;Đặt lại&quot;,&#13;&#10;                                style = AppTypography.bodyMedium,&#13;&#10;                                color = Black1&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;&#13;&#10;                        Button(&#13;&#10;                            onClick = {&#13;&#10;                                onApply(&#13;&#10;                                    selectedStatus,&#13;&#10;                                    selectedType,&#13;&#10;                                    selectedFromDate,&#13;&#10;                                    selectedToDate&#13;&#10;                                )&#13;&#10;                            },&#13;&#10;                            modifier = Modifier&#13;&#10;                                .weight(1f)&#13;&#10;                                .height(44.dp),&#13;&#10;                            colors = ButtonDefaults.buttonColors(&#13;&#10;                                containerColor = Blue1&#13;&#10;                            ),&#13;&#10;                            shape = RoundedCornerShape(10.dp)&#13;&#10;                        ) {&#13;&#10;                            Text(&#13;&#10;                                text = &quot;Áp dụng&quot;,&#13;&#10;                                style = AppTypography.bodyMedium,&#13;&#10;                                color = White1&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;                    }&#13;&#10;                }&#13;&#10;                Box(&#13;&#10;                    modifier = Modifier&#13;&#10;                        .shadow(&#13;&#10;                            elevation = 0.dp, shape = RoundedCornerShape(10.dp)&#13;&#10;                        )&#13;&#10;                        .clickable {&#13;&#10;                            onDismiss()&#13;&#10;                        }) {&#13;&#10;&#13;&#10;                    Icon(&#13;&#10;                        painter = painterResource(R.drawable.close),&#13;&#10;                        contentDescription = null,&#13;&#10;                        tint = Gray1,&#13;&#10;                        modifier = Modifier.size(35.dp)&#13;&#10;                    )&#13;&#10;                }&#13;&#10;            }&#13;&#10;&#13;&#10;&#13;&#10;        }&#13;&#10;&#13;&#10;        if (isShowFromDatePicker) {&#13;&#10;            Box(&#13;&#10;                contentAlignment = Alignment.BottomEnd,&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxSize()&#13;&#10;                    .background(&#13;&#10;                        color = Gray3.copy(alpha = 0.5f),&#13;&#10;                    )&#13;&#10;                    .padding(20.dp)&#13;&#10;                    .pointerInput(Unit) {}) {&#13;&#10;                CustomDatePicker(&#13;&#10;                    minDate = LocalDate.now().minusYears(2),&#13;&#10;                    maxDate = LocalDate.now(),&#13;&#10;                    onSelectedDate = {&#13;&#10;                        selectedFromDate = it&#13;&#10;                        isShowFromDatePicker = false&#13;&#10;                    },&#13;&#10;                    onDismiss = {&#13;&#10;                        isShowFromDatePicker = false&#13;&#10;                    }&#13;&#10;                )&#13;&#10;&#13;&#10;            }&#13;&#10;&#13;&#10;        }&#13;&#10;        if (isShowToDatePicker) {&#13;&#10;            Box(&#13;&#10;                contentAlignment = Alignment.BottomEnd,&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxSize()&#13;&#10;                    .background(&#13;&#10;                        color = Gray3.copy(alpha = 0.5f),&#13;&#10;                    )&#13;&#10;                    .padding(20.dp)&#13;&#10;                    .pointerInput(Unit) {}) {&#13;&#10;                CustomDatePicker(&#13;&#10;                    minDate = LocalDate.now().minusYears(2),&#13;&#10;                    maxDate = LocalDate.now(),&#13;&#10;                    onSelectedDate = {&#13;&#10;                        selectedToDate = it&#13;&#10;                        isShowToDatePicker = false&#13;&#10;                    },&#13;&#10;                    onDismiss = {&#13;&#10;                        isShowToDatePicker = false&#13;&#10;                    }&#13;&#10;                )&#13;&#10;&#13;&#10;            }&#13;&#10;&#13;&#10;        }&#13;&#10;&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun CustomSwitchButton(&#13;&#10;    switchPadding: Dp = 4.dp,&#13;&#10;    buttonWidth: Dp = 60.dp,&#13;&#10;    buttonHeight: Dp = 30.dp,&#13;&#10;    value: Boolean,&#13;&#10;    onClick: () -&gt; Unit&#13;&#10;) {&#13;&#10;&#13;&#10;    val switchSize by remember {&#13;&#10;        mutableStateOf(buttonHeight - switchPadding * 2)&#13;&#10;    }&#13;&#10;&#13;&#10;    val interactionSource = remember {&#13;&#10;        MutableInteractionSource()&#13;&#10;    }&#13;&#10;&#13;&#10;&#13;&#10;    var padding by remember {&#13;&#10;        mutableStateOf(0.dp)&#13;&#10;    }&#13;&#10;&#13;&#10;    padding = if (value) buttonWidth - switchSize - switchPadding * 2 else 0.dp&#13;&#10;&#13;&#10;    val animateSize by animateDpAsState(&#13;&#10;        targetValue = if (value) padding else 0.dp,&#13;&#10;        tween(&#13;&#10;            durationMillis = 700,&#13;&#10;            delayMillis = 0,&#13;&#10;            easing = LinearOutSlowInEasing&#13;&#10;        )&#13;&#10;    )&#13;&#10;&#13;&#10;    Box(&#13;&#10;        modifier = Modifier&#13;&#10;            .width(buttonWidth)&#13;&#10;            .height(buttonHeight)&#13;&#10;            .clip(CircleShape)&#13;&#10;            .background(if (value) Green1 else Color.LightGray)&#13;&#10;            .clickable(&#13;&#10;                interactionSource = interactionSource,&#13;&#10;                indication = null&#13;&#10;            ) {&#13;&#10;&#13;&#10;                onClick()&#13;&#10;&#13;&#10;            }&#13;&#10;    ) {&#13;&#10;        Row(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxSize()&#13;&#10;                .padding(switchPadding)&#13;&#10;        ) {&#13;&#10;&#13;&#10;            Box(&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxHeight()&#13;&#10;                    .width(animateSize)&#13;&#10;                    .background(Color.Transparent)&#13;&#10;            )&#13;&#10;&#13;&#10;            Box(&#13;&#10;                modifier = Modifier&#13;&#10;                    .size(switchSize)&#13;&#10;                    .clip(CircleShape)&#13;&#10;                    .background(Color.White)&#13;&#10;            )&#13;&#10;&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun Example2Page(&#13;&#10;    close: () -&gt; Unit = {},&#13;&#10;    dateSelected: (startDate: LocalDate, endDate: LocalDate) -&gt; Unit = { _, _ -&gt; },&#13;&#10;) {&#13;&#10;    val currentMonth = remember { YearMonth.now() }&#13;&#10;    val startMonth = remember { currentMonth }&#13;&#10;    val endMonth = remember { currentMonth.plusMonths(12) }&#13;&#10;    val today = remember { LocalDate.now() }&#13;&#10;    var selection by remember {&#13;&#10;        mutableStateOf(&#13;&#10;            DateSelection(&#13;&#10;                startDate = LocalDate.now().plusDays(1),&#13;&#10;                endDate = LocalDate.now().plusDays(3)&#13;&#10;            )&#13;&#10;        )&#13;&#10;    }&#13;&#10;    val daysOfWeek = remember { daysOfWeek() }&#13;&#10;    MaterialTheme(colorScheme = MaterialTheme.colorScheme.copy(primary = Blue1)) {&#13;&#10;        Box(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxSize()&#13;&#10;                .background(Color.White)&#13;&#10;                .padding(10.dp),&#13;&#10;        ) {&#13;&#10;            Column {&#13;&#10;                val state = rememberCalendarState(&#13;&#10;                    startMonth = startMonth,&#13;&#10;                    endMonth = endMonth,&#13;&#10;                    firstVisibleMonth = currentMonth,&#13;&#10;                    firstDayOfWeek = daysOfWeek.first(),&#13;&#10;                )&#13;&#10;                CalendarTop(&#13;&#10;                    daysOfWeek = daysOfWeek,&#13;&#10;                    selection = selection,&#13;&#10;                    close = close,&#13;&#10;                    clearDates = { selection = DateSelection() },&#13;&#10;                )&#13;&#10;                VerticalCalendar(&#13;&#10;                    state = state,&#13;&#10;                    contentPadding = PaddingValues(bottom = 100.dp),&#13;&#10;                    dayContent = { value -&gt;&#13;&#10;&#13;&#10;                        Day(&#13;&#10;                            value,&#13;&#10;                            today = today,&#13;&#10;                            selection = selection,&#13;&#10;                            isInMonth = value.position == DayPosition.MonthDate,&#13;&#10;                        ) { day -&gt;&#13;&#10;                            if (day.position == DayPosition.MonthDate &amp;&amp;&#13;&#10;                                (day.date == today || day.date.isAfter(today))&#13;&#10;                            ) {&#13;&#10;                                selection = getSelection(&#13;&#10;                                    clickedDate = day.date,&#13;&#10;                                    dateSelection = selection,&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;                        }&#13;&#10;                    },&#13;&#10;                    monthHeader = { month -&gt; MonthHeader(month) },&#13;&#10;                )&#13;&#10;            }&#13;&#10;            CalendarBottom(&#13;&#10;                modifier = Modifier&#13;&#10;                    .wrapContentHeight()&#13;&#10;                    .fillMaxWidth()&#13;&#10;                    .background(Color.White)&#13;&#10;                    .align(Alignment.BottomCenter),&#13;&#10;                selection = selection,&#13;&#10;                save = {&#13;&#10;                    val (startDate, endDate) = selection&#13;&#10;                    if (startDate != null &amp;&amp; endDate != null) {&#13;&#10;                        dateSelected(startDate, endDate)&#13;&#10;                    }&#13;&#10;                },&#13;&#10;            )&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;private fun Day(&#13;&#10;    day: CalendarDay,&#13;&#10;    today: LocalDate,&#13;&#10;    selection: DateSelection,&#13;&#10;    isInMonth: Boolean,&#13;&#10;    onClick: (CalendarDay) -&gt; Unit,&#13;&#10;) {&#13;&#10;    var textColor = Black1&#13;&#10;&#13;&#10;    Box(&#13;&#10;        modifier = Modifier&#13;&#10;            .aspectRatio(1f) // This is important for square-sizing!&#13;&#10;            .clickable(&#13;&#10;                enabled = day.position == DayPosition.MonthDate &amp;&amp; day.date &gt;= today,&#13;&#10;                onClick = { onClick(day) },&#13;&#10;            )&#13;&#10;            .backgroundHighlight(&#13;&#10;                day = day,&#13;&#10;                today = today,&#13;&#10;                selection = selection,&#13;&#10;            ) { textColor = it },&#13;&#10;        contentAlignment = Alignment.Center,&#13;&#10;    ) {&#13;&#10;        Text(&#13;&#10;            text = day.date.dayOfMonth.toString(),&#13;&#10;            color = if (isInMonth) textColor else Gray1.copy(0.8f),&#13;&#10;            fontSize = 16.sp,&#13;&#10;            fontWeight = FontWeight.Medium,&#13;&#10;        )&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;private fun MonthHeader(calendarMonth: CalendarMonth) {&#13;&#10;    Box(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxWidth()&#13;&#10;            .padding(top = 12.dp, bottom = 8.dp, start = 16.dp, end = 16.dp),&#13;&#10;    ) {&#13;&#10;        Text(&#13;&#10;            textAlign = TextAlign.Center,&#13;&#10;            text = calendarMonth.yearMonth.toString(),&#13;&#10;            fontSize = 18.sp,&#13;&#10;            fontWeight = FontWeight.Bold,&#13;&#10;        )&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;private fun CalendarTop(&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    daysOfWeek: List&lt;DayOfWeek&gt;,&#13;&#10;    selection: DateSelection,&#13;&#10;    close: () -&gt; Unit,&#13;&#10;    clearDates: () -&gt; Unit,&#13;&#10;) {&#13;&#10;    Column(modifier.fillMaxWidth()) {&#13;&#10;        Column(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .padding(top = 6.dp, bottom = 10.dp),&#13;&#10;            verticalArrangement = Arrangement.spacedBy(10.dp),&#13;&#10;        ) {&#13;&#10;            Row(&#13;&#10;                modifier = Modifier.height(IntrinsicSize.Max),&#13;&#10;                verticalAlignment = Alignment.CenterVertically,&#13;&#10;            ) {&#13;&#10;                Icon(&#13;&#10;                    modifier = Modifier&#13;&#10;                        .fillMaxHeight()&#13;&#10;                        .aspectRatio(1f)&#13;&#10;                        .clip(CircleShape)&#13;&#10;                        .clickable(onClick = close)&#13;&#10;                        .padding(12.dp),&#13;&#10;                    painter = painterResource(id = R.drawable.close),&#13;&#10;                    contentDescription = &quot;Close&quot;,&#13;&#10;                )&#13;&#10;                Spacer(modifier = Modifier.weight(1f))&#13;&#10;                Text(&#13;&#10;                    modifier = Modifier&#13;&#10;                        .clip(RoundedCornerShape(percent = 50))&#13;&#10;                        .clickable(onClick = clearDates)&#13;&#10;                        .padding(horizontal = 16.dp, vertical = 8.dp),&#13;&#10;                    text = &quot;Clear&quot;,&#13;&#10;                    fontWeight = FontWeight.Medium,&#13;&#10;                    textAlign = TextAlign.End,&#13;&#10;                )&#13;&#10;            }&#13;&#10;            val daysBetween = selection.daysBetween&#13;&#10;            val text = if (daysBetween == null) {&#13;&#10;                &quot;Select dates&quot;&#13;&#10;            } else {&#13;&#10;                // Ideally you'd do this using the strings.xml file&#13;&#10;                &quot;$daysBetween ${if (daysBetween == 1L) &quot;night&quot; else &quot;nights&quot;} in Munich&quot;&#13;&#10;            }&#13;&#10;            Text(&#13;&#10;                modifier = Modifier.padding(horizontal = 14.dp),&#13;&#10;                text = text,&#13;&#10;                fontWeight = FontWeight.Bold,&#13;&#10;                fontSize = 24.sp,&#13;&#10;            )&#13;&#10;            Row(&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxWidth()&#13;&#10;                    .padding(top = 4.dp),&#13;&#10;            ) {&#13;&#10;                for (dayOfWeek in daysOfWeek) {&#13;&#10;                    Text(&#13;&#10;                        modifier = Modifier.weight(1f),&#13;&#10;                        textAlign = TextAlign.Center,&#13;&#10;                        color = Color.DarkGray,&#13;&#10;                        text = dayOfWeek.toString().substring(0, 1),&#13;&#10;                        fontSize = 15.sp,&#13;&#10;                    )&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;        HorizontalDivider()&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;private fun CalendarBottom(&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    selection: DateSelection,&#13;&#10;    save: () -&gt; Unit,&#13;&#10;) {&#13;&#10;    Column(modifier.fillMaxWidth()) {&#13;&#10;        HorizontalDivider()&#13;&#10;        Row(&#13;&#10;            modifier = Modifier.padding(16.dp),&#13;&#10;            verticalAlignment = Alignment.CenterVertically,&#13;&#10;        ) {&#13;&#10;            Text(&#13;&#10;                text = &quot;€75 night&quot;,&#13;&#10;                fontWeight = FontWeight.Bold,&#13;&#10;            )&#13;&#10;            Spacer(modifier = Modifier.weight(1f))&#13;&#10;            Button(&#13;&#10;                modifier = Modifier&#13;&#10;                    .height(40.dp)&#13;&#10;                    .width(100.dp),&#13;&#10;                onClick = save,&#13;&#10;                enabled = selection.daysBetween != null,&#13;&#10;            ) {&#13;&#10;                Text(text = &quot;Save&quot;)&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun CustomDatePicker(&#13;&#10;    minDate: LocalDate,&#13;&#10;    maxDate: LocalDate,&#13;&#10;    onSelectedDate: (LocalDate) -&gt; Unit,&#13;&#10;    onDismiss: () -&gt; Unit&#13;&#10;) {&#13;&#10;    var selectedDate by remember { mutableStateOf&lt;LocalDate&gt;(LocalDate.now()) }&#13;&#10;&#13;&#10;    Column(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxWidth()&#13;&#10;            .background(&#13;&#10;                color = Black1,&#13;&#10;                shape = RoundedCornerShape(20.dp)&#13;&#10;            ),&#13;&#10;        horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;    ) {&#13;&#10;        WheelDatePicker(&#13;&#10;            startDate = selectedDate,&#13;&#10;            minDate = minDate,&#13;&#10;            maxDate = maxDate,&#13;&#10;            textColor = White1,&#13;&#10;            selectorProperties = object : SelectorProperties {&#13;&#10;                @Composable&#13;&#10;                override fun border(): State&lt;BorderStroke?&gt; {&#13;&#10;                    return remember {&#13;&#10;                        mutableStateOf(&#13;&#10;                            BorderStroke(&#13;&#10;                                width = 2.dp,&#13;&#10;                                color = Color.Transparent&#13;&#10;                            )&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;&#13;&#10;                @Composable&#13;&#10;                override fun color(): State&lt;Color&gt; {&#13;&#10;                    return remember {&#13;&#10;&#13;&#10;                        mutableStateOf(&#13;&#10;                            Color.Transparent&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;&#13;&#10;                @Composable&#13;&#10;                override fun enabled(): State&lt;Boolean&gt; {&#13;&#10;                    return remember {&#13;&#10;                        mutableStateOf(&#13;&#10;                            true&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;&#13;&#10;                @Composable&#13;&#10;                override fun shape(): State&lt;Shape&gt; {&#13;&#10;                    return remember {&#13;&#10;                        mutableStateOf(&#13;&#10;                            RoundedCornerShape(0.dp)&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            },&#13;&#10;        ) { date -&gt;&#13;&#10;            selectedDate = date&#13;&#10;        }&#13;&#10;&#13;&#10;        Row(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .padding(horizontal = 20.dp),&#13;&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp, Alignment.CenterHorizontally),&#13;&#10;&#13;&#10;            ) {&#13;&#10;            TextButton(&#13;&#10;                onClick = {&#13;&#10;                    onDismiss()&#13;&#10;                },&#13;&#10;                contentPadding = PaddingValues(horizontal = 40.dp)&#13;&#10;            ) {&#13;&#10;                Text(&quot;Thoát&quot;, color = White1)&#13;&#10;            }&#13;&#10;            TextButton(&#13;&#10;                onClick = {&#13;&#10;                    onSelectedDate(selectedDate)&#13;&#10;                },&#13;&#10;                contentPadding = PaddingValues(horizontal = 40.dp)&#13;&#10;            ) {&#13;&#10;                Text(&quot;OK&quot;, color = White1)&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun CustomMonthYearPicker(&#13;&#10;    initialDate: LocalDate = LocalDate.now(),&#13;&#10;    minDate: LocalDate = LocalDate.now().minusYears(10),&#13;&#10;    maxDate: LocalDate = LocalDate.now().plusYears(10),&#13;&#10;    onSelectedDate: (LocalDate) -&gt; Unit,&#13;&#10;    onDismiss: () -&gt; Unit&#13;&#10;) {&#13;&#10;    var selectedYear by remember { mutableStateOf(initialDate.year) }&#13;&#10;    var selectedMonth by remember { mutableStateOf(initialDate.monthValue) }&#13;&#10;&#13;&#10;    val months = listOf(&#13;&#10;        &quot;Tháng 1&quot;, &quot;Tháng 2&quot;, &quot;Tháng 3&quot;, &quot;Tháng 4&quot;,&#13;&#10;        &quot;Tháng 5&quot;, &quot;Tháng 6&quot;, &quot;Tháng 7&quot;, &quot;Tháng 8&quot;,&#13;&#10;        &quot;Tháng 9&quot;, &quot;Tháng 10&quot;, &quot;Tháng 11&quot;, &quot;Tháng 12&quot;&#13;&#10;    )&#13;&#10;&#13;&#10;    val minYear = minDate.year&#13;&#10;    val maxYear = maxDate.year&#13;&#10;&#13;&#10;    Column(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxWidth()&#13;&#10;            .background(&#13;&#10;                color = White1,&#13;&#10;                shape = RoundedCornerShape(20.dp)&#13;&#10;            )&#13;&#10;            .padding(20.dp),&#13;&#10;        horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;        verticalArrangement = Arrangement.spacedBy(16.dp)&#13;&#10;    ) {&#13;&#10;        // Header&#13;&#10;        Text(&#13;&#10;            text = &quot;Chọn tháng và năm&quot;,&#13;&#10;            style = AppTypography.bodyLarge.copy(&#13;&#10;                fontWeight = FontWeight.Bold&#13;&#10;            ),&#13;&#10;            color = Black1&#13;&#10;        )&#13;&#10;&#13;&#10;        // Year selector&#13;&#10;        Row(&#13;&#10;            modifier = Modifier.fillMaxWidth(),&#13;&#10;            horizontalArrangement = Arrangement.SpaceBetween,&#13;&#10;            verticalAlignment = Alignment.CenterVertically&#13;&#10;        ) {&#13;&#10;            IconButton(&#13;&#10;                onClick = {&#13;&#10;                    if (selectedYear &gt; minYear) selectedYear--&#13;&#10;                },&#13;&#10;                enabled = selectedYear &gt; minYear&#13;&#10;            ) {&#13;&#10;                Icon(&#13;&#10;                    painter = painterResource(R.drawable.arrow_left),&#13;&#10;                    contentDescription = &quot;Previous year&quot;,&#13;&#10;                    tint = if (selectedYear &gt; minYear) Blue1 else Gray1&#13;&#10;                )&#13;&#10;            }&#13;&#10;&#13;&#10;            Text(&#13;&#10;                text = &quot;Năm $selectedYear&quot;,&#13;&#10;                style = AppTypography.bodyLarge.copy(&#13;&#10;                    fontWeight = FontWeight.SemiBold&#13;&#10;                ),&#13;&#10;                color = Blue1&#13;&#10;            )&#13;&#10;&#13;&#10;            IconButton(&#13;&#10;                onClick = {&#13;&#10;                    if (selectedYear &lt; maxYear) selectedYear++&#13;&#10;                },&#13;&#10;                enabled = selectedYear &lt; maxYear&#13;&#10;            ) {&#13;&#10;                Icon(&#13;&#10;                    painter = painterResource(R.drawable.arrow_right),&#13;&#10;                    contentDescription = &quot;Next year&quot;,&#13;&#10;                    tint = if (selectedYear &lt; maxYear) Blue1 else Gray1&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        // Month grid&#13;&#10;        LazyVerticalGrid(&#13;&#10;            columns = GridCells.Fixed(3),&#13;&#10;            modifier = Modifier.fillMaxWidth(),&#13;&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp),&#13;&#10;            verticalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;        ) {&#13;&#10;            items(12) { index -&gt;&#13;&#10;                val monthValue = index + 1&#13;&#10;                val isSelected = selectedMonth == monthValue&#13;&#10;                val isEnabled = isMonthEnabled(selectedYear, monthValue, minDate, maxDate)&#13;&#10;&#13;&#10;                Box(&#13;&#10;                    modifier = Modifier&#13;&#10;                        .aspectRatio(1.5f)&#13;&#10;                        .background(&#13;&#10;                            color = when {&#13;&#10;                                isSelected -&gt; Blue1&#13;&#10;                                !isEnabled -&gt; Gray2.copy(alpha = 0.3f)&#13;&#10;                                else -&gt; Blue6.copy(alpha = 0.3f)&#13;&#10;                            },&#13;&#10;                            shape = RoundedCornerShape(12.dp)&#13;&#10;                        )&#13;&#10;                        .border(&#13;&#10;                            width = if (isSelected) 2.dp else 0.dp,&#13;&#10;                            color = if (isSelected) Blue3 else Color.Transparent,&#13;&#10;                            shape = RoundedCornerShape(12.dp)&#13;&#10;                        )&#13;&#10;                        .then(&#13;&#10;                            if (isEnabled) {&#13;&#10;                                Modifier.customClick(&#13;&#10;                                    onClick = {&#13;&#10;                                        selectedMonth = monthValue&#13;&#10;                                    },&#13;&#10;                                    shape = RoundedCornerShape(12.dp)&#13;&#10;                                )&#13;&#10;                            } else {&#13;&#10;                                Modifier&#13;&#10;                            }&#13;&#10;                        ),&#13;&#10;                    contentAlignment = Alignment.Center&#13;&#10;                ) {&#13;&#10;                    Text(&#13;&#10;                        text = months[index],&#13;&#10;                        style = AppTypography.bodyMedium.copy(&#13;&#10;                            fontWeight = if (isSelected) FontWeight.Bold else FontWeight.Normal&#13;&#10;                        ),&#13;&#10;                        color = when {&#13;&#10;                            isSelected -&gt; White1&#13;&#10;                            !isEnabled -&gt; Gray1&#13;&#10;                            else -&gt; Black1&#13;&#10;                        }&#13;&#10;                    )&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        // Action buttons&#13;&#10;//        Row(&#13;&#10;//            modifier = Modifier.fillMaxWidth(),&#13;&#10;//            horizontalArrangement = Arrangement.spacedBy(10.dp, Alignment.CenterHorizontally)&#13;&#10;//        ) {&#13;&#10;//            Row(&#13;&#10;//&#13;&#10;//                modifier = Modifier&#13;&#10;//                    .weight(1f)&#13;&#10;//                    .customClick(onClick = onDismiss)&#13;&#10;//            ) {&#13;&#10;//                Text(&#13;&#10;//                    text = &quot;Hủy&quot;,&#13;&#10;//                    color = Black1,&#13;&#10;//                    style = AppTypography.bodyMedium&#13;&#10;//                )&#13;&#10;//            }&#13;&#10;//&#13;&#10;//            TextButton(&#13;&#10;//                onClick = {&#13;&#10;//                    val selectedDate = LocalDate.of(selectedYear, selectedMonth, 1)&#13;&#10;//                    onSelectedDate(selectedDate)&#13;&#10;//                },&#13;&#10;//                modifier = Modifier&#13;&#10;//                    .weight(1f)&#13;&#10;//                    .background(&#13;&#10;//                        color = Blue1,&#13;&#10;//                        shape = RoundedCornerShape(12.dp)&#13;&#10;//                    )&#13;&#10;//            ) {&#13;&#10;//                Text(&#13;&#10;//                    text = &quot;Xác nhận&quot;,&#13;&#10;//                    color = White1,&#13;&#10;//                    style = AppTypography.bodyMedium.copy(&#13;&#10;//                        fontWeight = FontWeight.Bold&#13;&#10;//                    )&#13;&#10;//                )&#13;&#10;//            }&#13;&#10;//        }&#13;&#10;        Row(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .padding(horizontal = 10.dp),&#13;&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp),&#13;&#10;            verticalAlignment = Alignment.CenterVertically&#13;&#10;        ) {&#13;&#10;            Row(&#13;&#10;                modifier = Modifier&#13;&#10;                    .weight(1f)&#13;&#10;                    .clickable {&#13;&#10;                        onDismiss()&#13;&#10;                    }&#13;&#10;                    .padding(vertical = 10.dp),&#13;&#10;                horizontalArrangement = Arrangement.Center,&#13;&#10;            ) {&#13;&#10;                Text(&#13;&#10;                    text = &quot;Hủy&quot;,&#13;&#10;                    style = AppTypography.bodyMedium.copy(&#13;&#10;                        fontWeight = FontWeight.Bold&#13;&#10;                    ),&#13;&#10;                    color = Blue5&#13;&#10;                )&#13;&#10;            }&#13;&#10;            Row(&#13;&#10;                modifier = Modifier&#13;&#10;                    .weight(1f)&#13;&#10;                    .background(&#13;&#10;                        color = Blue5,&#13;&#10;                        shape = RoundedCornerShape(10.dp)&#13;&#10;                    )&#13;&#10;                    .shadow(&#13;&#10;                        elevation = 10.dp,&#13;&#10;                        shape = RoundedCornerShape(10.dp),&#13;&#10;                        ambientColor = Color.Transparent,&#13;&#10;                        spotColor = Color.Transparent&#13;&#10;                    )&#13;&#10;                    .clickable {&#13;&#10;                        val selectedDate = LocalDate.of(selectedYear, selectedMonth, 1)&#13;&#10;                        onSelectedDate(selectedDate)&#13;&#10;                    }&#13;&#10;                    .padding(vertical = 10.dp),&#13;&#10;                horizontalArrangement = Arrangement.Center,&#13;&#10;            ) {&#13;&#10;                Text(&#13;&#10;                    text = &quot;Xác nhận&quot;,&#13;&#10;                    style = AppTypography.bodyMedium.copy(&#13;&#10;                        fontWeight = FontWeight.Bold&#13;&#10;                    ),&#13;&#10;                    color = White1&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;private fun isMonthEnabled(&#13;&#10;    year: Int,&#13;&#10;    month: Int,&#13;&#10;    minDate: LocalDate,&#13;&#10;    maxDate: LocalDate&#13;&#10;): Boolean {&#13;&#10;    val date = LocalDate.of(year, month, 1)&#13;&#10;    val minYearMonth = LocalDate.of(minDate.year, minDate.monthValue, 1)&#13;&#10;    val maxYearMonth = LocalDate.of(maxDate.year, maxDate.monthValue, 1)&#13;&#10;    return !date.isBefore(minYearMonth) &amp;&amp; !date.isAfter(maxYearMonth)&#13;&#10;}&#13;&#10;&#13;&#10;//@Preview(heightDp = 800)&#13;&#10;//@Composable&#13;&#10;//private fun Example2Preview() {&#13;&#10;//    Example2Page()&#13;&#10;//}&#13;&#10;@Composable&#13;&#10;fun CustomClickField(&#13;&#10;    onClick: () -&gt; Unit,&#13;&#10;    value: String,&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    placeholder: String = &quot;&quot;,&#13;&#10;    trailingIcon: @Composable (() -&gt; Unit) = { },&#13;&#10;) {&#13;&#10;&#13;&#10;&#13;&#10;    Box(modifier = modifier) {&#13;&#10;        Row(&#13;&#10;            verticalAlignment = Alignment.CenterVertically,&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .shadow(&#13;&#10;                    elevation = 30.dp,&#13;&#10;                    shape = RoundedCornerShape(30),&#13;&#10;                    ambientColor = Black1.copy(alpha = 0.25f),&#13;&#10;                    spotColor = Black1.copy(alpha = 0.25f)&#13;&#10;                )&#13;&#10;                .border(&#13;&#10;                    width = 1.dp, color = Gray2, shape = RoundedCornerShape(30)&#13;&#10;                )&#13;&#10;                .background(&#13;&#10;                    color = White1, shape = RoundedCornerShape(30)&#13;&#10;                )&#13;&#10;                .clickable {&#13;&#10;                    onClick()&#13;&#10;                }&#13;&#10;                .padding(15.dp)) {&#13;&#10;            Column(&#13;&#10;                verticalArrangement = Arrangement.Center, modifier = Modifier.weight(1f)&#13;&#10;            ) {&#13;&#10;                if (value == &quot;&quot;) Text(&#13;&#10;                    text = placeholder, style = AppTypography.bodyMedium, color = Gray2&#13;&#10;                )&#13;&#10;                else Text(&#13;&#10;                    text = value, style = AppTypography.bodyMedium, color = Black1&#13;&#10;                )&#13;&#10;&#13;&#10;            }&#13;&#10;            trailingIcon()&#13;&#10;&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun CustomConfirmDialog(&#13;&#10;    dimissText: String,&#13;&#10;    confirmText: String,&#13;&#10;    onDimiss: () -&gt; Unit,&#13;&#10;    onConfirm: () -&gt; Unit,&#13;&#10;    message: @Composable () -&gt; Unit,&#13;&#10;) {&#13;&#10;    Box(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxSize()&#13;&#10;            .background(&#13;&#10;                color = Gray3.copy(alpha = 0.5f),&#13;&#10;            )&#13;&#10;            .padding(20.dp)&#13;&#10;            .pointerInput(Unit) {},&#13;&#10;        contentAlignment = Alignment.Center&#13;&#10;    ) {&#13;&#10;        Box(&#13;&#10;            contentAlignment = Alignment.TopEnd,&#13;&#10;            modifier = Modifier&#13;&#10;                .background(&#13;&#10;                    color = White1,&#13;&#10;                    shape = RoundedCornerShape(10.dp)&#13;&#10;                )&#13;&#10;                .padding(10.dp)&#13;&#10;        ) {&#13;&#10;            Column(&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxWidth()&#13;&#10;&#13;&#10;                    .padding(horizontal = 20.dp),&#13;&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;                verticalArrangement = Arrangement.spacedBy(20.dp)&#13;&#10;            ) {&#13;&#10;                message()&#13;&#10;                Row(&#13;&#10;                    modifier = Modifier&#13;&#10;                        .fillMaxWidth()&#13;&#10;                        .padding(horizontal = 10.dp),&#13;&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp),&#13;&#10;                    verticalAlignment = Alignment.CenterVertically&#13;&#10;                ) {&#13;&#10;                    Row(&#13;&#10;                        modifier = Modifier&#13;&#10;                            .weight(1f)&#13;&#10;                            .clickable {&#13;&#10;                                onDimiss()&#13;&#10;                            }&#13;&#10;                            .padding(vertical = 10.dp),&#13;&#10;                        horizontalArrangement = Arrangement.Center,&#13;&#10;                    ) {&#13;&#10;                        Text(&#13;&#10;                            text = dimissText,&#13;&#10;                            style = AppTypography.bodyMedium.copy(&#13;&#10;                                fontWeight = FontWeight.Bold&#13;&#10;                            ),&#13;&#10;                            color = Blue5&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                    Row(&#13;&#10;                        modifier = Modifier&#13;&#10;                            .weight(1f)&#13;&#10;                            .background(&#13;&#10;                                color = Blue5,&#13;&#10;                                shape = RoundedCornerShape(10.dp)&#13;&#10;                            )&#13;&#10;                            .shadow(&#13;&#10;                                elevation = 10.dp,&#13;&#10;                                shape = RoundedCornerShape(10.dp),&#13;&#10;                                ambientColor = Color.Transparent,&#13;&#10;                                spotColor = Color.Transparent&#13;&#10;                            )&#13;&#10;                            .clickable {&#13;&#10;                                onConfirm()&#13;&#10;                            }&#13;&#10;                            .padding(vertical = 10.dp),&#13;&#10;                        horizontalArrangement = Arrangement.Center,&#13;&#10;                    ) {&#13;&#10;                        Text(&#13;&#10;                            text = confirmText,&#13;&#10;                            style = AppTypography.bodyMedium.copy(&#13;&#10;                                fontWeight = FontWeight.Bold&#13;&#10;                            ),&#13;&#10;                            color = White1&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            }&#13;&#10;            Row(&#13;&#10;                modifier = Modifier&#13;&#10;                    .shadow(&#13;&#10;                        elevation = 10.dp,&#13;&#10;                        shape = CircleShape,&#13;&#10;                        ambientColor = Color.Transparent,&#13;&#10;                        spotColor = Color.Transparent&#13;&#10;                    )&#13;&#10;                    .clickable {&#13;&#10;                        onDimiss()&#13;&#10;                    }&#13;&#10;            ) {&#13;&#10;                Icon(&#13;&#10;                    painter = painterResource(R.drawable.close), contentDescription = null,&#13;&#10;                    modifier = Modifier.size(25.dp)&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;    }&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun ProgressBarWithLabel(&#13;&#10;    progress: Float,&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    progressColor: Color = Color(0xFF00BCD4),&#13;&#10;    backgroundColor: Color = Color(0xFFE0E0E0),&#13;&#10;    labelBackgroundColor: Color = Color.White,&#13;&#10;    labelBorderColor: Color = Color(0xFF9E9E9E),&#13;&#10;    labelTextColor: Color = Color.Black,&#13;&#10;    progressHeight: Dp = 8.dp,&#13;&#10;    animationDuration: Int = 1000&#13;&#10;) {&#13;&#10;    val animatedProgress by animateFloatAsState(&#13;&#10;        targetValue = progress.coerceIn(0f, 1f),&#13;&#10;        animationSpec = tween(durationMillis = animationDuration, easing = EaseInOut),&#13;&#10;        label = &quot;progress&quot;&#13;&#10;    )&#13;&#10;&#13;&#10;    val percentage = (animatedProgress * 100).toInt()&#13;&#10;&#13;&#10;    // Keep measured widths in px&#13;&#10;    val progressBarWidthPx = remember { mutableStateOf(0) }&#13;&#10;    val labelWidthPx = remember { mutableStateOf(0) }&#13;&#10;&#13;&#10;    Box(&#13;&#10;        modifier = modifier&#13;&#10;            .fillMaxWidth()&#13;&#10;            .height(progressHeight + 40.dp)&#13;&#10;    ) {&#13;&#10;        // Background bar - measure its width&#13;&#10;        Box(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;                .height(progressHeight)&#13;&#10;                .align(Alignment.CenterStart)&#13;&#10;                .onGloballyPositioned { coordinates -&gt;&#13;&#10;                    progressBarWidthPx.value = coordinates.size.width&#13;&#10;                }&#13;&#10;                .clip(RoundedCornerShape(progressHeight / 2))&#13;&#10;                .background(backgroundColor)&#13;&#10;        )&#13;&#10;&#13;&#10;        // Progress fill&#13;&#10;        Box(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth(animatedProgress)&#13;&#10;                .height(progressHeight)&#13;&#10;                .align(Alignment.CenterStart)&#13;&#10;                .clip(RoundedCornerShape(progressHeight / 2))&#13;&#10;                .background(&#13;&#10;                    brush = Brush.horizontalGradient(&#13;&#10;                        colors = listOf(&#13;&#10;                            progressColor,&#13;&#10;                            progressColor.copy(alpha = 0.8f)&#13;&#10;                        )&#13;&#10;                    )&#13;&#10;                )&#13;&#10;        )&#13;&#10;&#13;&#10;        // Compute offset for label: center it at (animatedProgress * barWidth)&#13;&#10;        val offsetXDp = with(LocalDensity.current) {&#13;&#10;            if (progressBarWidthPx.value == 0) {&#13;&#10;                0.dp&#13;&#10;            } else {&#13;&#10;                // desired center in px&#13;&#10;                val desiredCenterPx = animatedProgress * progressBarWidthPx.value&#13;&#10;                // label width in px (may be 0 until measured)&#13;&#10;                val lw = labelWidthPx.value.toFloat()&#13;&#10;                // compute left x so that label is centered on desiredCenterPx&#13;&#10;                var leftPx = desiredCenterPx - lw / 2f&#13;&#10;                // clamp to stay inside the progress bar&#13;&#10;                val maxLeftPx = (progressBarWidthPx.value - lw).toFloat().coerceAtLeast(0f)&#13;&#10;                leftPx = leftPx.coerceIn(0f, maxLeftPx)&#13;&#10;                leftPx.toDp()&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;        Box(&#13;&#10;            modifier = Modifier&#13;&#10;                .align(Alignment.CenterStart)&#13;&#10;                .offset(x = offsetXDp)&#13;&#10;        ) {&#13;&#10;            Box(&#13;&#10;                modifier = Modifier&#13;&#10;                    .onGloballyPositioned { coords -&gt;&#13;&#10;                        labelWidthPx.value = coords.size.width&#13;&#10;                    }&#13;&#10;                    .background(&#13;&#10;                        color = labelBackgroundColor,&#13;&#10;                        shape = RoundedCornerShape(16.dp)&#13;&#10;                    )&#13;&#10;                    .border(&#13;&#10;                        width = 1.dp,&#13;&#10;                        color = labelBorderColor,&#13;&#10;                        shape = RoundedCornerShape(16.dp)&#13;&#10;                    )&#13;&#10;                    .padding(horizontal = 12.dp, vertical = 4.dp)&#13;&#10;            ) {&#13;&#10;                Text(&#13;&#10;                    text = &quot;$percentage%&quot;,&#13;&#10;                    style = AppTypography.bodySmall,&#13;&#10;                    color = labelTextColor,&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun InformationLine(&#13;&#10;    title: String,&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;    leading: @Composable (color: Color) -&gt; Unit = {},&#13;&#10;    trailing: @Composable (color: Color) -&gt; Unit = { },&#13;&#10;    color: Color = Gray1,&#13;&#10;    onClick: () -&gt; Unit = {},&#13;&#10;    enable: Boolean = false,&#13;&#10;) {&#13;&#10;    val themeColor = if (enable) color else Gray1&#13;&#10;    Column(&#13;&#10;        modifier = modifier&#13;&#10;            .customClick {&#13;&#10;                if (enable) {&#13;&#10;                    onClick()&#13;&#10;                }&#13;&#10;            }&#13;&#10;            .padding(5.dp),&#13;&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;    ) {&#13;&#10;        Row(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth(),&#13;&#10;            verticalAlignment = Alignment.CenterVertically,&#13;&#10;            horizontalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;        ) {&#13;&#10;            leading(themeColor)&#13;&#10;            Text(&#13;&#10;                text = title,&#13;&#10;                style = AppTypography.bodyMedium,&#13;&#10;                color = themeColor,&#13;&#10;            )&#13;&#10;            Row(&#13;&#10;                modifier = Modifier.weight(1f),&#13;&#10;                horizontalArrangement = Arrangement.End&#13;&#10;            ) {&#13;&#10;                trailing(themeColor)&#13;&#10;&#13;&#10;            }&#13;&#10;&#13;&#10;        }&#13;&#10;        HorizontalDivider(modifier = Modifier.fillMaxWidth())&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun RetryCompose(&#13;&#10;    onRetry: () -&gt; Unit,&#13;&#10;) {&#13;&#10;    Box(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxSize()&#13;&#10;            .background(&#13;&#10;                color = Gray3.copy(alpha = 0.5f),&#13;&#10;            )&#13;&#10;            .padding(20.dp)&#13;&#10;            .pointerInput(Unit) {},&#13;&#10;        contentAlignment = Alignment.Center&#13;&#10;    ) {&#13;&#10;        Column(&#13;&#10;            modifier = Modifier&#13;&#10;                .fillMaxWidth()&#13;&#10;&#13;&#10;                .padding(horizontal = 20.dp),&#13;&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;            verticalArrangement = Arrangement.spacedBy(20.dp)&#13;&#10;        ) {&#13;&#10;            Image(&#13;&#10;                painter = painterResource(R.drawable.error_illustration),&#13;&#10;                contentDescription = null,&#13;&#10;                modifier = Modifier&#13;&#10;                    .height(150.dp)&#13;&#10;                    .width(200.dp)&#13;&#10;            )&#13;&#10;            Column(&#13;&#10;                modifier = Modifier.fillMaxWidth(),&#13;&#10;                verticalArrangement = Arrangement.spacedBy(10.dp),&#13;&#10;            ) {&#13;&#10;                Text(&#13;&#10;                    text = &quot;Oops!&quot;,&#13;&#10;                    style = AppTypography.bodyLarge.copy(&#13;&#10;                        fontWeight = FontWeight.Bold&#13;&#10;                    ),&#13;&#10;                    textAlign = TextAlign.Center,&#13;&#10;                    modifier = Modifier.fillMaxWidth(),&#13;&#10;&#13;&#10;                    )&#13;&#10;                Text(&#13;&#10;                    text = &quot;Có lỗi xảy ra trong quá trình tải dữ liệu. Vui lòng thử lại.&quot;,&#13;&#10;                    style = AppTypography.bodyMedium,&#13;&#10;                    textAlign = TextAlign.Center,&#13;&#10;                    modifier = Modifier.fillMaxWidth(),&#13;&#10;&#13;&#10;                    )&#13;&#10;            }&#13;&#10;            Row(&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxWidth()&#13;&#10;                    .padding(horizontal = 10.dp),&#13;&#10;                horizontalArrangement = Arrangement.Center,&#13;&#10;                verticalAlignment = Alignment.CenterVertically&#13;&#10;            ) {&#13;&#10;                Row(&#13;&#10;                    modifier = Modifier&#13;&#10;                        .background(&#13;&#10;                            color = Blue5,&#13;&#10;                            shape = RoundedCornerShape(10.dp)&#13;&#10;                        )&#13;&#10;                        .customClick(&#13;&#10;                            shape = RoundedCornerShape(10.dp),&#13;&#10;                            onClick = {&#13;&#10;                                onRetry()&#13;&#10;                            }&#13;&#10;                        )&#13;&#10;                        .padding(vertical = 10.dp, horizontal = 20.dp),&#13;&#10;                    horizontalArrangement = Arrangement.spacedBy(&#13;&#10;                        10.dp,&#13;&#10;                        alignment = Alignment.CenterHorizontally&#13;&#10;                    ),&#13;&#10;                    verticalAlignment = Alignment.CenterVertically&#13;&#10;                ) {&#13;&#10;                    Text(&#13;&#10;                        text = &quot;Thử lại&quot;,&#13;&#10;                        style = AppTypography.bodyMedium.copy(&#13;&#10;                            fontWeight = FontWeight.Bold&#13;&#10;                        ),&#13;&#10;                        color = White1&#13;&#10;                    )&#13;&#10;                    Icon(&#13;&#10;                        painter = painterResource(R.drawable.refresh),&#13;&#10;                        contentDescription = null,&#13;&#10;                        tint = White1,&#13;&#10;                        modifier = Modifier.size(25.dp)&#13;&#10;                    )&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;    }&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun SwipeComponent(&#13;&#10;    onStartSwipe: (() -&gt; Unit)?,&#13;&#10;    onEndSwipe: (() -&gt; Unit)?,&#13;&#10;    content: @Composable () -&gt; Unit&#13;&#10;) {&#13;&#10;    val startAction =&#13;&#10;        SwipeAction(&#13;&#10;            icon = {&#13;&#10;                Box(&#13;&#10;                    contentAlignment = Alignment.TopCenter,&#13;&#10;                    modifier = Modifier.padding(end = 10.dp)&#13;&#10;                ) {&#13;&#10;                    Icon(Icons.Outlined.Edit, contentDescription = null)&#13;&#10;                }&#13;&#10;            },&#13;&#10;            onSwipe = {&#13;&#10;                if (onStartSwipe != null) onStartSwipe()&#13;&#10;            },&#13;&#10;            background = Color.Gray,&#13;&#10;        )&#13;&#10;    val endAction =&#13;&#10;        SwipeAction(&#13;&#10;            icon = {&#13;&#10;                Box(&#13;&#10;                    contentAlignment = Alignment.TopCenter,&#13;&#10;                    modifier = Modifier.padding(start = 10.dp)&#13;&#10;                ) {&#13;&#10;                    Icon(Icons.Outlined.Delete, contentDescription = null)&#13;&#10;                }&#13;&#10;            },&#13;&#10;            onSwipe = {&#13;&#10;                if (onEndSwipe != null) onEndSwipe()&#13;&#10;            },&#13;&#10;            background = Color.Red,&#13;&#10;        )&#13;&#10;    SwipeableActionsBox(&#13;&#10;        startActions = if (onStartSwipe == null) emptyList() else listOf(startAction),&#13;&#10;        endActions = if (onEndSwipe == null) emptyList() else listOf(endAction),&#13;&#10;        swipeThreshold = 100.dp,&#13;&#10;        backgroundUntilSwipeThreshold = Color.White,&#13;&#10;    ) {&#13;&#10;        content()&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun SavedReceiverDialog(&#13;&#10;    savedReceivers: List&lt;SavedReceiverInfo&gt;,&#13;&#10;    onSelect: (savedReceiver: SavedReceiverInfo) -&gt; Unit,&#13;&#10;    onDimiss: () -&gt; Unit&#13;&#10;) {&#13;&#10;    Box(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxSize()&#13;&#10;            .background(&#13;&#10;                color = Gray3.copy(alpha = 0.5f),&#13;&#10;            )&#13;&#10;            .padding(20.dp)&#13;&#10;            .pointerInput(Unit) {&#13;&#10;            },&#13;&#10;        contentAlignment = Alignment.Center&#13;&#10;    ) {&#13;&#10;        Box(&#13;&#10;            contentAlignment = Alignment.TopEnd,&#13;&#10;            modifier = Modifier&#13;&#10;                .background(&#13;&#10;                    color = White1,&#13;&#10;                    shape = RoundedCornerShape(10.dp)&#13;&#10;                )&#13;&#10;                .padding(10.dp)&#13;&#10;        ) {&#13;&#10;            Column(&#13;&#10;                modifier = Modifier&#13;&#10;                    .fillMaxWidth()&#13;&#10;&#13;&#10;                    .padding(20.dp),&#13;&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;                verticalArrangement = Arrangement.spacedBy(20.dp)&#13;&#10;            ) {&#13;&#10;                if (savedReceivers.isEmpty()) {&#13;&#10;                    Box(&#13;&#10;                        modifier = Modifier.fillMaxSize(),&#13;&#10;                        contentAlignment = Alignment.Center&#13;&#10;                    ) {&#13;&#10;                        Text(&#13;&#10;                            text = &quot;Không tìm thấy người nhận đã lưu&quot;,&#13;&#10;                            style = AppTypography.bodyMedium,&#13;&#10;                            color = Gray2,&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;                    return@Column&#13;&#10;                }&#13;&#10;                savedReceivers.forEach { savedReceiver -&gt;&#13;&#10;                    Column(&#13;&#10;                        modifier = Modifier&#13;&#10;                            .fillMaxWidth()&#13;&#10;                            .customClick {&#13;&#10;                                onSelect(savedReceiver)&#13;&#10;                            },&#13;&#10;                        verticalArrangement = Arrangement.spacedBy(10.dp),&#13;&#10;                    ) {&#13;&#10;                        Row(&#13;&#10;                            modifier = Modifier&#13;&#10;                                .fillMaxWidth()&#13;&#10;                                .height(IntrinsicSize.Min),&#13;&#10;                            verticalAlignment = Alignment.CenterVertically,&#13;&#10;                            horizontalArrangement = Arrangement.spacedBy(20.dp)&#13;&#10;                        ) {&#13;&#10;                            Row(&#13;&#10;                                modifier = Modifier&#13;&#10;                                    .size(40.dp)&#13;&#10;                                    .background(&#13;&#10;                                        color = Blue5.copy(&#13;&#10;                                            alpha = 0.3f&#13;&#10;                                        ),&#13;&#10;                                        shape = CircleShape&#13;&#10;                                    )&#13;&#10;                                    .clip(CircleShape)&#13;&#10;                                    .padding(5.dp),&#13;&#10;                                horizontalArrangement = Arrangement.Center,&#13;&#10;                                verticalAlignment = Alignment.CenterVertically&#13;&#10;                            ) {&#13;&#10;                                val templateName =&#13;&#10;                                    savedReceiver.toMerchantName.split(&quot; &quot;)&#13;&#10;                                        .mapNotNull { it.firstOrNull()?.toString() }&#13;&#10;                                        .take(2)&#13;&#10;                                        .joinToString(&quot;&quot;)&#13;&#10;                                Text(&#13;&#10;                                    templateName,&#13;&#10;                                    color = Blue1,&#13;&#10;                                    style = AppTypography.bodySmall&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;                            Column(&#13;&#10;                                verticalArrangement = Arrangement.Center&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = savedReceiver.memorableName,&#13;&#10;                                    style = AppTypography.bodyMedium.copy(&#13;&#10;                                        color = Black1&#13;&#10;                                    )&#13;&#10;                                )&#13;&#10;                                Text(&#13;&#10;                                    text = savedReceiver.toMerchantName,&#13;&#10;                                    style = AppTypography.bodySmall.copy(&#13;&#10;                                        color = Gray1&#13;&#10;                                    )&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;                            Column(&#13;&#10;                                modifier = Modifier.fillMaxHeight(),&#13;&#10;                                verticalArrangement = Arrangement.Center&#13;&#10;                            ) {&#13;&#10;                                Text(&#13;&#10;                                    text = savedReceiver.toWalletNumber,&#13;&#10;                                    style = AppTypography.bodyMedium.copy(&#13;&#10;                                        color = Gray1,&#13;&#10;                                        fontWeight = FontWeight.Bold&#13;&#10;                                    )&#13;&#10;                                )&#13;&#10;                            }&#13;&#10;&#13;&#10;                        }&#13;&#10;                        HorizontalDivider(&#13;&#10;                            thickness = 1.dp,&#13;&#10;                            color = Gray2&#13;&#10;                        )&#13;&#10;                    }&#13;&#10;&#13;&#10;&#13;&#10;                }&#13;&#10;            }&#13;&#10;            Row(&#13;&#10;                modifier = Modifier&#13;&#10;                    .shadow(&#13;&#10;                        elevation = 10.dp,&#13;&#10;                        shape = CircleShape,&#13;&#10;                        ambientColor = Color.Transparent,&#13;&#10;                        spotColor = Color.Transparent&#13;&#10;                    )&#13;&#10;                    .clickable {&#13;&#10;                        onDimiss()&#13;&#10;                    }&#13;&#10;            ) {&#13;&#10;                Icon(&#13;&#10;                    painter = painterResource(R.drawable.close), contentDescription = null,&#13;&#10;                    modifier = Modifier.size(25.dp)&#13;&#10;                )&#13;&#10;            }&#13;&#10;        }&#13;&#10;&#13;&#10;    }&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun CustomPieChart(&#13;&#10;    data: List&lt;Pie&gt;,&#13;&#10;    modifier: Modifier = Modifier&#13;&#10;) {&#13;&#10;&#13;&#10;    Column(&#13;&#10;        modifier = modifier,&#13;&#10;        horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;        verticalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;    ) {&#13;&#10;        if (data.isEmpty() || data.all { it.data &lt;= 0 }) {&#13;&#10;&#13;&#10;            Icon(&#13;&#10;                painter = painterResource(id = R.drawable.empty_data),&#13;&#10;                contentDescription = null,&#13;&#10;                tint = Gray1,&#13;&#10;                modifier = Modifier.size(48.dp)&#13;&#10;            )&#13;&#10;            Spacer(modifier = Modifier.height(20.dp))&#13;&#10;            Text(&#13;&#10;                text = &quot;Chưa có dữ liệu để thống kê&quot;,&#13;&#10;                style = AppTypography.bodyMedium,&#13;&#10;                color = Gray1&#13;&#10;            )&#13;&#10;            Text(&#13;&#10;                text = &quot;Hãy phát sinh giao dịch để xem phân bố&quot;,&#13;&#10;                style = AppTypography.bodySmall,&#13;&#10;                color = Gray1&#13;&#10;            )&#13;&#10;&#13;&#10;        } else {&#13;&#10;            PieChart(&#13;&#10;                modifier = Modifier.size(200.dp),&#13;&#10;                data = data,&#13;&#10;                scaleAnimEnterSpec = spring&lt;Float&gt;(&#13;&#10;                    dampingRatio = Spring.DampingRatioMediumBouncy,&#13;&#10;                    stiffness = Spring.StiffnessLow&#13;&#10;                ),&#13;&#10;                selectedScale = 1f,&#13;&#10;                spaceDegree = 3f,&#13;&#10;                selectedPaddingDegree = 0f,&#13;&#10;                style = Pie.Style.Stroke(width = 30.dp)&#13;&#10;&#13;&#10;            )&#13;&#10;&#13;&#10;            data.chunked(3).forEach { chunk -&gt;&#13;&#10;                Row(&#13;&#10;                    modifier = Modifier&#13;&#10;                        .fillMaxWidth()&#13;&#10;                        .padding(bottom = 10.dp),&#13;&#10;                    horizontalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;                ) {&#13;&#10;                    chunk.forEach {&#13;&#10;                        Row(&#13;&#10;                            modifier = Modifier.weight(1f),&#13;&#10;                            horizontalArrangement = Arrangement.spacedBy(&#13;&#10;                                5.dp,&#13;&#10;                                Alignment.CenterHorizontally&#13;&#10;                            ),&#13;&#10;                            verticalAlignment = Alignment.CenterVertically&#13;&#10;                        ) {&#13;&#10;                            Box(&#13;&#10;                                modifier = Modifier&#13;&#10;                                    .size(15.dp)&#13;&#10;                                    .background(color = it.color, shape = RoundedCornerShape(3.dp))&#13;&#10;                            )&#13;&#10;                            Text(&#13;&#10;                                text = it.label ?: &quot;&quot;,&#13;&#10;                                style = AppTypography.bodySmall,&#13;&#10;                                color = Black1&#13;&#10;                            )&#13;&#10;                        }&#13;&#10;&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            }&#13;&#10;&#13;&#10;        }&#13;&#10;&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun CustomBarChart(&#13;&#10;    data: List&lt;Bars&gt;,&#13;&#10;    modifier: Modifier = Modifier&#13;&#10;) {&#13;&#10;    if (data.isEmpty()) {&#13;&#10;        Column(&#13;&#10;            modifier = modifier,&#13;&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#13;&#10;            verticalArrangement = Arrangement.spacedBy(10.dp)&#13;&#10;        ) {&#13;&#10;&#13;&#10;            Icon(&#13;&#10;                painter = painterResource(id = R.drawable.empty_data),&#13;&#10;                contentDescription = null,&#13;&#10;                tint = Gray1,&#13;&#10;                modifier = Modifier.size(48.dp)&#13;&#10;            )&#13;&#10;            Spacer(modifier = Modifier.height(20.dp))&#13;&#10;            Text(&#13;&#10;                text = &quot;Chưa có dữ liệu để thống kê&quot;,&#13;&#10;                style = AppTypography.bodyMedium,&#13;&#10;                color = Gray1&#13;&#10;            )&#13;&#10;            Text(&#13;&#10;                text = &quot;Hãy phát sinh giao dịch để xem phân bố&quot;,&#13;&#10;                style = AppTypography.bodySmall,&#13;&#10;                color = Gray1&#13;&#10;            )&#13;&#10;        }&#13;&#10;    } else&#13;&#10;&#13;&#10;        ColumnChart(&#13;&#10;            modifier = modifier.height(300.dp),&#13;&#10;            data = data,&#13;&#10;            barProperties = BarProperties(&#13;&#10;                cornerRadius = Bars.Data.Radius.Rectangle(topRight = 6.dp, topLeft = 6.dp),&#13;&#10;                spacing = 1.dp,&#13;&#10;                thickness = 20.dp,&#13;&#10;            ),&#13;&#10;            animationSpec = spring(&#13;&#10;                dampingRatio = Spring.DampingRatioMediumBouncy,&#13;&#10;                stiffness = Spring.StiffnessLow&#13;&#10;            ),&#13;&#10;            gridProperties = GridProperties(&#13;&#10;                yAxisProperties = GridProperties.AxisProperties(&#13;&#10;                    enabled = false,&#13;&#10;                ),&#13;&#10;            ),&#13;&#10;            indicatorProperties = HorizontalIndicatorProperties(&#13;&#10;                contentBuilder = { indicator -&gt;&#13;&#10;                    formatterVND(indicator.toLong()) + &quot; VND&quot;&#13;&#10;                },&#13;&#10;            )&#13;&#10;&#13;&#10;        )&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun DefaultImageProfile(&#13;&#10;    name: String,&#13;&#10;    modifier: Modifier = Modifier,&#13;&#10;) {&#13;&#10;    Row(&#13;&#10;        modifier = modifier&#13;&#10;&#13;&#10;            .background(&#13;&#10;                color = Blue5.copy(&#13;&#10;                    alpha = 0.3f&#13;&#10;                ),&#13;&#10;                shape = CircleShape&#13;&#10;            )&#13;&#10;            .clip(CircleShape)&#13;&#10;            .padding(5.dp),&#13;&#10;        horizontalArrangement = Arrangement.Center,&#13;&#10;        verticalAlignment = Alignment.CenterVertically&#13;&#10;    ) {&#13;&#10;        val templateName =&#13;&#10;            name.split(&quot; &quot;)&#13;&#10;                .mapNotNull { it.firstOrNull()?.toString() }&#13;&#10;                .take(2)&#13;&#10;                .joinToString(&quot;&quot;)&#13;&#10;        Text(&#13;&#10;            templateName,&#13;&#10;            color = Blue1,&#13;&#10;            style = AppTypography.bodySmall&#13;&#10;        )&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun shimmerBrush(): Brush {&#13;&#10;    val transition = rememberInfiniteTransition(label = &quot;shimmer&quot;)&#13;&#10;    val translateAnim = transition.animateFloat(&#13;&#10;        initialValue = 0f,&#13;&#10;        targetValue = 1000f,&#13;&#10;        animationSpec = infiniteRepeatable(&#13;&#10;            animation = tween(1200, easing = LinearEasing),&#13;&#10;            repeatMode = RepeatMode.Restart&#13;&#10;        ),&#13;&#10;        label = &quot;shimmer_anim&quot;&#13;&#10;    )&#13;&#10;&#13;&#10;    return Brush.linearGradient(&#13;&#10;        colors = listOf(&#13;&#10;            Color.LightGray.copy(alpha = 0.6f),&#13;&#10;            Color.LightGray.copy(alpha = 0.3f),&#13;&#10;            Color.LightGray.copy(alpha = 0.6f),&#13;&#10;        ),&#13;&#10;        start = Offset(translateAnim.value - 1000f, 0f),&#13;&#10;        end = Offset(translateAnim.value, 0f)&#13;&#10;    )&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#10;fun SkeletonBox(&#10;    modifier: Modifier = Modifier,&#10;    shape: Shape = RoundedCornerShape(8.dp)&#10;) {&#10;    Box(&#10;        modifier = modifier&#10;            .background(&#10;                brush = shimmerBrush(),&#10;                shape = shape&#10;            )&#10;    )&#10;}&#10;&#10;@Composable&#10;fun Modifier.shimmerEffect(): Modifier {&#10;    val brush = shimmerBrush()&#10;    return this.background(brush)&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;@Preview()&#13;&#10;fun Preview() {&#13;&#10;    ProgressBarWithLabel(&#13;&#10;        0.2f&#13;&#10;    )&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>